[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Estatística e Ciência de Dados",
    "section": "",
    "text": "Nota Prévia\nNum momento em que surgem modelos de IA sofisticados e ferramentas de análise de dados poderosas, um novo texto sobre Estatística, não só se justifica, como poderá ser um ativo valioso para navegar um mundo orientado pelos dados. À medida que aqueles modelos estão cada vez mais integrados na tomada de decisão, a literacia estatística é a chave para a correta interpretação de resultados e para a identificação de vieses.\nÉ neste contexto que surge este trabalho, um projeto idealizado ao longo do tempo e agora concretizado em formato de livro online e open source, que tem como objetivo primeiro apoiar a atividade letiva do autor na Escola Superior de Tecnologia e Gestão do Instituto Politécnico de Bragança.\nO livro reúne um conjunto de textos sobre conceitos e métodos de nível introdutório a intermédio sobre Estatística e Ciência de Dados. Será dado algum ênfase à utilização do computador, tendo sido escolhida a plataforma R (R Core Team, 2024) para implementar a análise estatística.\nO livro cobre tópicos como a recolha e preparação de dados, teoria da probabilidade, inferência estatística básica (intervalos de confiança, testes de hipóteses), estatística não paramétrica e modelos de análise de variância e de regressão.\nPretende-se que a linguagem do livro seja acessível sem perder o rigor. A formalização matemática dos conceitos teóricos será reduzida ao indispensável e, sempre que necessário, o leitor é remetido para fontes mais específicas.\nNaturalmente, muitos dos materiais foram desenvolvidos ao longo dos anos e poderão compreender contributos de inúmeros colegas. Existirão instâncias em que, por serem há muito utilizados, já não é possível identificar com rigor a autoria. Em outros casos terão sido inspirados em livros ou de fontes online cujo rasto se perdeu. Foram feitos todos os esforços para atribuir o devido crédito a essas contribuições. No entanto, caso identifique alguma situação que deva ser corrigida, não hesite em entrar em contacto com o autor.\nOptou-se por disponibilizar este livro de forma aberta sob a licença CC BY-NC-ND 4.0. Pode ser utilizado o GitHub para propor alterações e correções ou apenas para reportar uma gralha ou iniciar uma discussão.\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Nota Prévia"
    ]
  },
  {
    "objectID": "chapters.html",
    "href": "chapters.html",
    "title": "Capítulos",
    "section": "",
    "text": "Diez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/\n\n\n\n\n\n\n\n\n\n\n\n\n\nMetodologia e Dados\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRecolha de Dados\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDados Qualitativos\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDados Quantitativos\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nDados Bivariados\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProbabilidades\n\n\n\n\n\n\n\n\n\n\n\nNenhum item correspondente",
    "crumbs": [
      "Capítulos"
    ]
  },
  {
    "objectID": "c010-method.html",
    "href": "c010-method.html",
    "title": "1  Metodologia e Dados",
    "section": "",
    "text": "1.1 Introdução\nA palavra estatística costuma estar associada a um de dois significados: num significado mais trivial, uma estatística refere-se a um facto numérico, por exemplo, quando se afirma que o rendimento mediano aumentou 2.1%.\nO outro significado refere-se à disciplina científica, em que a Estatística é definida como um conjunto de métodos para recolher, analisar, apresentar e interpretar dados e, através deste processo, apoiar a tomada de decisão em ambientes que apresentem variabilidade.\nNaturalmente, é neste último contexto que este texto se insere. Nesse contexto, a aplicação da Estatística segue uma metodologia que, em larga medida, se funde com o método científico:\nEsta divisão é meramente conceptual pois as várias etapas nem são estanques nem puramente sequenciais. Por exemplo, o estabelecimento dos objetivos e a definição dos métodos de recolha dos dados têm que estar em estreita articulação. Frequentemente, surgem dificuldades não previstas na recolha dos dados que obrigam à redefinição do procedimento de recolha ou até mesmo à reformulação dos objetivos estabelecidos inicialmente. Quase sempre há também restrições económicas ou temporais com influência no planeamento dos trabalhos a desenvolver.\nO resto deste capítulo aborda diferentes questões relacionadas com os pontos 1 a 3.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Metodologia e Dados</span>"
    ]
  },
  {
    "objectID": "c010-method.html#sec-method-intro",
    "href": "c010-method.html#sec-method-intro",
    "title": "1  Metodologia e Dados",
    "section": "",
    "text": "Definição dos objetivos da análise, ou seja, o que se pretende investigar (frequentemente designados por questões ou hipóteses de investigação) e dos métodos a utilizar na análise.\nDefinição de um procedimento para a recolha dos dados necessários.\nRecolha dos dados.\nAnálise dos dados.\nInterpretação das análises e apresentação dos resultados.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Metodologia e Dados</span>"
    ]
  },
  {
    "objectID": "c010-method.html#sec-method-dtypes",
    "href": "c010-method.html#sec-method-dtypes",
    "title": "1  Metodologia e Dados",
    "section": "1.2 Tipos de dados",
    "text": "1.2 Tipos de dados\n\n1.2.1 Escalas de medição\nSendo a Estatística uma ciência que lida com dados, é necessário conhecer os diversos tipos de dados e as suas características. A forma mais útil de o fazer é classificar os dados segundo a escala em que são expressos.\nÉ comum identificar quatro escalas de medição agrupadas em duas categorias principais, tal como esquematizado na Figura 1.1. Temos assim:\n\nEscalas qualitativas – também designadas por escalas categóricas, cada observação é classificada numa das categorias.\n\nEscalas nominais – as categorias não têm uma ordem natural ou, a ordem das categorias é arbitrária.\n\nExemplos destas escalas são a cor dos olhos ou o sexo de uma pessoa. Qualquer ordenamento das categorias é arbitrário, como, por exemplo, a ordem alfabética.\n\nEscalas ordinais – as categorias têm uma ordem implícita ou existe um critério relevante para as ordenar.\n\nPor exemplo, o clima de uma região (frio, ameno, quente) ou a satisfação com uma compra (muito insatisfeito, insatisfeito, indiferente, satisfeito, muito satisfeito). Nestes casos é possível estabelecer relações de ordem entre as categorias, podendo-se afirmar que frio &lt; ameno &lt; quente.\n\n\nEscalas quantitativas – também designadas por escalas numéricas, em que as observações são expressas (e ordenadas) com um número.\n\nEscalas de intervalo (ou relativas) – a origem (zero) da escala é arbitrária e não tem um significado especial. Nestas escalas, as diferenças são interpretáveis mas os rácios não o são.\n\nO exemplo clássico é a temperatura expressa em graus centígrados (ou Celsius), em que a origem é definida arbitrariamente como o ponto de fusão da água. Ao comparar uma temperatura de 1 \\(^\\circ\\)C com uma de 3 \\(^\\circ\\)C, podemos afirmar que a segunda é maior e há uma diferença de 2 \\(^\\circ\\)C. Não podemos afirmar que a segunda é o triplo da primeira porque a origem (0 \\(^\\circ\\)C) não significa que não há temperatura (energia térmica).\n\nEscalas absolutas (ou de rácio) – a origem é fixa e representa uma quantidade igual a zero.\n\nPor exemplo, a idade de um indivíduo ou o número de irmãos. Em ambos os casos o zero significa nada. No exemplo da temperatura, caso aquela fosse medida na escala de Kelvin, uma temperatura igual a 0 \\(^\\circ\\)K significa a ausência de energia térmica.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigura 1.1: Escalas de medição\n\n\n\n\n\n\n\n\n\n\n\nDica\n\n\n\nO facto de uma observação ser expressa num número não implica que se trate, necessariamente, de uma escala numérica. Por norma é, mas há exceções. Para que seja uma escala numérica, o número tem que representar uma quantidade. Por exemplo, o indicativo de um número de telefone (273, 276, …) é um número, mas está expresso numa escala nominal, uma vez que identifica uma região.\n\n\n\n\n1.2.2 Natureza da medição\nÉ também útil classificar as escalas numéricas quanto natureza da medição, expressa no conjunto de valores que as observações podem tomar. Assim, podemos ter:\n\nDados discretos – a observação apenas poderá resultar num conjunto enumerável de valores (finito ou infinito).\n\n\nO número de pontos obtido no lançamento de um dado pertence ao conjunto {1, 2, 3, 4, 5, 6} (finito). O número de irmãos de uma pessoa pertence ao conjunto \\(\\mathbb{N}\\), ou seja {0, 1, 2, …}, podendo tomar valores arbitrariamente grandes.\n\n\nDados contínuos – a observação pode tomar qualquer valor real (conjunto \\(\\mathbb{R}\\)).\n\n\nO peso de um indivíduo ou o tempo decorrido entre dois eventos podem tomar qualquer valor real e ser medidos com uma precisão, expressa num número de casas decimais, limitado apenas pelos instrumentos de medida e registo.\n\n\n\n\n\n\n\nNota\n\n\n\nNa prática, todas as medições são discretas: é impossível medir a registar grandezas de forma absoluta (número infinito de casas decimais). No entanto, é muitas vezes mais prático tratar as observações como contínuas.\n\n\n\n\n\n\n\n\nDica\n\n\n\nFrequentemente, as observações discretas resultam de contagens (número de …) e são expressas com números naturais. Já as observações contínuas resultam de medições instrumentais (peso, tempo, pressão, etc.) e são expressas com números reais e casas decimais.\nEmbora seja uma forma expedita de distinguir observações discretas de contínuas, trata-se de conceitos diferentes. Por exemplo, metade dos pontos no lançamento de um dado tem natureza discreta mas expressa-se com casas decimais.\n\n\n\n\n1.2.3 Hierarquia das escalas\nOs quatro tipos de escalas apresentados na secção Secção 1.2.1 foram ordenados de acordo com o seu grau de complexidade ou sofisticação. Esta complexidade advém do facto de, qualquer operação que se possa realizar numa determinada escala, pode ser realizada numa escala de nível hierárquico igual ou mais elevado. O contrário nem sempre é verdadeiro, depende da operação e das escalas em questão.\nPor outro lado, qualquer medição feita numa determinada escala, pode ser convertida e expressa numa escala de nível hierárquico inferior.\nRelembrando a ordem em relação à complexidade:\n\nEscala nominal.\nEscala ordinal.\nEscala de intervalo.\nEscala absoluta.\n\nPara ilustrar o que foi dito, tome-se o exemplo já apresentado da temperatura. A temperatura pode ser medida na escala de Kelvin, uma escala absoluta. Podemos converter facilmente temperaturas Kelvin (\\(K\\)) para graus centígrados (\\(C = K + 273.16\\)). Note-se que esta conversão só se tornou trivial após uma série de avanços científicos.\n\n\n\n\n\n\nCuriosidade\n\n\n\nDurante muito tempo foram utilizadas várias escalas de temperatura (Celsius, Fahrenheit e outras) pois ainda não se tinha desenvolvido o conceito de zero absoluto na termodinâmica. A escala de Kelvin apenas foi desenvolvida durante o século XIX, adotada pelo Sistema Internacional no século XX e definida com maior precisão, recentemente, em 2019.\n\n\nEnquanto que na escala de Kelvin faz sentido dizer que um objeto com uma temperatura de 10 \\(^\\circ\\)K contém o dobro da temperatura (energia térmica) do que o mesmo objeto com 5 \\(^\\circ\\)K, quando as medições são feitas em graus centígrados (escala de intervalo), é incorreto afirmar que 10 \\(^\\circ\\)C é o dobro da temperatura do mesmo objeto a 5 \\(^\\circ\\)C, pois a origem da escala é arbitrária, ou seja, os rácios não têm significado em escalas de intervalo.\nPodemos também converter facilmente temperaturas em graus centígrados para uma escala ordinal (designe-se por estado do tempo), fazendo corresponder, por exemplo:\n\nSe a temperatura for menor que 10 \\(^\\circ\\)C, classificar como frio.\nSe a temperatura estiver entre 10 \\(^\\circ\\)C e 20 \\(^\\circ\\)C, classificar como ameno.\nSe a temperatura for superior a 20 \\(^\\circ\\)C, classificar como quente.\n\nNaturalmente, esta conversão tem pouco ou nenhum interesse, apenas se apresenta como exemplo ilustrativo.\nNote-se que, sendo fácil converter uma temperatura para o estado do tempo, o contrário é impossível. Note-se também que as operações aritméticas que podiam ser utilizadas com temperaturas são agora impossíveis (embora haja um ou outro aluno, e não só, que acham o contrário).\nPoder-se-ia também observar qual o algarismo das unidades das temperaturas e verificar se era par ou ímpar. Neste caso estar-se-ia a fazer uma conversão para uma escala nominal. Como é evidente, fazer a conversão inversa é impossível.\nNa Figura 1.2 pode visualizar-se o exemplo apresentado.\n\n\n\n\n\n\n\n\n\n\nFigura 1.2: Exemplo de conversão entre escalas\n\n\n\n\n\nGeralmente, as conversões inversas são impossíveis, pois, na maior parte dos casos, não é possível estabelecer uma relação unívoca entre os valores, por falta de detalhe. Por exemplo, se souber que uma temperatura termina num algarismo par, não é possível saber, só com essa informação, qual o estado do tempo ou qual a temperatura na escala Celsius ou na escala Kelvin.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Metodologia e Dados</span>"
    ]
  },
  {
    "objectID": "c010-method.html#sec-method-dataorg",
    "href": "c010-method.html#sec-method-dataorg",
    "title": "1  Metodologia e Dados",
    "section": "1.3 Organização dos dados",
    "text": "1.3 Organização dos dados\nPara que a recolha de dados seja possível é necessário determinar quais as unidades estatísticas a observar (objetos, indivíduos, eventos, etc.) e quais as características que se vão observar ou medir para cada unidade.\nNuma fase posterior, geralmente os dados são organizados num formato tabular ou matricial. A Tabela 1.1 mostra as primeiras linhas de um conjunto de dados popular (o dataset mtcars, incluído no R, que contém dados sobre diferentes características de vários modelos de carros).\n\n\n\n\nTabela 1.1: Algumas observações de mtcars\n\n\n\n\n\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\nMazda RX4\n21.0\n6\n160.0\n110\n3.90\n2.620\n16.46\n0\n1\n4\n4\n\n\nMazda RX4 Wag\n21.0\n6\n160.0\n110\n3.90\n2.875\n17.02\n0\n1\n4\n4\n\n\nDatsun 710\n22.8\n4\n108.0\n93\n3.85\n2.320\n18.61\n1\n1\n4\n1\n\n\nHornet 4 Drive\n21.4\n6\n258.0\n110\n3.08\n3.215\n19.44\n1\n0\n3\n1\n\n\nHornet Sportabout\n18.7\n8\n360.0\n175\n3.15\n3.440\n17.02\n0\n0\n3\n2\n\n\nValiant\n18.1\n6\n225.0\n105\n2.76\n3.460\n20.22\n1\n0\n3\n1\n\n\nDuster 360\n14.3\n8\n360.0\n245\n3.21\n3.570\n15.84\n0\n0\n3\n4\n\n\nMerc 240D\n24.4\n4\n146.7\n62\n3.69\n3.190\n20.00\n1\n0\n4\n2\n\n\nMerc 230\n22.8\n4\n140.8\n95\n3.92\n3.150\n22.90\n1\n0\n4\n2\n\n\nMerc 280\n19.2\n6\n167.6\n123\n3.92\n3.440\n18.30\n1\n0\n4\n4\n\n\nMerc 280C\n17.8\n6\n167.6\n123\n3.92\n3.440\n18.90\n1\n0\n4\n4\n\n\nMerc 450SE\n16.4\n8\n275.8\n180\n3.07\n4.070\n17.40\n0\n0\n3\n3\n\n\nMerc 450SL\n17.3\n8\n275.8\n180\n3.07\n3.730\n17.60\n0\n0\n3\n3\n\n\nMerc 450SLC\n15.2\n8\n275.8\n180\n3.07\n3.780\n18.00\n0\n0\n3\n3\n\n\nCadillac Fleetwood\n10.4\n8\n472.0\n205\n2.93\n5.250\n17.98\n0\n0\n3\n4\n\n\nLincoln Continental\n10.4\n8\n460.0\n215\n3.00\n5.424\n17.82\n0\n0\n3\n4\n\n\nChrysler Imperial\n14.7\n8\n440.0\n230\n3.23\n5.345\n17.42\n0\n0\n3\n4\n\n\nFiat 128\n32.4\n4\n78.7\n66\n4.08\n2.200\n19.47\n1\n1\n4\n1\n\n\nHonda Civic\n30.4\n4\n75.7\n52\n4.93\n1.615\n18.52\n1\n1\n4\n2\n\n\nToyota Corolla\n33.9\n4\n71.1\n65\n4.22\n1.835\n19.90\n1\n1\n4\n1\n\n\nToyota Corona\n21.5\n4\n120.1\n97\n3.70\n2.465\n20.01\n1\n0\n3\n1\n\n\nDodge Challenger\n15.5\n8\n318.0\n150\n2.76\n3.520\n16.87\n0\n0\n3\n2\n\n\nAMC Javelin\n15.2\n8\n304.0\n150\n3.15\n3.435\n17.30\n0\n0\n3\n2\n\n\nCamaro Z28\n13.3\n8\n350.0\n245\n3.73\n3.840\n15.41\n0\n0\n3\n4\n\n\nPontiac Firebird\n19.2\n8\n400.0\n175\n3.08\n3.845\n17.05\n0\n0\n3\n2\n\n\nFiat X1-9\n27.3\n4\n79.0\n66\n4.08\n1.935\n18.90\n1\n1\n4\n1\n\n\nPorsche 914-2\n26.0\n4\n120.3\n91\n4.43\n2.140\n16.70\n0\n1\n5\n2\n\n\nLotus Europa\n30.4\n4\n95.1\n113\n3.77\n1.513\n16.90\n1\n1\n5\n2\n\n\nFord Pantera L\n15.8\n8\n351.0\n264\n4.22\n3.170\n14.50\n0\n1\n5\n4\n\n\nFerrari Dino\n19.7\n6\n145.0\n175\n3.62\n2.770\n15.50\n0\n1\n5\n6\n\n\nMaserati Bora\n15.0\n8\n301.0\n335\n3.54\n3.570\n14.60\n0\n1\n5\n8\n\n\nVolvo 142E\n21.4\n4\n121.0\n109\n4.11\n2.780\n18.60\n1\n1\n4\n2\n\n\n\n\n\n\n\n\n\nTrata-se de uma organização lógica em que:\n\ncada coluna da tabela, geralmente designada por variável, contém os dados relativos a cada uma das características que foram observadas ao recolher os dados;\ncada linha da tabela, geralmente designada por observação ou caso, contém os dados relativos a cada uma das unidades estatísticas observadas.\n\nNestas tabelas, é frequente utilizar nomes de colunas curtos, por uma questão de comodidade na manipulação. No entanto, os dados devem ser acompanhados de uma descrição adequada de cada variável observada. Por exemplo, a variável mpg expressa o consumo de combustível de cada carro em milhas por galão americano. Na documentação do R encontram-se detalhadas as descrições de todas as variáveis.\nNestas tabelas, também é normal encontrar a informação codificada. Por exemplo, a variável am indica o tipo de transmissão do carro, tratando-se de uma variável nominal com 2 categorias: automática (0) e manual (1). Logo, embora a informação que aparece na tabela seja numérica, trata-se de códigos que correspondem a categorias nominais e as operações aritméticas com estes números, regra geral, não fazem sentido.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Metodologia e Dados</span>"
    ]
  },
  {
    "objectID": "c010-method.html#tutoriais",
    "href": "c010-method.html#tutoriais",
    "title": "1  Metodologia e Dados",
    "section": "Tutoriais",
    "text": "Tutoriais\nDepois de ler este capítulo pode verificar como são implementados estes conceitos no ambiente computacional R. Os tutoriais listados abaixo estão diretamente relacionados com este capítulo.\n\n\n\n\n\n\nTutorial\n\n\n\nDescrição\n\n\n\n\n\n\n\n\nFerramentas\n\n\nInstalação e configuração das ferramentas computacionais e dos fluxos de trabalho. \n\n\n\n\n\n\nIntrodução ao R\n\n\nNoções básicas sobre manipulação de objetos, scripts, vetores, data frames e ficheiros de dados (CSV). \n\n\n\n\n\n\nDados no R\n\n\nEstruturas de dados do R: vetores, matrizes, listas e data frames. Gravação e leitura de dados a partir de ficheiros. Especificação de variáveis qualitativas. \n\n\n\n\n\n\nNenhum item correspondente\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Metodologia e Dados</span>"
    ]
  },
  {
    "objectID": "c020-collect.html",
    "href": "c020-collect.html",
    "title": "2  Recolha de Dados",
    "section": "",
    "text": "2.1 Populações e amostras\nAo delinear os objetivos de uma análise (ou questão de investigação), pelo menos implicitamente, é também definida uma população-alvo (ou simplesmente, população), sendo esta definida como o conjunto de entidades para as quais temos interesse em estudar determinadas características.\nPara ilustrar o conceito, eis alguns exemplos de questões de investigação:\nEm todos estes exemplos fica definida qual a população-alvo. Por exemplo, na questão 1, a população alvo são todas a vigas metálicas do tipo X. Já na questão 2 a população alvo são todos os potenciais eleitores.\nEstes dois exemplos deixam perceber as dificuldades em observar toda uma população e responder à questão de forma exata. No caso da questão 1, estamos a tratar de uma população potencialmente infinita, eventualmente incluindo as vigas que ainda não foram fabricadas, mas que se tenciona fabricar com as mesmas características. Adicionalmente, para determinar a tensão de rotura será necessário destruir a viga.\nNo segundo exemplo, o número de eleitores pode ser muito elevado e pode não se dispor de tempo e recursos para os sondar a todos. Pode ainda haver eleitores que, por qualquer motivo, não se consigam encontrar ou recusem participar no estudo.\nEste tipo de dificuldades conduz a que, raramente, se possa estudar a totalidade das populações. O processo de estudar a totalidade da população é designado por censo. As principais dificuldades de um censo são:\nPor estes motivos, e para poder continuar a responder às questões de investigação, é necessário basear a resposta no estudo de uma amostra.\nUma amostra é um subconjunto de observações escolhidas na população-alvo. Tipicamente, uma amostra apenas contém uma pequena fração da população, sendo a dimensão determinada tendo em conta considerações da teoria estatística e considerações económicas e práticas.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Recolha de Dados</span>"
    ]
  },
  {
    "objectID": "c020-collect.html#sec-collect-pop-sample",
    "href": "c020-collect.html#sec-collect-pop-sample",
    "title": "2  Recolha de Dados",
    "section": "",
    "text": "Qual a tensão média de rutura das vigas metálicas do tipo X?\nQual a percentagem de eleitores que vai votar na candidatura Y?\nQual o nível médio de satisfação dos visitantes do evento Z?\nUm novo fármaco para tratar a dor, reduz ou não o número médio de queixas dos doentes?\n\n\n\n\n\n\nPopulações muito grandes, havendo dificuldade em identificar ou localizar todos os elementos.\nPopulações dinâmicas, em constante alteração.\n\n\n\n\n\n\n\n\n\nImportante\n\n\n\nPopulação-alvo (ou população): conjunto de entidades para as quais se pretende estudar determinadas características.\nAmostra: subconjunto de entidades, selecionadas na população, que são efetivamente estudadas.\n\n\n\n\n\n\n\n\nNota\n\n\n\nSe quisermos ser pedantes rigorosos, uma população estatística (ou amostra) é o conjunto de observações ou medições que se faz sobre determinada característica (dados) e não os objetos ou entidades que se estão a estudar. Frequentemente, sobre as mesmas entidades, são recolhidos dados sobre várias características, ou seja, temos várias populações que se poderiam designar por populações conjuntas. Por esse motivo, como não há grandes riscos de confusão, o termo população é utilizado, de forma imprecisa, para designar o conjunto de entidades.\n\n\n\n2.1.1 Representatividade\nPara que, a partir de uma amostra, se possa inferir com confiança sobre as populações, a amostra deve ser representativa. Uma amostra representativa, tanto quanto possível, aproxima as características da população.\n\n\n\n\n\n\nImportante\n\n\n\nUma amostra representativa é o oposto da observação circunstancial dos fenómenos. Nem uma inundação fora do comum confirma que existe aquecimento global, nem um janeiro frio prova que o aquecimento global não existe. Para estudar um fenómeno tão complexo é necessário um conjunto alargado e criterioso de medições (amostra representativa) e uma análise correta.\n\n\nUma das melhores formas de garantir a representatividade da amostra é selecionar as entidades a observar ao acaso. Uma amostra deste tipo designa-se por amostra aleatória ou amostra probabilística. Numa amostra aleatória todos os elementos da população têm a mesma possibilidade de vir a pertencer à amostra. As secções 2.4 e 2.5 apresentam diversos procedimentos para a seleção de amostras aleatórias.\nAlternativamente, se a amostra não for aleatória (amostra não probabilística), a representatividade não é garantida. Neste caso diz-que a a amostra pode ter um enviesamento de seleção, ou seja, determinados grupos populacionais podem estar sub-representados ou sobrerrepresentados na amostra. Por norma, este tipo de amostragem é utilizado apenas por motivos de ordem prática.\n\n\n\n\n\n\nImportante\n\n\n\nEm qualquer tipo de estudo, uma amostra aleatória, representativa, permite inferir sobre as populações de onde foi retirada, ou seja, permite generalizar as conclusões da análise à população.\n\n\n\n\n2.1.2 Amostragem não probabilística\nHá vários processos para recolher amostras não probabilísticas. Enumeram-se a seguir alguns mais comuns:\n\nAmostragem por conveniência\nNeste processo os elementos a incluir na amostra são os mais convenientes para o analista. Por exemplo, um professor decide fazer um estudo numa escola utilizando como amostra os alunos das turmas a que leciona, por estes estarem mais acessíveis.\n\n\nAmostragem subjetiva\nNeste caso, o analista, usando um critério pessoal escolhido subjetivamente, escolhe os elementos a incluir na amostra. O professor referido no ponto anterior, poderia selecionar um conjunto de alunos que ele próprio e os colegas achassem que seriam alunos típicos ou que de resposta honesta.\n\n\nAmostragem por referenciação\nEsta amostragem aplica-se a pessoas e, neste caso o analista escolhe um conjunto de especialistas no assunto em análise e encarrega estes especialistas de recrutar para a amostra outros especialistas que conheça. Pode dizer-se que se trata de um tipo de amostragem subjetiva.\n\n\nAmostragem voluntária\nTambém aplicada a pessoas, o analista difunde um pedido de colaboração (correio, redes sociais, etc.) e os indivíduos participam voluntariamente, se assim o entenderem. É comum deparar com inquéritos semelhantes aos da Figura 2.1.\n\n\n\n\n\n\nFigura 2.1: Exemplo de inquérito voluntário (Sapo.pt, 2025)\n\n\n\n\n\n\n2.1.3 Enviesamento\nQuando o procedimento para selecionar a amostra não é aleatório, muitas vezes os dados sofrem do já referido enviesamento de seleção, ou seja, uma tendência para que, na amostra, determinados grupos populacionais estejam sobrerrepresentados e outros subrepresentados.\nOs motivos para o enviesamento podem ser vários e podem ocorrer em simultâneo. Enumeram-se de seguida os mais frequentes:\n\nNão resposta: independentemente de como é feita a selecção da amostra, quando existe uma taxa de não resposta alta, as pessoas que respondem podem não representar a população por se concentrarem em determinados grupos. Pode ocorrer, por exemplo, quando as questões são de natureza íntima, ou quando se trata de um inquérito extenso que acaba por selecionar pessoas com tempo disponível.\nResposta errada: ocorre quando o indivíduo dá uma resposta errada à questão colocada. Pode dever-se a vários motivos, sendo os mais frequentes uma má formulação da questão, não permitindo a fácil compreensão, ou por receio de revelar a resposta verdadeira devido à natureza sensível ou íntima da questão.\nResposta voluntária: é uma situação semelhante à não resposta, na medida em que apenas pessoas de determinados grupos, com algum tipo de motivação, são atraídas a responder às questões e podem não representar a população.\nNão cobertura: ocorre quando determinados grupos populacionais são ignorados, quer na seleção da amostra (por exemplo, na amostragem de conveniência ou na amostragem subjetiva), quer na identificação das unidades populacionais. Por exemplo, se uma sondagem de resposta voluntária é divulgada numa determinada rede social, automaticamente, exclui as pessoas que não têm conta nessa rede social.\n\n\n\n\n\n\n\n\nFigura 2.2: Capa The Literary Digest, outubro, 1936\n\n\n\n\n\nUm exemplo famoso\nQuando se fala de enviesamento não se pode deixar de referir o que aconteceu em 1936 quando a revista The Literary Digest, Figura 2.2, publicou uma sondagem sobre as eleições presidenciais nos EUA em 1936. Os principais candidatos eram Alfred Landon (Partido Republicano) e Franklin D. Roosevelt (Partido Democrata).\nA publicação fez uma sondagem a 10 milhões de eleitores e obteve mais de 2.3 milhões de respostas. A sondagem indicou uma vitória de Landon, com cerca de 54.4% dos votos, contra cerca de 40.9% de Roosevelt.\nE o resto é história: as eleições resultaram na vitória de Roosevelt com cerca de 60.8% dos votos, tendo Landon obtido apenas cerca de 36.5% dos votos.\nInfelizmente para a revista, a sondagem tinha alguns dos problemas indicados nesta secção:\n\nNão cobertura: a revista sondou os seus próprios leitores e os proprietários de telefones fixos e de automóveis, deixando de foram franjas significativas da população.\nNão resposta: segundo Lusinchi (2012) o principal problema da sondagem foi uma alta taxa de não resposta entre os eleitores democratas.\n\nEste exemplo ilustra a necessidade de extremo rigor na definição da população e na escolha da amostra pois, ocorrências que podem parecer insignificantes, podem levar a erros catastróficos. Coincidência ou não, a revista teve o seu último número em 1938.\n\n\n\n2.1.4 Erro amostral\nQualquer amostra, mesmo uma amostra representativa selecionada através das melhores técnicas, contém sempre um erro amostral. Este erro amostral pode ser definido como a diferença entre um qualquer resultado obtido através da amostra e o mesmo resultado, caso se tivesse estudado toda a população.\nTorna-se evidente que o erro amostral é inevitável, pois resulta da aleatoriedade na seleção da amostra. A não ser que a amostra inclua a totalidade da população, o erro amostral dificilmente será nulo. Há vários processos para controlar o erro amostral. Por exemplo, através da manipulação do tamanho das amostras, o erro amostral pode, quase sempre, ser reduzido para níveis muito baixos, que permitam extrair conclusões úteis da análise.\nUma vez que a Estatística, quase sempre, envolve amostras, a compreensão do erro amostral é absolutamente fundamental.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Recolha de Dados</span>"
    ]
  },
  {
    "objectID": "c020-collect.html#sec-collect-var-rel",
    "href": "c020-collect.html#sec-collect-var-rel",
    "title": "2  Recolha de Dados",
    "section": "2.2 Relações entre variáveis",
    "text": "2.2 Relações entre variáveis\nNa maior parte dos estudos estatísticos, não se observa apenas uma variável. Tipicamente, são observadas simultaneamente várias características (variáveis) relativas aos objetos de estudo. Muitas vezes, o objetivo do estudo é estudar relações de associação ou relações de causalidade entre variáveis.\nQuando o estudo envolve mais do que uma variável tornam-se relevantes mais alguns conceitos.\n\n2.2.1 Associação e independência\nDiz-se que duas variáveis têm uma associação quando se observa um padrão em que mudanças numa delas correspondem, geralmente, a mudanças na outra.\nDependendo do tipo de dados envolvidos, há várias formas de caracterizar uma associação entre variáveis. Uma associação pode ser caracterizada em várias vertentes:\n\nIntensidade: pode afirmar-se que uma associação é fraca, moderada, forte, etc., conforme o padrão observado seja mais ou menos consistente ou previsivel, havendo várias formas de quantificar esta intensidade.\nDireção: quando as variáveis são medidas numa escala ordinal ou superior, a direção pode dizer-se positiva, se aumentos numa correspondem a aumentos na outra, ou negativa, quando aumentos numa correspondem a diminuições na outra.\n\nQuando duas variáveis não estão associadas, estas dizem-se independentes. Nesta situação, não há qualquer padrão de correspondência nas observações de uma e de outra. Por outras palavras, a observação de uma delas não fornece qualquer informação útil sobre o valor da outra.\n\n\n2.2.2 Associação e causalidade\nVale a pena abordar esta ideia neste ponto: a existência de uma relação de associação entre duas variáveis não implica que haja uma relação de causalidade entre elas. Frequentemente, a associação é explicada pela existência de um confundimento (ou confusão) com uma terceira variável.\nPor exemplo, se analisar o conjunto de dados icecream.csv poderá verificar que existe uma associação entre a produção de gelados e o número de afogamentos. Na Figura 2.3 podem visualizar-se os dados, onde cada ponto representa um mês entre 2018 e 2023.\n\n\n\n\n\n\n\n\nFigura 2.3: Produção de gelados e número de afogamentos\n\n\n\n\n\nComo se pode verificar, parece haver um maior número de afogamentos quando a produção de gelados é maior, ou seja, parece haver uma associação positiva entre as variáveis. Obviamente, nem a produção de gelados faz aumentar afogamentos, nem os afogamentos fazem aumentar a produção de gelados e a associação pode ser facilmente explicada por serem duas variáveis sazonais: no tempo mais quente produzem-se (e vendem-se) mais gelados e as pessoas vão mais às praias aumentando os afogamentos acidentais.\n\n\n\n\n\n\nAssociação ≠ causalidade\n\n\n\nNa Estatística, é uma ideia que não pode ser repetida vezes a mais, pois é um erro muito comum na interpretação de resultados. Duas variáveis podem estar associadas sem haver uma relação de causa e efeito entre elas.\n\n\n\nVariáveis explicativas e variáveis de resposta\nÉ frequente ver uma variável referida como variável explicativa ou como variável de resposta ou como variável dependente. Embora as designações possam dar uma ideia de causalidade, a maior parte das vezes trata-se apenas de uma suspeita ou de uma hipótese a verificar. As designações são apenas o reflexo disso e uma forma de organizar os procedimentos.\nPor exemplo, se a questão de investigação for perceber como as horas de estudo afetam o rendimento escolar, é natural rotular as horas de estudo como variável explicativa e o rendimento escolar como variável de resposta ou variável dependente.\nNaturalmente, não basta colocar uma designação para estabelecer uma relação de causalidade, sendo necessário aplicar técnicas de análise estatística.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Recolha de Dados</span>"
    ]
  },
  {
    "objectID": "c020-collect.html#origem-dos-dados",
    "href": "c020-collect.html#origem-dos-dados",
    "title": "2  Recolha de Dados",
    "section": "2.3 Origem dos dados",
    "text": "2.3 Origem dos dados\nA origem dos dados pode ser tipificada sob várias perspetivas. Relativamente à fonte dos dados podemos falar em dados primários, quando estes são recolhidos pelo investigador diretamente das entidades observadas, ou dados secundários, quando a fonte são outros estudos ou bases de dados publicadas.\nQuando se adota uma perspetiva temporal pode falar-se num estudo transversal quando os dados são recolhidos num determinado momento ou num curto intervalo, sendo o objetivo caracterizar a população naquele momento.\nQuando as entidades são acompanhadas durante um período extenso e são recolhidas observações em diversos instantes, temos um estudo longitudinal. Este tipo de estudo permite caracterizar tendências que ocorrem ao longo do tempo.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Recolha de Dados</span>"
    ]
  },
  {
    "objectID": "c020-collect.html#sec-collect-observational",
    "href": "c020-collect.html#sec-collect-observational",
    "title": "2  Recolha de Dados",
    "section": "2.4 Estudos observacionais",
    "text": "2.4 Estudos observacionais\nOs estudos estatísticos podem ser categorizados em dois tipos: observacionais (nesta secção) e experimentais (Secção 2.5).\nNos estudos observacionais o analista não interfere com os objetos de estudo, apenas observa e regista os dados à medida que eles ocorrem naturalmente. Tipicamente, o objetivo da análise é identificar correlações entre as diferentes variáveis.\nDentro desta categoria de estudos é possível delinear vários procedimentos aleatórios. Descrevem-se a seguir quatro dos mais utilizados.\n\n2.4.1 Amostragem aleatória simples\nÉ a forma mais elementar de assegurar a aleatoriedade da amostra e consiste em escolher ao acaso, de entre a população, os elementos a integrar na amostra, sem qualquer condicionamento ou restrição.\nNa sua forma mais básica, poder-se-iam numerar todos os elementos da população e sortear um conjunto de números para determinar a amostra. Utilizando o computador, é um processo simples e rápido. Se houver uma base de dados populacional, o número da linha na base de dados serve como identificador e pode ser usado para aleatorizar.\nA figura Figura 2.4 pretende dar uma ideia visual do processo. Neste caso, a área sombreada delimita a população e os pontos assinalados com um círculo foram selecionados para a amostra.\n\n\n\n\n\n\n\n\nFigura 2.4: Visualização do processo de amostragem aleatória simples\n\n\n\n\n\n\n\n\n\n\n\nNota\n\n\n\nA amostragem aleatória simples pode ser feita sem reposição, tal como na Figura 2.4, em que um elemento da população pode ou não ser selecionado para a amostra. Quando a seleção é feita com reposição, o mesmo indivíduo pode ser selecionado mais do que uma vez. Esta questão merece ser analisada mais profundamente num capítulo posterior.\n\n\n\n\n2.4.2 Amostragem por estratificação\nSe a população puder ser dividida em grupos homogéneos (estratos) utilizando um qualquer critério e quando se pretende representar proporcionalmente todos os estratos, utiliza-se a amostragem por estratificação. Neste caso, é recolhida uma amostra representativa em cada estrato (por exemplo, recorrendo a uma amostra aleatória simples) que pode ser analisada em separado, para caracterizar o estrato, ou em conjunto, para caracterizar a população inteira.\nA vantagem deste tipo de amostragem é assegurar uma redução do erro amostral, ou seja, uma maior representatividade. A desvantagem é o aumento da complexidade da recolha e análise dos dados.\nA figura Figura 2.5 é uma representação visual do processo, ilustrando a seleção de uma amostra aleatória em cada um dos estratos (áreas sombreadas).\n\n\n\n\n\n\n\n\nFigura 2.5: Visualização do processo de amostragem estratificada\n\n\n\n\n\n\n\n2.4.3 Amostragem por conglomerados (clusters)\nNa amostragem por conglomerados, a população é dividida em grupos heterogéneos (conglomerados ou clusters) que se supõe terem uma composição idêntica à da população. Para selecionar a amostra há dois procedimentos alternativos, envolvendo, ou uma, ou duas etapas.\n\nUma etapa\nNeste procedimento, é selecionada ao acaso uma amostra de clusters e todos os elementos dos conglomerados selecionados são observados. A Figura 2.6 representa visualmente o processo. Note que todos os elementos em cada conglomerado selecionado são observados.\n\n\n\n\n\n\n\n\nFigura 2.6: Visualização do processo de amostragem por conglomerados (uma etapa)\n\n\n\n\n\n\n\nDuas etapas\nQuando o procedimento é bietápico, para além de ser selecionada uma amostra de conglomerados a observar (primeira etapa), em cada conglomerado selecionado é depois selecionada uma amostra aleatória de elementos (segunda etapa). Neste caso, a representação visual do processo pode ser descrita pela Figura 2.7. Note a diferença para a Figura 2.6, sendo selecionada apenas uma amostra de elementos em cada cluster selecionado.\n\n\n\n\n\n\n\n\nFigura 2.7: Visualização do processo de amostragem por conglomerados (duas etapa)\n\n\n\n\n\nA amostragem por conglomerados, por norma, faz aumentar o erro amostral, devido a eventuais diferenças entre os conglomerados. A razão para usar este tipo de amostragem é de ordem prática, pois é quase sempre mais barato, rápido e eficiente amostrar um pequeno numero de conglomerados, em vez de fazer amostragem aleatória simples ou estratificada.\n\n\n\n\n\n\nExemplo\n\n\n\nImagine que se quer estudar os hábitos de estudo dos alunos de uma universidade através de um inquérito. Poder-se-iam estabelecer vários procedimentos para selecionar uma amostra representativa de alunos.\n\nAmostragem aleatória simples: a partir da lista de alunos matriculados, selecionar aleatoriamente um conjunto de alunos a inquirir.\nAmostragem estratificada: dividindo os alunos por curso e por ano, escolher uma amostra aleatória de alunos em cada combinação curso e ano.\nAmostragem por conglomerados (uma etapa): selecionar ao acaso um conjunto aleatório de aulas e distribuir o inquérito a todos os alunos que estiverem presentes nas aulas selecionadas.\nAmostragem por conglomerados (duas etapas): selecionar ao acaso um conjunto aleatório de aulas e distribuir o inquérito a uma amostra aleatória escolhida entre os alunos que estiverem presentes nas aulas selecionadas.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Recolha de Dados</span>"
    ]
  },
  {
    "objectID": "c020-collect.html#sec-collect-experimental",
    "href": "c020-collect.html#sec-collect-experimental",
    "title": "2  Recolha de Dados",
    "section": "2.5 Estudos experimentais",
    "text": "2.5 Estudos experimentais\nA presente secção é uma pequena introdução às experiências em Estatística. Apenas se vão referir os principais conceitos e terminologia, de uma forma necessariamente superficial.\nO principal acréscimo de estudo experimental, em relação a um estudo observacional, é a possibilidade do analista submeter cada elemento da amostra a um conjunto de condições experimentais. Estas condições são designadas por tratamentos.\nSeguem alguns exemplos de tratamentos que poderiam ser aplicados:\n\nNo laboratório, uma experiência pode ser replicada a várias temperaturas (tratamentos) para estudar o efeito da temperatura nos resultados.\nNum ensaio clínico de um medicamento, diferentes grupos de participantes recebem dosagens diferentes (tratamentos) para perceber o efeito da dosagem nos resultados clínicos.\nNuma fábrica, podem experimentar-se vários processos semelhantes (tratamentos) e verificar o efeito sobre a qualidade do produto final.\n\nPara decidir qual o tratamento a aplicar a cada unidade da amostra é utilizado um processo de afetação aleatória ou aleatorização. Neste processo, as unidades a afetar a cada tratamento são escolhidas de forma aleatória.\nA afetação aleatória é fundamental para que se possam inferir relações de causalidade entre as variáveis. Quando não há afetação aleatória é sempre possível haver fatores não controlados que possam estar na origem de eventuais diferenças entre os grupos observados.\n\n\n\n\n\n\nImportante\n\n\n\nNas experiências, a afetação aleatória permite inferir sobre causalidade, até mesmo, antes de se conhecerem os mecanismos dessa causalidade.\n\n\n\n\n\n\n\n\nExemplo\n\n\n\nNum exemplo famoso, o médico húngaro Ignaz Semmelweis concluiu em 1847 que, se o profissionais de obstetrícia desinfetassem as mãos, a incidência de infeções pós-parto diminuiam drasticamente. Na altura, estas conlusões chegaram a ser ridicularizadas, pois o médico não tinha uma explicação para o mecanismo de causa e efeito. Apenas anos mais tarde, através das descobertas de Louis Pasteur no âmbito da teoria dos germes, se vieram a entender as causas.\n\n\nTipicamente, nos melhores ensaios clínicos utiliza-se um modelo designado por RTC – Randomized Controlled Trial, onde os participantes são distribuídos pelos diversos tratamentos de forma aleatória. Este passo garante a eliminação de eventuais confundimentos, típicos dos estudos observacionais.\nEm muitas experiências também se utilizam grupos de controlo, que é um grupo que não recebe qualquer tratamento. Também nos ensaios clínicos há quase sempre um grupo de participantes que não recebe qualquer dose do medicamento, sendo apenas administrado um placebo, devido ao efeito placebo.\nPor norma, os participantes não sabem se estão em algum grupo de tratamento ou se estão no grupo de controlo, isto é, existe a chamada ocultação (blinding). Quando nem os médicos que administram os medicamentos têm aquela informação designa-se por dupla ocultação. Se a ocultação for estendida às pessoas que recolhem e manipulam os dados, podemos falar em tripla ocultação. O objetivo destas técnicas é eliminar qualquer tipo de enviesamento e garantir resultados fiáveis.\nPara reduzir a variabilidade dos resultados e eliminar os efeitos de eventuais variáveis que não se possam controlar, muitas experiências utiliza-se o controlo por blocos. Os blocos são construídos a partir de variáveis que não se podem afetar. Por exemplo, num ensaio clínico, se houver motivos para supor que o medicamento afeta cada sexo de forma diferente, o sexo pode ser utilizado para criar blocos.\nPara aferir a confiabilidade dos resultados de uma experiência esta pode ser replicada. A replicação pode ser feita por diferentes cientistas utilizando os mesmos métodos em contextos mais ou menos semelhantes. A replicação serve para validar os resultados de uma experiência.\n\n\n\n\n\n\nExemplo\n\n\n\nNum laboratório pretende-se comparar dois métodos para medir a concentração de uma substância numa solução (métodos A e B). Supõe-se que a experiência de laboratório dos alunos possa ter influência nos resultados. Assim, vai utilizar-se o ano do aluno como indicador de experiência de laboratório. Para avaliar os dois métodos, poder-se-ia utilizar o seguinte procedimento:\n\nAmostra: selecionar uma amostra aleatória de alunos, por exemplo, 30 alunos.\nBlocos: verificar o ano do aluno (1, 2 ou 3) de modo a criar um bloco de alunos para cada ano.\nAleatorização: para os alunos de cada ano, colocar metade (escolhidos aleatoriamente) a executar o método A e a outra metade a executar o método B.\nRegistar e analisar os resultados.\n\nCom este procedimento seria realizada a experiência ideal, onde os resultados poderiam ser generalizados a todos os alunos da população (porque se utiliza uma amostra aleatória de alunos) e se poderia inferir qual o método que produz os melhores resultados, ou seja, causalidade (porque foi aplicada a afetação aleatória). A Figura 2.8 esquematiza o procedimento.\n\n\n\n\n\n\n\n\n\n\n\n\nFigura 2.8: Esquema de um desenho experimental",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Recolha de Dados</span>"
    ]
  },
  {
    "objectID": "c020-collect.html#tutoriais",
    "href": "c020-collect.html#tutoriais",
    "title": "2  Recolha de Dados",
    "section": "Tutoriais",
    "text": "Tutoriais\nDepois de ler este capítulo pode verificar como são implementados estes conceitos no ambiente computacional R. Os tutoriais listados abaixo estão diretamente relacionados com este capítulo.\n\n\n\n\n\n\nTutorial\n\n\n\nDescrição\n\n\n\n\n\n\n\n\nDados no R\n\n\nEstruturas de dados do R: vetores, matrizes, listas e data frames. Gravação e leitura de dados a partir de ficheiros. Especificação de variáveis qualitativas. \n\n\n\n\n\n\nNenhum item correspondente\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Recolha de Dados</span>"
    ]
  },
  {
    "objectID": "c030-qualitative.html",
    "href": "c030-qualitative.html",
    "title": "3  Dados Qualitativos",
    "section": "",
    "text": "3.1 Tabelas de contingência\nO tratamento de dados qualitativos (categóricos) é comparativamente simples, resumindo-se à elaboração contagens sob a forma de tabelas de contingência e sua representação gráfica.\nUma tabela de contingência faz a enumeração da todas as categorias (níveis) presentes numa variável categórica e respetivas frequências. Uma frequência é o número de vezes que cada categoria ocorre nos dados, ou seja, trata-se de uma contagem.\nO conjunto de dados do R HairEyeColor contém a cor do cabelo e a cor dos olhos de um conjunto de alunos. A Tabela 3.1 mostra a tabela de contingência para a variável que contém a cor dos olhos.\nTabela 3.1: Tabela de contingência para a cor dos olhos\n\n\n\n\n \n  \n    Cor \n    Frequência Absoluta \n    Frequência Relativa (%) \n  \n \n\n  \n    Blue \n    215 \n    36.3 \n  \n  \n    Brown \n    220 \n    37.2 \n  \n  \n    Green \n    64 \n    10.8 \n  \n  \n    Hazel \n    93 \n    15.7 \n  \n  \n    Total \n    592 \n    100.0 \n  \n\n\n\na Intencionalmente, os nomes das cores não foram traduzidos.\nNeste caso, as categorias aparecem ordenadas alfabeticamente. Como se trata de uma variável nominal, seria perfeitamente aceitável outra ordenação. A tabela também inclui uma coluna com frequências relativas (ou percentagens) e uma linha final com os totais.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Dados Qualitativos</span>"
    ]
  },
  {
    "objectID": "c030-qualitative.html#sec-quali-tcont",
    "href": "c030-qualitative.html#sec-quali-tcont",
    "title": "3  Dados Qualitativos",
    "section": "",
    "text": "Cálculo das frequências relativas\n\n\n\nSe \\(f_i\\) representar a frequência absoluta da categoria \\(i\\) e \\(n\\) for o total de observações, ou seja, \\(n=\\sum_i f_i\\), então, a frequência relativa será \\(f'_i=\\frac{f_i}{n}\\). Se este valor for multiplicado por 100, pode ser entendido como a percentagem de observações em cada categoria.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Dados Qualitativos</span>"
    ]
  },
  {
    "objectID": "c030-qualitative.html#sec-quali-barplot",
    "href": "c030-qualitative.html#sec-quali-barplot",
    "title": "3  Dados Qualitativos",
    "section": "3.2 Representação gráfica",
    "text": "3.2 Representação gráfica\nPara visualizar os dados de uma tabela de contingência para uma variável categórica o gráfico de barras é visualização mais adequada. Na Figura 3.1 estão várias visualizações possíveis, nem todas as mais adequadas.\n\n\n\n\n\n\n\n\n\n\n\n(a) Uma cor, simples\n\n\n\n\n\n\n\n\n\n\n\n(b) Uma cor, com linhas de referência\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Ordem decrescente\n\n\n\n\n\n\n\n\n\n\n\n(d) Barras horizontais\n\n\n\n\n\n\n\n\n\n\n\n\n\n(e) Várias cores\n\n\n\n\n\n\n\n\n\n\n\n(f) Várias cores com legenda\n\n\n\n\n\n\n\nFigura 3.1: Gráfico de barras\n\n\n\nAs figuras 3.1 (a) a 3.1 (c) são visualizações aceitáveis, a escolha entre elas é sobretudo uma questão de estilo. A Figura 3.1 (d) utiliza barras horizontais, o que melhora a visualização quando há muitas categorias, não sendo este o caso, o gráfico é aceitável.\nJá na Figura 3.1 (e) a utilização de cores é redundante, uma vez que não acrescenta qualquer valor informativo e sobrecarrega a figura. Na Figura 3.1 (f) é colocada uma legenda em vez de rótulos em cada barra, o que dificulta a perceção da correspondência entre cada categoria e cada barra. A utilização de cores diferentes só se justifica quando se pretende destacar determinadas categorias.\n\n\n\n\n\n\nImportante\n\n\n\nA questões estéticas e de design (proporções, cores, tipo de letra, etc.) têm grande importância na qualidade da visualização gráfica. Como esta questão sai fora do âmbito deste texto, havendo inúmeros recursos disponíveis sobre o assunto, apenas se referem os aspetos mais gerais.\n\n\nNa Figura 3.2 apresentam-se mais duas variantes do gráfico de barras. Na Figura 3.2 (a) foram acrescentados rótulos com a quantidade em cada categoria. Na figura Figura 3.2 (b) o gráfico é apresentado em frequências relativas (percentagens), ao contrário dos anteriores, onde se utilizaram frequências absolutas.\n\n\n\n\n\n\n\n\n\n\n\n(a) Com rótulos\n\n\n\n\n\n\n\n\n\n\n\n(b) Com frequências relativas\n\n\n\n\n\n\n\nFigura 3.2: Variantes ao gráfico de barras\n\n\n\n\n\n\n\n\n\nDica\n\n\n\nOs gráficos de barras funcionam bem quando o número de categorias não é exagerado e quando as alturas das barras não são muito díspares. Quando há muitas categorias pode sempre avaliar-se a possibilidade de agrupar categorias menos relevantes.\n\n\n\nO gráfico circular\nNeste secção não poderia deixar de referir o “gráfico circular” também referido vulgarmente como queijo ou, pelo nome em inglês pie chart.\nA Figura 3.3 mostra duas variantes do gráfico em causa. Na Figura 3.3 (a) foi utilizada uma legenda e na Figura 3.3 (b) foram utilizados rótulos para as categorias com informação sobre as frequências relativas.\n\n\n\n\n\n\n\n\n\n\n\n(a) Com legenda\n\n\n\n\n\n\n\n\n\n\n\n(b) Com rótulos\n\n\n\n\n\n\n\nFigura 3.3: Gráfico circular\n\n\n\nO gráfico de barras não é adequado para ajudar a comparar grandezas e perceber as diferenças relativas. Há muito poucas situações em que o gráfico circular seja preferível ao gráfico de barras. As principais vantagens do gráfico de barras são:\n\nClareza: torna as comparações entre categorias mais claras e precisas, especialmente se houver muitas categorias.\nFlexibilidade: permite, por exemplo, a utilização de valores negativos, o que é impossível no gráfico circular.\n\n\n\n\n\n\n\nImportante\n\n\n\nO gráfico circular raramente se recomenda. A exceção será quando se pretende criar um maior impacto visual em situações que se pretenda mostrar comparações simples entre poucas categorias (duas a cinco). E mesmo nestas situações, o gráfico de barras é perfeitamente aceitável.\n\n\nO livro OpenIntro Statistics (Diez et al., 2019) ilustra este ponto com um exemplo da área da Biologia (Wilson & Reeder, 2005). O gráfico circular da Figura 3.4 pretende mostrar quantas espécies existem em cada ordem da classe dos mamíferos. Como existe um número elevado de ordens e algumas delas têm frequências muito baixas, o gráfico circular é totalmente ineficaz como forma de veicular a informação.\n\n\n\n\n\n\n\n\nFigura 3.4: Exemplo de mau gráfico circular\n\n\n\n\n\nA mesma informação pode ser visualizada mais claramente através de um gráfico de barras como o apresentado na Figura 3.5. Embora o número de categorias seja elevado e torne o gráfico “pesado”, é muito mais eficaz que o gráfico circular equivalente.\nNo entanto, como as observações estão concentradas num pequeno conjunto de categorias, a maior parte da área da Figura 3.5 está vazia. Uma alternativa para melhorar este de gráfico seria a representação das frequências numa escala logarítmica, tal como se apresenta na Figura 3.6.\n\n\n\n\n\n\n\n\nFigura 3.5: Gráfico de barras com categorias díspares\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigura 3.6: Gráfico de barras com escala logarítmica\n\n\n\n\n\n\n\n\n\n\n\nEscala logaritmica\n\n\n\nNuma escala logarítmica os intervalos entre valores são potências da base utilizada no logaritmo. Por exemplo, na Figura 3.6 utilizou-se o logaritmo decimal (a base é 10). Logo, o intervalo entre 1 e 10 é o mesmo que entre 10 e 100 e que entre 100 e 1000, ou seja, potências da base 10 (100 = 1, 101 = 10, 102 = 100, 103 = 1000, etc.).\nUma escala logarítmica é uma ferramenta de grande utilidade sempre que os diferentes valores a representar diferem em várias ordens de grandeza, tal como neste caso, em que a frequência mínima é 1 e a máxima é 2277.\n\n\nO exemplo anterior ilustra a existência de múltiplas alternativas para a visualização dos dados. A escolha da mais adequada resulta de um processo iterativo de tentativa e erro, explorando as possibilidades do software no sentido de melhorar a apresentação da informação.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Dados Qualitativos</span>"
    ]
  },
  {
    "objectID": "c030-qualitative.html#tutoriais",
    "href": "c030-qualitative.html#tutoriais",
    "title": "3  Dados Qualitativos",
    "section": "Tutoriais",
    "text": "Tutoriais\nDepois de ler este capítulo pode verificar como são implementados estes conceitos no ambiente computacional R. Os tutoriais listados abaixo estão diretamente relacionados com este capítulo.\n\n\n\n\n\n\nTutorial\n\n\n\nDescrição\n\n\n\n\n\n\n\n\nGráficos\n\n\nNoções fundamentais sobre a elaboração de gráficos no R. \n\n\n\n\n\n\nGráfico de Barras\n\n\nConstrução de tabelas de contingência e gráficos de barras no R, para uma ou duas variáveis categóricas. \n\n\n\n\n\n\nNenhum item correspondente\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Dados Qualitativos</span>"
    ]
  },
  {
    "objectID": "c040-quantitative.html",
    "href": "c040-quantitative.html",
    "title": "4  Dados Quantitativos",
    "section": "",
    "text": "4.1 Organização dos dados\nQuando a variável a descrever é de natureza quantitativa o campo de possibilidades de análise é muito maior.\nEsta secção começa por discutir a organização dos dados. Segue-se depois a apresentação das formas mais comuns de representação gráfica e o cálculo e interpretação de estatísticas numéricas.\nAntes de avançar para os métodos propriamente ditos, é necessário considerar como os dados estão organizados e, em caso de necessidade, organizar os mesmos.\nHá três possibilidades para a organização dos dados: dados desagrupados, dados discretos agrupados e dados contínuos agrupados.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Dados Quantitativos</span>"
    ]
  },
  {
    "objectID": "c040-quantitative.html#sec-quant-org",
    "href": "c040-quantitative.html#sec-quant-org",
    "title": "4  Dados Quantitativos",
    "section": "",
    "text": "4.1.1 Dados desagrupados\nQuando se diz que os dados estão desagrupados, significa que ainda não sofreram qualquer tratamento, ou seja, são os dados em bruto, tal como recolhidos, possivelmente depois de serem corrigidas eventuais inconsistências. Por exemplo, o conjunto de dados cars apresenta a variável dist com distância de paragem para um conjunto de carros (em pés ou feet, 1 ft = 30.48 cm). Estes dados estão desagrupados:\n2, 10, 4, 22, 16, 10, 18, 26, 34, 17, 28, 14, 20, 24, 28, 26, 34, 34, 46, 26, 36, 60, 80, 20, 26, 54, 32, 40, 32, 40, 50, 42, 56, 76, 84, 36, 46, 68, 32, 48, 52, 56, 64, 66, 54, 70, 92, 93, 120, 85\n\n\n\n\n\n\nImportante\n\n\n\nQuando se faz análise no computador, o ideal é ter os dados o menos tratados possível, na forma de dados desagrupados. É sempre possível agrupar os dados mas, nem sempre é possível desagrupar, uma vez que, ao agrupar, pode ser perdida informação.\n\n\n\n\n4.1.2 Dados contínuos agrupados\nOs dados desagrupados apresentados acima são difíceis de apreender, pois trata-se de uma lista de números com alguma extensão. A forma mais comum de sumariar os dados é construir uma tabela de frequências, vagamente semelhantes às tabelas de contingência apresentadas na Secção 3.1.\nNuma tabela de frequências o intervalo de valores que a variável abrange é dividido em sub-intervalos, denominados por células ou classes utilizando um critério apropriado, dependente do objetivo. Por exemplo, poder-se-iam resumir as distâncias de paragem numa tabela semelhante à Tabela 4.1.\n\n\n\n\nTabela 4.1: Tabela de frequências para a distância de paragem\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFrequência\n\n\nFrequência Acumulada\n\n\n\nClasse\nAbsoluta\nRelativa (%)\nAbsoluta\nRelativa (%)\n\n\n\n\n0+ — 20\n10\n20\n10\n20\n\n\n20+ — 40\n18\n36\n28\n56\n\n\n40+ — 60\n11\n22\n39\n78\n\n\n60+ — 80\n6\n12\n45\n90\n\n\n80+ — 100\n4\n8\n49\n98\n\n\n100+ — 120\n1\n2\n50\n100\n\n\nTotal\n50\n100\n\n\n\n\n\n\n\n\n\n\nNa Tabela 4.1, para lá das frequências absolutas e relativas (\\(f_k\\) e \\(f'_k\\)), apresentam-se ainda as frequências acumuladas absolutas e relativas (\\(F_k\\) e \\(F'_k\\)). As frequências acumuladas permitem ter a noção de quais os conjunto de células com frequências importantes ou insignificantes.\n\n\n\n\n\n\nCálculo das frequências\n\n\n\nSe \\(f_k\\) representar a frequência absoluta da classe \\(k\\) e \\(n\\) for o total de observações, ou seja, \\(n=\\sum_k f_k\\), então:\n\nFreqência relativa: \\(f'_k = \\frac{f_k}{n}\\)\nFrequência absoluta acumulada: \\(F_k = \\sum_{i=1}^{k}f_i\\)\nFrequência relativa acumulada: \\(F'_k = \\sum_{i=1}^{k}f'_i = \\frac{F_k}{n}\\)\n\n\n\nNote-se que foram tomadas várias decisões, mais ou menos arbitrárias, na construção da tabela de frequências:\n\nNúmero de células: \\(K=\\) 6.\nCélulas iguais com uma amplitude \\(a_k=\\) 20 unidades.\nLimite inferior da primeira célula: 0.\nLimite superior da última célula: 120.\nLimite superior fechado (inclui valores iguais ao limite).\n\nDesta forma, as células abrangem desde o mínimo (2) até ao máximo (120). Naturalmente, desde que as células incluam todas as observações, podem ser definidas arbitrariamente, podendo ter amplitudes iguais ou diferentes (pouco usual). Voltar-se-á a este assunto mais à frente.\n\n\n\n\n\n\nImportante\n\n\n\nAo agrupar os dados, é perdida informação. Se apenas se conhecer a tabela de frequências, é impossível reconstituir os dados originais, apenas os podemos aproximar.\n\n\n\n\n4.1.3 Dados discretos agrupados\nQuando os dados são de natureza discreta ou são dados contínuos que sofreram arredondamento, podemos agrupar os dados sem perder informação. Os dados a seguir (gerados ao acaso) representam as idades dos alunos de uma turma com 35 alunos.\n21, 20, 20, 19, 22, 20, 21, 20, 20, 19, 17, 22, 20, 22, 23, 21, 23, 19, 22, 19, 20, 19, 19, 18, 20, 23, 20, 22, 19, 20, 20, 20, 23, 19, 20\nOs dados poderiam ser sumariados com uma tabela semelhante à Tabela 4.2.\n\n\n\n\nTabela 4.2: Tabela de frequências a idade\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFrequência\n\n\nFrequência Acumulada\n\n\n\nIdade\nAbsoluta\nRelativa (%)\nAbsoluta\nRelativa (%)\n\n\n\n\n17\n1\n2.9\n1\n2.9\n\n\n18\n1\n2.9\n2\n5.7\n\n\n19\n8\n22.9\n10\n28.6\n\n\n20\n13\n37.1\n23\n65.7\n\n\n21\n3\n8.6\n26\n74.3\n\n\n22\n5\n14.3\n31\n88.6\n\n\n23\n4\n11.4\n35\n100.0\n\n\nTotal\n35\n100.0\n\n\n\n\n\n\n\n\n\n\nA diferença para os dados contínuos está na existência de um conjunto restrito de valores discretos. Para construir a tabela de frequências, em vez de definir células como anteriormente, neste caso, cada célula corresponde a um dos valores.\nNote-se que estes tipo de dados tem semelhanças com as variáveis ordinais, no sentido em que se trata de um conjunto de valores ordenados. De facto, a forma mais assertiva de representar graficamente esta informação, seria através de um gráfico de barras como o da Figura 4.1.\n\n\n\n\n\n\n\n\nFigura 4.1: Gráfico de barras para a idade\n\n\n\n\n\n\n\n\n\n\n\nImportante\n\n\n\nQuando se agrupam dados discretos desta forma, não há perda de informação (exceto a ordem das observações, caso fosse relevante). É equivalente ter dados desagrupados ou agrupados desta forma.\n\n\nPara não sobrecarregar este texto, considera-se que temos à disposição dados desagrupados. Quando se está perante dados agrupados em classes, como na Secção 4.1.2 ou na Secção 4.1.3, eventualmente provenientes de uma fonte secundária, há expressões para calcular diversas estatísticas a partir da tabela de frequências que podem ser obtidas de qualquer bom livro de estatística, como Guimarães & Cabral (2010), por exemplo.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Dados Quantitativos</span>"
    ]
  },
  {
    "objectID": "c040-quantitative.html#sec-quant-freq",
    "href": "c040-quantitative.html#sec-quant-freq",
    "title": "4  Dados Quantitativos",
    "section": "4.2 Representação de frequências",
    "text": "4.2 Representação de frequências\nQuando se está perante dados desagrupados, um procedimento exploratório comum é a construção de uma tabela de frequências e sua representação gráfica. A forma mais comum de o fazer é através de um histograma.\nÀ semelhança do gráfico de barras, o histograma representa cada classe com uma barra, cuja altura é proporcional à frequência da classe. A figura Figura 4.2 representa graficamente a Tabela 4.1, que contém as frequências das distâncias de paragem de um conjunto de carros.\n\n\n\n\n\n\n\n\nFigura 4.2: Histograma para a distância de paragem\n\n\n\n\n\nNote-se que há diferenças muito importantes para o gráfico de barras:\n\nO eixo horizontal é numérico, no gráfico de barras eram categorias.\nNão há separação entre as barras, o que reforça a ideia de continuidade.\n\n\n4.2.1 Definição das classes\nPara elaborar um histograma é necessário decidir o número de classes, \\(K\\), a amplitude de cada classe, \\(a_k\\), e onde se localiza cada classe (limites inferior e superior).\nA decisão mais importante é o número de classes. O histograma deve ter um número de classes equilibrado tendo em atenção o seguinte:\n\nUm número de classes muito pequeno produz uma visualização pouco informativa.\nUm número de classes muito grande produz uma visualização confusa com demasiados detalhes irrelevantes.\n\nA Figura 4.3 mostra algumas variantes ao histograma apresentado anteriormente para ilustrar esta questão. Na variante 4.3 (a) o número de classes é claramente escasso e a análise do gráfico não fornece grande informação. Já na variante 4.3 (d) o número de classes é claramente exagerado, havendo muitas classes com uma ou nenhuma observação e demasiados detalhes que dificultam a análise.\nAs figuras 4.3 (b), 4.3 (c), 4.3 (d) e 4.3 (e) implementam diversos métodos conhecidos para determinar o número de classes e produzem resultados aceitáveis.\n\n\n\n\n\n\n\n\n\n\n\n(a) Número escasso\n\n\n\n\n\n\n\n\n\n\n\n(b) Scott\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) R, por omissão\n\n\n\n\n\n\n\n\n\n\n\n(d) Sturges\n\n\n\n\n\n\n\n\n\n\n\n\n\n(e) Freedman-Diaconis\n\n\n\n\n\n\n\n\n\n\n\n(f) Número exagerado\n\n\n\n\n\n\n\nFigura 4.3: Efeito do número de classes no histograma\n\n\n\nEm todos os casos, o limite inferior da primeira classe é 0 (em vez do mínimo, que é 2) e o limite superior é 120 (que coincide com o máximo). Esta estratégia produz resultados esteticamente mais agradáveis e permite julgar mais facilmente os limites das classes.\n\n\n\n\n\n\nNota\n\n\n\nO R tenta sempre alinhar os limites das classes com os intervalos do eixo horizontal, alterando ligeiramente o número de classes recomendado pelos vários métodos que implementa (Sturges (por omissão), Scott e Freedman-Diaconis) para fazer aquele alinhamento. Trata-se de promover um equilíbrio entre questões teóricas, questões práticas e questões estéticas, sempre importantes na visualização de dados.\n\n\n\n\n4.2.2 Análise do histograma\nUm histograma permite uma perspetiva rápida sobre a forma como os dados estão distribuídos, sendo muito bom para julgar 3 aspetos: o tipo de moda, a simetria e a presença de observações incomuns.\n\nTipo de moda\nEm estatística, a moda é o valor (ou vizinhança de um valor) onde a concentração (densidade) de observações é máxima. Perante dados discretos é fácil de determinar a moda, bastando verificar qual o valor mais frequente. No caso de dados contínuos é necessário fazer uma estimativa por outros métodos, uma vez que, por definição, a ocorrência de valores iguais é improvável, ocorrendo quase sempre devido ao arredondamento das medições.\nComo a determinação de uma estimativa exata da moda tem um interesse limitado, o histograma pode ser utilizado para ter uma ideia do tipo de moda que os dados apresentam. Desta forma, são de notar 4 casos:\n\nDistribuição unimodal: tal como o nome indica, há apenas uma moda, ou seja, o histograma apresenta um único pico proeminente, sendo o caso da Figura 4.4 (a). É uma das situações mais frequentes.\nDistribuição bimodal: neste caso já há duas modas, ou seja, o histograma apresenta dois picos proeminentes, sendo o caso da Figura 4.4 (b).\nDistribuição multimodal: trata-se de uma generalização dos conceitos anteriores às situações em que há mais do que dois dois picos proeminentes no histograma, sendo o caso da Figura 4.4 (c). O facto de haver mais do que uma moda levanta a questão da causa, que pode dever-se a uma qualquer característica dos dados com interesse.\nDistribuição uniforme: neste caso não é possível identificar qualquer pico proeminente, tendo todas as barras do histograma uma altura semelhante, como no caso da Figura 4.4 (d).\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Unimodal\n\n\n\n\n\n\n\n\n\n\n\n(b) Bimodal\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Multimodal\n\n\n\n\n\n\n\n\n\n\n\n(d) Uniforme, sem moda\n\n\n\n\n\n\n\nFigura 4.4: Diferentes tipos de moda\n\n\n\n\n\n\n\n\n\nDica\n\n\n\nPara ajudar a visualizar o tipo de moda, deve imaginar-se uma curva suave sobre o histograma, tal como as apresentadas na Figura 4.4. Uma boa forma de uma fazer é imaginar uma corda flexível repousada sobre as barras.\n\n\n\n\nSimetria\nUm outro aspeto que o histograma permite avaliar é a simetria da distribuição dos dados em torno dos valores centrais. Neste caso, há 3 situações:\n\nDistribuição assimétrica à esquerda: o histograma apresenta uma cauda esquerda mais prolongada, tal como na Figura 4.5 (a).\nDistribuição assimétrica à direita: naturalmente é o oposto da anterior, apresentando o histograma uma cauda direita mais prolongada, tal como na Figura 4.5 (b).\nDistribuição simétrica: neste caso, os dados distribuem-se de forma aproximadamente simétrica em torno dos valores centrais, tal como é o caso da Figura 4.5 (c). Note-se que existem quase sempre pequenas assimetrias.\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Assimétrica à esquerda\n\n\n\n\n\n\n\n\n\n\n\n(b) Assimétrica à direita\n\n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n(c) Simétrica\n\n\n\n\n\n \n\n\n\n\nFigura 4.5: Caracterização quanto à simetria\n\n\n\n\n\n\n\n\n\n\nDica\n\n\n\nA assimetria diz-se à esquerda ou à direita conforme a cauda mais prolongada esteja desse mesmo lado. Não tem nada que enganar!\n\n\n\n\nObservações incomuns\nOutra característica que pode ser identificada no histograma é a presença de observações incomuns, vulgarmente designadas no termo inglês outliers.\nUm observação (ou conjunto de observações) é incomum quando se diferenciam de forma bastante evidente das restantes. Na Figura 4.6 mostram-se um exemplo da situação, sendo evidente a presença de algumas observações na cauda direita, claramente destacadas do conjunto principal.\n\n\n\n\n\n\n\n\nFigura 4.6: Histograma com observações incomuns\n\n\n\n\n\nA identificação de observações fora do comum é importante por variadas razões:\n\nDeteção de erros: uma das origens das observações incomuns são erros de medição ou de registo dos dados, sobretudo quando envolve processos manuais. A identificação destas observações é uma oportunidade para confirmar ou não que os valores estão corretos.\nDeteção de assimetrias extremas: caso se confirme que não há erros, os valores incomuns podem indicar assimetrias extremas nos dados e levar à escolha de métodos adequados para lidar com elas, melhorando a qualidade da análise estatística.\nDeteção de características interessantes: os valores incomuns podem revelar características desconhecidas da população que poderá ser interessante estudar.\n\n\n\n\n\n\n\nDica\n\n\n\nO humorista Nuno Markl tem um programa de rádio e podcast intitulado O Homem que Mordeu o Cão, onde relata histórias bizarras que vão ocorrendo pelo mundo. De facto, quando o cão morde o homem é banal. A história é muito mais incomum e interessante quando acontece o contrário.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Dados Quantitativos</span>"
    ]
  },
  {
    "objectID": "c040-quantitative.html#localização-e-dispersão",
    "href": "c040-quantitative.html#localização-e-dispersão",
    "title": "4  Dados Quantitativos",
    "section": "4.3 Localização e dispersão",
    "text": "4.3 Localização e dispersão\nNas secções anteriores mencionaram-se os conceitos de centro, cauda, intervalo, etc., de maneira mais ou menos informal. Nesta secção serão formalizados esses conceitos com definições mais precisas.\nAo descrever um conjunto de dados é comum apresentar estatísticas de localização (por exemplo, a média) e estatísticas de dispersão (por exemplo, a amplitude dos dados). De facto, trata-se de dois parâmetros de grande importância na compreensão das distribuições dos dados.\n\n4.3.1 Localização\nQuando se apresentam estatísticas de localização, o termo refere-se ao valor à volta do qual os dados se distribuem, ou seja, onde estão localizados. Há várias formas de expressar a localização sendo as mais comuns a média, a mediana e a moda (já abordada na Secção 4.2.2).\n\nMédia\nA média de um conjunto de dados desagrupados, normalmente denotada por \\(\\bar{x}\\), pode ser calculada através da expressão:\n\\[\\bar{x} = \\frac{\\sum_i x_i}{n} \\tag{4.1}\\]\n\n\n\n\n\n\nImportante\n\n\n\nÉ necessário distinguir a média populacional, denotado por \\(\\mu\\), da média amostral, denotada por \\(\\bar{x}\\):\n\nA média populacional, \\(\\mu\\), é uma constante definida para a população, normalmente desconhecida. Apenas pode ser calculada se se conhecer a população.\nA média amostral, \\(\\bar{x}\\), é calculada a partir de uma amostra, e pode ser tomada como uma estimativa da média populacional. Quando se descrevem dados, o termo média, quase sempre, se refere à média amostral.\n\n\n\nDaquela definição resulta que a média é um valor localizado no centro dos dados que tem algumas propriedades interessantes:\n\nA soma de todas as diferenças para a média é sempre 0, ou seja, \\(\\sum_i (x_i-\\bar{x}) = 0\\).\nA soma do quadrado de todas as diferenças para uma constante \\(c\\), \\(\\sum_i (x_i-c)^2\\), é mínima quando \\(c = \\bar{x}\\).\n\nEsta propriedades fazem da média o “centro de gravidade” de um conjunto de dados, sendo a medida de localização mais utilizada para descrever dados. Na Figura 4.7 pode visualizar-se a média do conjunto de dados utilizado anteriormente, juntamente com as observações da variável.\n\n\n\n\n\n\n\n\nFigura 4.7: Visualização da média\n\n\n\n\n\nDevido à propriedades enunciadas acima, note-se como soma das distâncias dos pontos à média é igual à esquerda e à direita, sendo mais pequenas e em maior número à esquerda e maiores mas em menor número à direita, pois a distribuição é ligeiramente assimétrica à direita.\n\n\n\n\n\n\nCálculo da média\n\n\n\nUtilizando os dados da distância de paragem apresentados na Secção 4.1.1 o cálculo da média é feito da seguinte forma:\n\\[\\bar{x} = \\frac{2+10+4+22+\\cdots+85}{50} = 42.98\\]\n\n\n\n\n\n\n\n\nCálculo da média (dados agrupados)\n\n\n\nUma outra situação que ocorre com alguma frequência é ter uma situação de dados discretos agrupados, como no exemplo Secção 4.1.3. Neste caso, o cálculo da média pode ser feito a partir da tabela de frequências (Tabela 4.2) através da expressão\n\\[\\bar{x}=\\frac{\\sum_k{x_k f_k}}{n}=\\sum_k{x_k f'_k} \\tag{4.2}\\]\n\\[\\bar{x} = \\frac{17\\times1+18\\times1+19\\times8+\\cdots+23\\times4}{50} = 20.343\\] Multiplicar as idades pelo número de ocorrências é equivalente a somar uma idade o número de vezes que ela ocorre, pelo que a Equação 4.2, para dados discretos agrupados, é equivalente à expressão Equação 4.1 para dados desagrupados.\nNo caso de dados contínuos agrupados, como foi visto, o agrupamento implica perda de informação, logo, não é possível calcular a média de forma equivalente à situação de dados desagrupados. Uma forma de estimar um valor aproximado para a média é utilizar a Equação 4.2 substituindo \\(x_k\\) pelos pontos centrais de cada classe. No caso da Tabela 4.1, ficaria:\n\\[\\bar{x} = \\frac{10\\times10+30\\times18+50\\times11+\\cdots+110\\times1}{50} = 41.6\\]\nComo pode verificar, o valor difere ligeiramente do calculado anteriormente pela expressão Equação 4.1, que foi 42.98. Daí ser sempre preferível ter os dados desagrupados e efetuar os cálculos a partir destes.\n\n\n\n\nMediana\nUma outra medida de localização comum é a mediana. A mediana tem uma definição muito simples, sendo o valor central, depois dos dados ordenados (ou, no caso de um número par de observações, a média dos dois valores centrais).\nPara calcular a mediana, o procedimento é então:\n\nOrdenar os dados\nDeterminar o valor central (número ímpar de observações) ou a média dos dois valores centrais (número par de observações).\n\n\n\n\n\n\n\nCálculo da mediana\n\n\n\n\nConsidere-se a seguinte amostra: 54, 51, 50, 47, 57, 49, 53 (número ímpar de observações)\nNum primeiro passo, devem ordenar-se as observações: 47, 49, 50,  51 , 53, 54, 57\nA mediana é o valor central, ou seja, 51.\nConsidere-se agora a seguinte amostra: 50, 50, 48, 41, 57, 51, 55, 58 (número par de observações)\nNum primeiro passo devem, ordenar-se as observações: 41, 48, 50,  50 ,  51 , 55, 57, 58\nA mediana é a média dos dois valores centrais, ou seja, \\(\\frac{50 + 51}{2} =\\) 50.5.\n\n\n\n\n\nQuantis\nA mediana é um caso particular de um quantil, sendo o quantil \\(Q_p\\) definido como o ponto da distribuição abaixo do qual se situa uma proporção de observações igual a \\(p\\).\nLogo, a mediana é o quantil \\(Q_{\\frac{1}{2}}\\).\nDe facto, é comum o valor de \\(p\\) ser definido como uma fração, \\(p=\\frac{k}{q}\\). Dependendo do valor de \\(q\\), os quantis têm nomes mais específicos:\n\nQuartis para \\(q=4\\): dividem os dados em quatro partes com, aproximadamente, o mesmo número de observações.\nDecis para \\(q=10\\): dividem os dados em 10 partes.\nPercentis para \\(q=100\\): dividem os dados em 100 partes.\n\nNo caso dos quartis, teremos os quartis \\(Q_0\\) (mínimo), \\(Q_1\\) (1.º quartil), \\(Q_2\\) (2.º quartil ou mediana), \\(Q_3\\) (3.º quartil) e \\(Q_4\\) (máximo). Estas estatísticas irão ser utilizadas mais à frente.\n\n\n\n\n\n\nNota\n\n\n\nPara não haver confusão entre quantil e quartil, ambos notados com \\(Q\\), adota-se o seguinte critério:\n\nse \\(Q\\) for seguido de uma fração ou proporção, é um quantil, por exemplo, \\(Q\\frac{1}{20}\\) ou \\(Q_{0.95}\\).\nCaso seja seguido de um inteiro entre 0 e 4 será um quartil, por exemplo, \\(Q_3\\).\n\n\n\nPara calcular o quantil \\(Q_p\\) utiliza-se a seguinte expressão:\n\\[ Q_p = x_{\\lfloor h \\rfloor} + ( h - \\lfloor h \\rfloor)( x_{\\lceil h \\rceil} - x_{\\lfloor h \\rfloor}) \\tag{4.3}\\]\ncom\n\\[h = (n-1) p + 1 \\tag{4.4}\\]\n\n\n\n\n\n\nCálculo de um quantil\n\n\n\nConsidere-se novamente a amostra: 54, 51, 50, 47, 57, 49, 53\nComeçamos por ordenar as observações: 47, 49, 50, 51, 53, 54, 57\nCalcule-se agora o 3.º quartil, ou seja, \\(p=0.75\\).\nAtravés da Equação 4.4, calcule-se, \\(h = (7 - 1) * 0.75 + 1 = 5.5\\), \\(\\lfloor h \\rfloor = 5\\) e \\(\\lceil h \\rceil = 6\\), sendo \\(x_{\\lfloor h \\rfloor}=x_{5} = 53\\) e \\(x_{\\lceil h \\rceil}=x_{6} = 54\\).\nPodemos agora calcular \\(Q_3\\) utilizando a Equação 4.3:\n\\[Q_3 = 53 + (5.5 - 5) * (54 - 53) = 53.5\\]\n\n\n\n\n\n4.3.2 Dispersão\nA dispersão de um conjunto de dados refere-se à variabilidade. Dados com pouca variabilidade estão concentrados num intervalo pequeno e dados com muita variabilidade dispersam-se por um grande intervalo. Naturalmente, os termos grande e pequeno são relativos e devem ser interpretadas no contexto dos dados.\nVão-se analisar algumas medidas de dispersão: a amplitude amostral, a amplitude interquartis, o desvio padrão e a variância.\n\nAmplitude\nA amplitude amostral é simplesmente a diferença entre a observação máxima e a observação mínima.\n\\[A = x_{max}-x_{min} \\tag{4.5}\\]\nSe a amplitude é pequena, os dados estão concentrados tendo pouca dispersão e, se a amplitude for grande, estão mais dispersos.\nPor exemplo no caso das distâncias de paragem da Secção 4.1.1 o valor mínimo é \\(x_{min}=2\\) e o máximo é \\(x_{max}=120\\). Logo, \\(A = x_{max}-x_{min} = 120-2 = 118\\).\nA amplitude é uma medida que é muito afetada por valores atípicos nos extremos. No exemplo acima, caso a observação máxima (120) fosse eliminada, o máximo desta amostra seria 93, reduzindo a amplitude consideravelmente.\n\n\nAmplitude interquartis\nA amplitude interquartis é definida como a diferença entre o terceiro e o primeiro quartis.\n\\[AIQ=Q_3-Q_1 \\tag{4.6}\\]\nPor esse motivo, já não é tão afetada por valores extremos. No exemplo que tem vindo a ser seguido (distâncias de paragem) o primeiro quartil é \\(Q_1 = 26\\), o terceiro quartil é \\(Q_3 = 56\\) resultado numa amplitude interquartis \\(AIQ = 30\\).\n\n\nDiagrama de extremos e quartis\nO diagrama de extremos e quartis, vulgarmente designado em inglês por box plot, serve para representar algumas das estatísticas já apresentadas (mínimo, máximo, quartis, mediana). É um diagrama bastante útil e que fornece um resumo visual dos dados.\nNa Figura 4.8 apresenta-se o diagrama de extremos e quartis para as distâncias de paragem e a figura Figura 4.9 mostra o significado dos vários componentes do diagrama. Os diagramas foram colocados na horizontal por uma questão prática, mas podem ser representados na vertical, transpondo os eixos.\n\n\n\n\n\n\n\n\nFigura 4.8: Diagrama de extremos e quartis (box plot) para a distância de paragem\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigura 4.9: Componentes do diagrama de extremos e quartis\n\n\n\n\n\nNo diagrama, a caixa representa a amplitude interquartis e contém, aproximadamente, 50% das observações da amostra, estando as 25% mais pequenas à esquerda da caixa e as 25% maiores à direita da caixa.\nA partir do diagrama obtém-se uma ideia precisa do centro, da variabilidade, de eventuais observações incomuns e da assimetria da distribuição, sendo uma boa representação para comparar vários grupos de observações.\n\n\n\n\n\n\nNota\n\n\n\nPor regra, os extremos do diagrama podem ir até à observação mais extrema que não ultrapasse \\(r\\) vezes a amplitude interquartis. Na implementação do R, por omissão, é utilizado \\(r = 1.5\\). Neste caso, sendo \\(Q_1 = 26\\), \\(Q_3 = 56\\) e \\(AIQ = 30\\) os extremos poder-se-iam estender até \\(26 - 1.5 \\times 30 = -19\\), à esquerda, e até \\(56 + 1.5 \\times 30 = 101\\), à direita. Todas as observações inferiores a -19 ou superiores a 101 seriam representadas com pontos, fora dos extremos (observações incomuns).\n\n\n\n\nVariância e desvio padrão\nAs últimas medidas de dispersão que se apresentam são a variância e desvio padrão.\nReferiu-se a propósito da média que quando se fazia \\(c = \\bar{x}\\) a soma \\(\\sum_i (x_i-c)^2\\) era mínima. De facto, nessa situação, aquela soma é conhecida por soma dos desvios quadráticos ou SDQ.\n\\[SDQ = \\sum_i (x_i-\\bar{x})^2 \\tag{4.7}\\]\nDividindo aquela soma pelo número de observações menos 1 obtém-se uma medida de dispersão denominada variância amostral e notada por \\(s^2\\).\n\\[s^2 = \\frac{\\sum_i (x_i-\\bar{x})^2}{n-1} \\tag{4.8}\\]\nEsta estatística é uma forma de medir a dispersão, pois quanto mais dispersas estiverem as observações, mais afastadas estarão da média, implicando valores elevados de variância.\n\n\n\n\n\n\nNota\n\n\n\nTal como no caso da média, existe a variância amostral, \\(s^2\\) e a variância populacional, notada com \\(\\sigma^2\\). A relação entre as duas é exatamente a mesma referida para a média: por norma, a variância populacional é uma constante desconhecida que pode ser estimada através da variância amostral. Caso se esteja perante uma população, a expressão é ligeiramente diferente, sendo\n\\[\\sigma^2 = \\frac{\\sum_i (x_i-\\mu)^2}{n} \\tag{4.9}\\]\n\n\nAlternativamente, trabalhando a Equação 4.8, a variância pode ser calculada através da seguinte expressão equivalente:\n\\[s^2 = \\frac{\\sum_i x_i^2-n\\bar{x}^2}{n-1} \\tag{4.10}\\]\nPor norma, a expressão Equação 4.10 é mais prática para efetuar cálculos manuais.\n\n\n\n\n\n\nPropriedades da variância\n\n\n\n\nA variância nunca é negativa. No mínimo, se todas as observações forem iguais, ou seja, se não houver dispersão, a variância é zero.\nAs unidades de medida da variância são as unidades de medida da variável ao quadrado. Por exemplo, se a variável em causa for a idade, em anos, a variância é expressa em anos2.\n\n\n\nEsta última propriedade torna os valores da variância pouco intuitivos, devido à estranheza das dimensões. Por esse motivo, em alternativa à variância podemos expressar a dispersão em termos do desvio padrão que, simplesmente, é definido como a raiz quadrada da variância e é expresso nas mesmas unidades da variável.\n\\[s = \\sqrt{s^2} \\tag{4.11}\\]\n\n\n\n\n\n\nCálculo da variância e do desvio padrão\n\n\n\nConsidere-se novamente amostra: 50, 50, 48, 41, 57, 51, 55, 58\nPara calcular a variância é necessário calcular previamente a média, \\(\\bar{x}= 51.25\\).\nPodemos também calcular\n\\[\\sum_i x_i^2 = 50^2+50^2+48^2+41^2+57^2+51^2+55^2+58^2 = 21224\\] Agora estamos em condições de calcular a variância e o desvio padrão:\n\\[s^2 = \\frac{21224 - 8 \\times 51.25^2}{7} \\approx 30.214\\]\n\\[s = \\sqrt{30.214} \\approx 5.497\\]\n\n\nUma outra vantagem do desvio padrão está numa propriedade derivada da desigualdade de Chebyshev: se definirmos um intervalo à volta da média com uma meia amplitude 3 desvios padrão, temos a garantia de encontrar a quase totalidade das observações dentro desse intervalo1.\nNa Figura 4.10 pode visualizar-se esta propriedade para o exemplo das distâncias de paragem que se tem vindo a tratar.\n\n\n\n\n\n\n\n\nFigura 4.10: Significado do desvio padrão\n\n\n\n\n\nNeste caso, a totalidade das observações está dentro do intervalo de 3 desvios padrão em torno da média (nem sempre acontece, mas, geralmente, a quase totalidade vai estar). Note-se que, mesmo reduzindo o intervalo para 2 desvios padrão em torno da média, apenas 1 observação está fora do intervalo.\n\n\n\n\n\n\nImportante\n\n\n\nNa prática, esta propriedade permite inferir que, para qualquer variável, observações afastadas da média mais de 2 desvios padrão, são raras e, afastadas mais de 3 desvios padrão, são muito raras. Dever-se-á ter esta constatação sempre presente durante a análise estatística.\n\n\n\n\n\n4.3.3 Observações incomuns e valor Z\nDecorre das propriedades do desvio padrão referidas no final da Secção 4.3.2 que a distância entre uma observação e a média, no contexto do valor do desvio padrão permite avaliar quão incomum é a observação.\nUma forma eficiente de avaliar a distância de uma observação à média é através do cálculo do seu valor Z, uma operação designada por padronização ou normalização (embora a normalização possa significar outros conceitos). O valor Z de uma observação, \\(x\\) pode ser calculado com\n\\[z = \\frac{x-\\bar{x}}{s}\\]\nO valor Z é adimensional e indica de forma expedita quantos desvios padrão a observação está acima da média (\\(z\\) positivo) ou abaixo da média (\\(z\\) negativo). Embora, quer o histograma, quer o diagrama de extremos e quartis permitam detetar observações incomuns, os valores Z são mais uma ferramenta ao dispor do analista.\n\n\n\n\n\n\nCálculo de um valor Z\n\n\n\nConsidere-se a primeira observação das distâncias de paragem, \\(x_1 = 2\\). Relembre-se que \\(\\bar{x} = 42.98\\) e \\(s = 25.77\\). O valor z será:\n\\[z_1 = \\frac{2 - 42.98}{25.77} = -1.59\\]\nEsta valor significa que a observação está -1.59 desvios padrão abaixo da média (Figura 4.11).\n\n\nNote-se que a padronização não altera a distância relativa entre as observações. Se a padronização for aplicada a toda a distribuição, os dados padronizados terão média igual a 0 e desvio padrão igual a 1. Tal pode ser facilmente demonstrado introduzindo a transformação nas equações 4.1 e 4.8. A Figura 4.11 ilustra este ponto, utilizando o exemplo das distâncias de paragem.\n\n\n\n\n\n\n\n\n\n\n\n(a) Dados originais\n\n\n\n\n\n\n\n\n\n\n\n(b) Valores Z\n\n\n\n\n\n\nFigura 4.11: Distribuição dos valores Z\n\n\n\n\n\n\n\n\n\n\nImportante\n\n\n\nRegra geral, uma observação cujo valor Z, em termos absolutos, seja superior a 3, ou seja, \\(|z| &gt; 3\\), é incomum. Tais observações são raras e podem indicar erros nos dados ou características interessantes da distribuição, tal como referido na Secção 4.2.2.\nDa mesma forma, valores Z absolutos entre 2 e 3, são também algo incomuns e devem merecer um segundo olhar do analista.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Dados Quantitativos</span>"
    ]
  },
  {
    "objectID": "c040-quantitative.html#estatísticas-robustas",
    "href": "c040-quantitative.html#estatísticas-robustas",
    "title": "4  Dados Quantitativos",
    "section": "4.4 Estatísticas robustas",
    "text": "4.4 Estatísticas robustas\nAs estatísticas calculadas a partir dos dados devem possuir algumas propriedades que as torne adequadas à análise que se pretende efetuar. Uma dessas propriedades é a robustez. A robustez consiste na propriedade do valor da estatística não ser muito afetado por observações incomuns.\nDos estimadores descritos nas secções anteriores, a mediana e a amplitude interquartis são estatísticas robustas. Já a média e o desvio padrão (ou variância) não são estatísticas robustas.\n\n\n\n\n\n\nImportante\n\n\n\nClassificação quanto à robustez:\n\nRobustas: mediana, amplitude interquartis.\nNão robustas: média, desvio padrão (ou variância).\n\n\n\nConsidere-se novamente o conjunto de dados relativo às distâncias de paragem. Para se ilustrar a questão da robustez, vão calcular-se as quatro estatísticas mencionadas, em 4 cenários diferentes:\n\nDados originais.\nDados originais mais 1 observação igual a 172 (aproximadamente, o máximo dos dados originais mais 2 desvios padrão)\nDados originais mais 1 observação igual a 223 (máximo mais 4 desvios padrão)\nDados originais mais 1 observação igual a 275 (máximo mais 6 desvios padrão)\n\nA Tabela 4.3 mostra o resultado dos cálculos para os cenários enumerados.\n\n\n\n\nTabela 4.3: Avaliação da robustez de algumas estatísticas\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEstatísticas não robustas\n\n\nEstatísticas robustas\n\n\n\n\nMédia\nDesvio padrão\nMediana\nAIQ\n\n\n\n\nCenário 1 (dados originais)\n42.98\n25.77\n36\n30\n\n\nCenário 2 (dados e 172)\n45.51\n31.26\n36\n32\n\n\nCenário 3 (dados e 223)\n46.51\n35.86\n36\n32\n\n\nCenário 4 (dados e 275)\n47.53\n41.31\n36\n32\n\n\n\n\n\n\n\n\nComo pode verificar, as estatísticas robustas (mediana e AIQ), ou não se alteram, ou apenas se alteram ligeiramente. Já as estatísticas não robustas são muito sensíveis a observações extremas, mesmo que, como é o caso, seja apenas 1 observação.\nIsto não quer dizer que as estatísticas não robustas são de evitar, pois possuem outras propriedades desejáveis. A média e o desvio padrão são estatísticas importantes com inúmeras aplicações práticas. Simplesmente, não são robustas, o que as torna pouco adequadas quando a robustez for uma propriedade importante.\nTipicamente, se os dados puderem conter observações extremas, devem valorizar-se estatísticas robustas. Por exemplo, se quisermos avaliar o rendimento típico das famílias, a estatística mais adequada é a mediana, pois a média é afetada pelas observações extremas que ocorrem na cauda direita desta distribuição. Há sempre famílias com rendimentos atípicos muito elevados que vão fazer com que o valor da média tenha pouco significado.\n\n\n\n\n\n\nDica\n\n\n\nSe tiver 10 pessoas em que 9 têm um rendimento igual a 10 e a última tem um rendimento igual a 100, a mediana é 10 e a média é 19. Claramente, a média não é representativa do rendimento típico.\n\n\n\nMédia, mediana e simetria\nUma consequência do que foi afirmado acima acerca da média e da mediana está expresso na Figura 4.12. A figura recupera os dados da Figura 4.5 e acrescenta a posição da média e da mediana. Acrescentou-se igualmente uma linha de densidade estimada (como o conceito de densidade ainda não foi apresentado, deve entendê-la como um sinónimo de concentração de observações numa vizinhança).\n\n\n\n\n\n\n\n\n\n\n\n(a) Assimétrica à esquerda\n\n\n\n\n\n\n\n\n\n\n\n(b) Assimétrica à direita\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Simétrica\n\n\n\n\n\n\n\n\n\n\n\n(d) Legenda\n\n\n\n\n\n\n\nFigura 4.12: Média, mediana e simetria\n\n\n\nOs gráficos ilustram como se posicionam média e mediana, em termos relativos, quando a distribuição é assimétrica. Enquanto que numa distribuição aproximadamente simétrica, moda, mediana e média estão sensivelmente no mesmo ponto (Figura 4.12 (c)), numa distribuição assimétrica as 3 estatísticas tomam valores diferentes. Numa distribuição assimétrica à esquerda, a média é menor que a mediana, e esta é menor que a moda (Figura 4.12 (a)). Numa distribuição assimétrica à direita acontece o oposto: a média é maior que a mediana, que por sua vez é maior que a moda (Figura 4.12 (b)).\nCom o aumento da assimetria, as estatísticas menos robustas deslizam em direção a uma das caudas, dependendo da assimetria.\n\n\n\n\n\n\nImportante\n\n\n\nGeralmente:\n\nEm distribuições aproximadamente simétricas: moda \\(\\approx\\) mediana \\(\\approx\\) média.\nEm distribuições assimétricas à esquerda: moda &gt; mediana &gt; média.\nEm distribuições assimétricas à direita: moda &lt; mediana &lt; média.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Dados Quantitativos</span>"
    ]
  },
  {
    "objectID": "c040-quantitative.html#tutoriais",
    "href": "c040-quantitative.html#tutoriais",
    "title": "4  Dados Quantitativos",
    "section": "Tutoriais",
    "text": "Tutoriais\nDepois de ler este capítulo pode verificar como são implementados estes conceitos no ambiente computacional R. Os tutoriais listados abaixo estão diretamente relacionados com este capítulo.\n\n\n\n\n\n\nTutorial\n\n\n\nDescrição\n\n\n\n\n\n\n\n\nGráficos\n\n\nNoções fundamentais sobre a elaboração de gráficos no R. \n\n\n\n\n\n\nHistogramas\n\n\nConstrução e configuração de histogramas no R. \n\n\n\n\n\n\nDiagramas de Extremos e Quartis\n\n\nConstrução e configuração de diagramas de extremos e quartis no R. \n\n\n\n\n\n\nNenhum item correspondente\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Dados Quantitativos</span>"
    ]
  },
  {
    "objectID": "c040-quantitative.html#footnotes",
    "href": "c040-quantitative.html#footnotes",
    "title": "4  Dados Quantitativos",
    "section": "",
    "text": "Num intervalo centrado na média, com uma meia amplitude de 3 desvios padrão, é garantido encontrar \\(8/9 \\approx 88.9\\%\\) da distribuição dentro do intervalo. Na prática, está demonstrado que este limite é, em geral, muito conservador, havendo inúmeros casos em que a proporção de observações dentro do intervalo é muito próxima de 100%.↩︎",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Dados Quantitativos</span>"
    ]
  },
  {
    "objectID": "c050-bivariate.html",
    "href": "c050-bivariate.html",
    "title": "5  Dados Bivariados",
    "section": "",
    "text": "5.1 Duas variáveis categóricas\nNesta secção são apresentadas as principais técnicas para descrever o relacionamento entre duas variáveis. No final do capítulo aborda-se, de forma sumária, algumas alternativas para incluir mais do que duas variáveis numa visualização.\nA secção está organizada segundo o tipo de variáveis envolvidas: ambas categóricas (Secção 5.1), uma categórica e uma numérica (Secção 5.2) ou ambas numéricas (Secção 5.3). No final aborda-se o caso de se pretender envolver mais do que duas variáveis (Secção 5.4).\nQuando se está perante duas variáveis categóricas, a informação pode ser visualizada num gráfico de barras ou num gráfico em mosaico. Também é possível medir o grau de independência das variáveis através de estatísticas adequadas que não se apresentam neste capítulo.\nPara ilustrar estas visualizações vamos utilizar o conjunto de dados do R HairEyeColor, que contém a cor do cabelo e a cor dos olhos de um conjunto de alunos. A Tabela 5.1 mostra uma tabela de contingência cruzada para as duas variáveis.\nTabela 5.1: Tabela de contingência para a cor dos olhos e do cabelo\n\n\n\n\n \n\n\nCabelo\n\n\n  \n    Olhos \n    Black \n    Blond \n    Brown \n    Red \n    Total \n  \n \n\n  \n    Blue \n    20 \n    94 \n    84 \n    17 \n    215 \n  \n  \n    Brown \n    68 \n    7 \n    119 \n    26 \n    220 \n  \n  \n    Green \n    5 \n    16 \n    29 \n    14 \n    64 \n  \n  \n    Hazel \n    15 \n    10 \n    54 \n    14 \n    93 \n  \n  \n    Total \n    108 \n    127 \n    286 \n    71 \n    592 \n  \n\n\n\na Intencionalmente, os nomes das cores não foram traduzidos.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Dados Bivariados</span>"
    ]
  },
  {
    "objectID": "c050-bivariate.html#sec-bivar-cat",
    "href": "c050-bivariate.html#sec-bivar-cat",
    "title": "5  Dados Bivariados",
    "section": "",
    "text": "5.1.1 Gráfico de barras\nO gráfico de barras é a ferramenta de eleição para representar informação categórica. No caso de haver duas variáveis o gráfico pode ser apresentado em três variantes: barras sobrepostas, barras agrupadas e barras sobrepostas normalizadas. Vamos analisar as três variantes. Em qualquer das variantes, o eixo horizontal apresenta uma das variáveis e o eixo vertical representa frequências. A segunda variável é apresentada utilizando cores.\n\nBarras sobrepostas\nNum gráfico de barras sobrepostas, as frequências da segunda variável são sobrepostas na mesma barra, utilizando cores diferentes. A Figura 5.1 exemplifica o que foi dito. A mesma informação pode ser apresentada de duas formas, trocando as variáveis entre o eixo horizontal e a legenda. Naturalmente, deve ser preferida a figura que melhor ilustre as conclusões.\n\n\n\n\n\n\n\n\n\n\n\n(a) cor do cabelo no eixo\n\n\n\n\n\n\n\n\n\n\n\n(b) cor dos olhos no eixo\n\n\n\n\n\n\n\nFigura 5.1: Gráfico de barras sobrepostas\n\n\n\nNeste gráfico, as comparações entre categorias da segunda variável são difíceis de fazer, especialmente se as barras ou os segmentos tiverem tamanhos muito diferentes.\n\n\nBarras agrupadas\nEm vez de sobrepor vários segmentos numa barra, pode criar-se uma barra para cada categoria da segunda variável e agrupar as barras. A Figura 5.2 ilustra este tipo de gráfico.\n\n\n\n\n\n\n\n\n\n\n\n(a) cor do cabelo no eixo\n\n\n\n\n\n\n\n\n\n\n\n(b) cor dos olhos no eixo\n\n\n\n\n\n\n\nFigura 5.2: Gráfico de barras agrupadas\n\n\n\nNeste caso, é fácil comparar as categorias da segunda variável, mas dificulta a perceção dos totais para cada categoria em ambas as variáveis. Esta alternativa pode gerar gráficos confusos, caso haja muitas categorias.\n\n\nBarras sobrepostas normalizadas\nUma última alternativa para visualizar a informação consiste em normalizar a altura das colunas para 1 unidade ou 100%. A Figura 5.3 apresenta esta alternativa.\n\n\n\n\n\n\n\n\n\n\n\n(a) cor do cabelo no eixo\n\n\n\n\n\n\n\n\n\n\n\n(b) cor dos olhos no eixo\n\n\n\n\n\n\n\nFigura 5.3: Gráfico de barras sobrepostas normalizadas\n\n\n\nEsta variante facilita a comparação de categorias, mas não é possível ajuízar as frequências absolutas em cada categoria.\n\n\n\n\n\n\nImportante\n\n\n\nComo se pode constatar, mesmo com uma visualização simples, existem inúmeras alternativas relativamente à ordem das variáveis, à ordem das categorias, etc. A alternativa mais adequada depende daquilo que se quer salientar. A escolha do melhor gráfico envolve um processo de experimentação por tentativa e erro até obter resultados satisfatórios.\n\n\n\n\n\n5.1.2 Gráfico em mosaico\nUma outra forma de visualizar a relação entre duas variáveis categóricas é o gráfico em mosaico. No fundo, trata-se de uma variante ao gráfico de barras em que a largura das barras é proporcional às frequências na categoria respetiva. A Figura 5.4 mostra duas variantes em que apenas se trocaram as variáveis de eixo. Neste caso foram utilizadas cores, mas o gráfico também é aceitável com apenas uma cor.\n\n\n\n\n\n\n\n\n\n\n\n(a) cor do cabelo no eixo\n\n\n\n\n\n\n\n\n\n\n\n(b) cor dos olhos no eixo\n\n\n\n\n\n\n\nFigura 5.4: Gráfico em mosaico\n\n\n\nNeste gráfico são claras as proporções para cada variável e a proporção global de cada célula, no entanto, se houver muitas categorias o gráfico torna-se difícil de interpretar.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Dados Bivariados</span>"
    ]
  },
  {
    "objectID": "c050-bivariate.html#sec-bivar-cat-num",
    "href": "c050-bivariate.html#sec-bivar-cat-num",
    "title": "5  Dados Bivariados",
    "section": "5.2 Uma variável categórica e uma numérica",
    "text": "5.2 Uma variável categórica e uma numérica\nQuando se está perante uma variável numérica e uma variável categórica, por norma, pretende-se avaliar as diferenças entre as várias categorias que a variável numérica apresenta. Naturalmente, as estatísticas referidas para uma variável (média, desvio padrão, etc.) podem ser calculadas e analisadas para cada grupo de observações. Graficamente, há duas alternativas genéricas:\n\nNo mesmo gráfico, utilizar diferentes elementos visuais para diferenciar as categorias. Esta abordagem pode ser estendida a mais do que duas variáveis.\nSegmentar os dados da variável contínua por categoria e elaborar um subgráfico para cada categoria.\n\nPara ilustrar as diferentes alternativas vamos utilizar o conjunto de dados chickwts disponível no R. Estes dados contêm o peso de 6 conjuntos de frangos com 6 semanas após terem sido alimentados com diferentes dietas. Na Tabela 5.2 apresentam-se algumas estatísticas para cada dieta.\n\n\n\n\nTabela 5.2: Estatísticas para as várias dietas (chickwts)\n\n\n\n\n \n  \n    Dieta \n    Mínimo \n    Q1 \n    Mediana \n    Média \n    Q3 \n    Máximo \n  \n \n\n  \n    casein \n    216 \n    277.25 \n    342.0 \n    323.5833 \n    370.75 \n    404 \n  \n  \n    horsebean \n    108 \n    137.00 \n    151.5 \n    160.2000 \n    176.25 \n    227 \n  \n  \n    linseed \n    141 \n    178.00 \n    221.0 \n    218.7500 \n    257.75 \n    309 \n  \n  \n    meatmeal \n    153 \n    249.50 \n    263.0 \n    276.9091 \n    320.00 \n    380 \n  \n  \n    soybean \n    158 \n    206.75 \n    248.0 \n    246.4286 \n    270.00 \n    329 \n  \n  \n    sunflower \n    226 \n    312.75 \n    328.0 \n    328.9167 \n    340.25 \n    423 \n  \n\n\n\n\na Intencionalmente, os nomes das dietas não foram traduzidos.\n\n\n\n\n\n\n\n\n\nUma forma de visualizar os dados consiste na utilização de um diagrama de extremos e quartis para cada categoria, apresentados no mesmo gráfico. A Figura 5.5 apresenta duas versões do gráfico referido.\n\n\n\n\n\n\n\n\n\n\n\n(a) apenas uma cor\n\n\n\n\n\n\n\n\n\n\n\n(b) uma cor por categoria\n\n\n\n\n\n\n\nFigura 5.5: Diagrama de extremos e quartis por categoria\n\n\n\nNa versão 5.5 (b), ao contrário da versão 5.5 (a) são utilizadas cores. Neste caso, a utilização da cor é redundante e não acrescenta nada à compreensão do gráfico, sendo preferível a primeira versão. Se o gráfico estiver inserido num conjunto de materiais em que se associa uma cor a cada categoria, fará sentido utilizar cores.\nCaso se pretenda ter mais detalhes sobre a distribuição, uma outra forma de visualizar os dados consiste em segmentar o gráfico em vários subgráficos, um por cada categoria. A Figura 5.6 mostra o resultado quando se aplica a segmentação ao histograma.\n\n\n\n\n\n\n\n\nFigura 5.6: Histogramas parciais por tipo de dieta\n\n\n\n\n\nNote-se o cuidado de utilizar as mesmas escalas para todos os histogramas com o objetivo de facilitar a comparação entre histogramas.\nEsta técnica – utilização de uma (ou mais) variável categórica para segmentar os dados – não se limita ao histograma e pode ser utilizada para outro tipo de gráficos.\nNo caso do histograma, encontram-se com alguma frequência casos em que são colocados dois ou mais histogramas no mesmo gráfico, utilizando barras de cor diferente para separar visualmente as categorias. A não ser em casos muito concretos, com poucas (2) categorias e pouca sobreposição, tende a resultar num gráfico confuso. Na Figura 5.7 exemplifica-se a colocação de dois histogramas no mesmo gráfico usando cores diferentes.\n\n\n\n\n\n\n\n\nFigura 5.7: Histogramas parciais por tipo de dieta\n\n\n\n\n\nNote-se que, mesmo com apenas duas categorias e uma zona de sobreposição reduzida, o gráfico é confuso, sendo muito mais clara a Figura 5.6. Claramente, é um tipo de gráfico que não se recomenda.\n\n\n\n\n\n\nImportante\n\n\n\nTipicamente, na presença de uma variável categórica e de uma variável numérica, o objetivo é verificar se a variável numérica se comporta da mesma forma para as diversas categorias.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Dados Bivariados</span>"
    ]
  },
  {
    "objectID": "c050-bivariate.html#sec-bivar-num",
    "href": "c050-bivariate.html#sec-bivar-num",
    "title": "5  Dados Bivariados",
    "section": "5.3 Duas variáveis numéricas",
    "text": "5.3 Duas variáveis numéricas\nPerante duas variáveis numéricas o objetivo da análise descritiva passa por estudar como elas estão relacionadas. Mais uma vez, pode recorrer-se ao cálculo de estatísticas e a métodos gráficos.\n\n5.3.1 Diagrama de dispersão\nO diagrama de dispersão, muitas vezes designado em inglês por scatter plot, é um digrama de pontos em que cada ponto representa o par de observações para as variáveis envolvidas, estando uma variável associada ao eixo horizontal e a outra associada ao eixo vertical.\nPara ilustrar os conteúdos desta secção vai-se utilizar o conjunto de dados trees disponível no R. Este conjunto de dados contém medições do diâmetro (em polegadas) e da altura (em pés) relativos a 31 árvores da mesma espécie. A Figura 5.8 mostra o diagrama de dispersão para estes dados.\n\n\n\n\n\n\n\n\nFigura 5.8: Diagrama de dispersão\n\n\n\n\n\nO diagrama de dispersão permite avaliar o tipo e o grau de relacionamento entre as variáveis. O tipo de relacionamento pode ser classificado em:\n\nPositivo: tendencialmente, as variáveis variam conjuntamente no mesmo sentido, isto é, quando uma aumenta a outra também aumenta.\nNegativo: tendencialmente, as variáveis variam conjuntamente em sentidos opostos, isto é, quando uma aumenta a outra diminui.\n\nNo caso da Figura 5.8 parece haver um relacionamento positivo entre as variáveis, o que faz sentido, pois o diâmetro e a altura das árvores tendem ambos a aumentar com a idade.\n\n\n5.3.2 Ajuste de uma linha de tendência\nPara melhor visualizar o tipo de relacionamento entre as variáveis pode estimar-se uma relação linear. Uma relação linear é uma reta ajustada aos dados. Se a reta for definida pela equação reduzida, \\(y=a+bx\\), estimar a relação linear corresponde a estimar os valores das constantes \\(a\\) e \\(b\\).\nEmbora este assunto vá ser aprofundado no capítulo relativo à regressão, para estimar os valores de \\(a\\) e \\(b\\) é necessário definir uma medida de ajuste. Como a reta ajustada faz uma estimativa do valor de \\(y\\) para um determinado valor de \\(x\\), podemos definir o erro de ajuste, \\(e_i\\), para cada observação, como a diferença entre o valor de \\(y_i\\) e o valor estimado pela reta, \\(\\hat{y_i}\\), ou seja, para cada observação, \\(e_i\\) é dado por\n\\[e_i = y_i - \\hat{y_i} = y_i - (a + bx_i) \\tag{5.1}\\]\nOs erros de ajuste podem ser visualizados na Figura 5.9. Como se pode verificar vão existir erros positivos (pontos acima da reta) e erros negativos (pontos abaixo da reta), havendo uma infinidade de retas que igualam a soma dos erros a 0, por exemplo, qualquer reta que passe pelo ponto \\((\\bar{x}, \\bar{y})\\).\n\n\n\n\n\n\n\n\nFigura 5.9: Visualização dos erros de ajuste numa relação linear\n\n\n\n\n\nPara estimar o melhor ajuste é utilizado o método dos mínimos quadrados, que consiste em minimizar a soma dos erros elevados ao quadrado, \\(SEQ\\), definida como\n\\[SEQ=\\sum_i e_i = \\sum_i y_i - (a + bx_i) \\tag{5.2}\\]\nPara determinar os valores de \\(a\\) e \\(b\\) que minimizam aquela soma, utilizam-se derivadas. Seja \\(SEQ(a, b)\\) uma função de \\(a\\) e \\(b\\) que resulta na soma dos erros aos quadrado para um determinado conjunto de dados. Para determinar \\(a\\) e \\(b\\) basta resolver o seguinte sistema de equações:\n\\[\n\\begin{cases}\n  \\frac{\\partial SEQ(a,b)}{\\partial a} = 0 \\\\\n  \\frac{\\partial SEQ(a,b)}{\\partial b} = 0\n\\end{cases}\n\\tag{5.3}\\]\nA resolução do sistema de equações (omitida, é um bom exercício) resulta em\n\\[\n\\begin{cases}\n  b= \\frac{\\sum_i(x_i-\\bar{x})(y_i-\\bar{y})}{\\sum_i(x_i-\\bar{x})^2} = \\frac{S_{xy}}{S_{xx}} \\\\\n  a= \\bar{y} - b\\bar{x}\n\\end{cases}\n\\tag{5.4}\\]\nO coeficiente de correlação de Pearson é uma medida de associação que pode variar entre -1 (associação linear negativa perfeita) e 1 (associação linear positiva perfeita).\n\nExercício 5.1 (Cálculo dos coeficientes \\(a\\) e \\(b\\)) Considere os dados usados na Figura 5.9:\n\nVariável \\(x\\): 1, 2, 3, 4, 5, 6, 7\nVariável \\(y\\): 3, 2, 6, 3, 7, 8, 6\n\nPara estimar os valores de \\(a\\) e \\(b\\):\n\nComeçar por calcular as médias. Deve obter \\(\\bar{x}=4\\) e \\(\\bar{y}=5\\).\nCalcular as diferenças:\n\n\\((x_i-\\bar{x})\\), obtendo: -3, -2, -1, 0, 1, 2, 3\n\\((y_i-\\bar{y})\\), obtendo -2, -3, 1, -2, 2, 3, 1\n\nCalcular os produtos:\n\n\\((x_i-\\bar{x})(y_i-\\bar{y})\\), obtendo: 6, 6, -1, 0, 2, 6, 3\n\\((x_i-\\bar{x})^2\\), obtendo: 9, 4, 1, 0, 1, 4, 9\n\nCalcular \\(S_{xy}\\) e \\(S_{xx}\\). Deverá obter \\(S_{xy} = 22\\) e \\(S_{xx} = 28\\).\nCalcular \\(b = \\frac{S_{xy}}{S_{xx}} = \\frac{22}{28} \\approx 0.79\\)\nCalcular \\(a= \\bar{y} - b\\bar{x} = 5 - 0.79\\times 4 \\approx 1.86\\)\n\n\n\n\n\n\n\n\nExpressões alternativas\n\n\n\n\\[S_{xy} = \\sum_i(x_i-\\bar{x})(y_i-\\bar{y}) = \\sum_i x_i y_i - n\\bar{x}\\bar{y}\\] \\[S_{xx} = \\sum_i(x_i-\\bar{x})^2 = \\sum_i x_i^2 - n\\bar{x}\\]\n\\[S_{yy} = \\sum_i(y_i-\\bar{y})^2 = \\sum_i y_i^2 - n\\bar{y}\\]\n\n\nProcedendo de forma semelhante ao Exercício 5.1, utilizando os dados do conjunto trees, apresentam-se novamente na Figura 5.10 os dados, a que se adicionou a relação linear ajustada.\n\n\n\n\n\n\n\n\nFigura 5.10: Diagrama de dispersão com linha de tendência\n\n\n\n\n\n\n\n\n\n\n\nImportante\n\n\n\nÉ sempre possível ajustar uma relação linear a um conjunto de dados (excetuando o caso de todos os valores de da variável \\(X\\) serem todos iguais, que não tem qualquer interesse prático). O facto de se poder calcular um ajuste linear não significa que as variáveis tenham uma relação linear ou que existe uma relação de causa e efeito. São apenas cálculos, que devem ser interpretados no contexto dos dados.\nPor exemplo, na Figura 5.10 pode verificar-se que os erros não estão distribuídos de forma aproximadamente simétrica em torna da reta. Isto indica que a relação entre as variáveis, provavelmente, não é linear.\n\n\n\n\n5.3.3 Coeficiente de correlação\nA análise visual feita na Secção 5.3.2 pode não ser muito precisa, pois é baseada na perceção do diagrama de dispersão que, em larga medida, é subjetiva. Nesta secção propõe-se algumas estatísticas para avaliar o relacionamento de duas variáveis de forma mais assertiva.\nPodemos inferir se a associação entre duas variáveis é positiva ou negativa, através do sinal do coeficiente \\(b\\). Na Equação 5.4 pode verificar-se que o sinal de \\(b\\) é igual ao sinal do produto cruzado \\(S_{xy}\\), uma vez que \\(S_{xx}\\) terá que ser não negativo.\nDividindo o produto cruzado \\(S_{xy}\\) pelo número de observações menos 1 (tal como no cálculo da variância) obtém-se uma medida designada por covariância, \\(cov_{xy}\\).\n\\[cov_{xy} = \\frac{S_{xy}}{n-1} = \\frac{(x_i-\\bar{x})(y_i-\\bar{y})}{n-1} \\tag{5.5}\\]\nEmbora se possa estabelecer o sentido da associação entre as variáveis a partir do sinal da covariância, o valor absoluto da covariância é difícil de interpretar, pois depende da escala na qual as variáveis estão expressas.\nPor este motivo, dividindo a covariância pelo produto dos desvios padrão obtem-se uma medida adimensional mais fácil de interpretar: o coeficiente de correlação (de Pearson), \\(r_{xy}\\).\n\\[r_{xy} = \\frac{cov_{xy}}{s_x s_y} \\tag{5.6}\\]\n\nExercício 5.2 (Cálculo do coeficiente de correlação) Tomando novamente os dados do Exercício 5.1, comece-se por calcular a covariância:\n\\[cov_{xy} = \\frac{S_{xy}}{n-1} = \\frac{22}{7-1} \\approx 3.67\\]\nÉ necessário também calcular o valor do desvio padrão de ambas as variáveis, obtendo-se \\(s_x \\approx 2.16\\) e \\(s_y \\approx 2.31\\).\nAgora pode-se calcular o valor do coeficiente de correlação amostral:\n\\[r_{xy} = \\frac{cov_{xy}}{s_x s_y} = \\frac{3.67}{2.16\\times 2.31} \\approx 0.735\\]\n\nO coeficiente de correlação linear (Pearson) mede o grau de associação linear entre as variáveis. No entanto, a não existência de uma relação linear não significa que não haja uma relação. Na Figura 5.11 mostram-se vários conjuntos de dados e os respetivos coeficientes de correlação linear.\n\n\n\n\n\n\n\n\nFigura 5.11: Exemplos de coeficientes de correlação 1\n\n\n\n\n\nRelativamente à Figura 5.11 verifica-se o seguinte:\n\nPerante uma relação linear, o coeficiente aproxima-se de -1 ou de 1 conforme o conjunto de pontos mais se aproxime da colineariedade, sendo 0 quando não existe qualquer tipo de correlação (linha 1).\nPerante uma relação linear perfeita, o coeficiente de correlação é sempre igual a -1 ou a 1, apenas dependendo do sinal do declive que os pontos formam (linha 2).\nCoeficientes de correlação elevados não implicam necessariamente uma relação linear, havendo muitas relações não lineares que apresentam coeficientes elevados (linha 3).\nUm coeficiente de correlação nulo não implica a inexistência de padrões de relacionamento entre as variáveis. Apenas não se trata de relações lineares (linha 4).\n\n\n\n\n\n\n\nDica\n\n\n\n\nUm coeficente de correlação linear elevado não significa necessariamente que haja uma relação linear entre as variáveis, pode haver ou não haver.\nUm coeficiente de correlação linear nulo não significa que as variáveis não possam estar relacionadas.\nÉ sempre necessário inspecionar o digrama de dispersão!\n\n\n\n\n\n\n\n\n\nExpressão alternativa para o cálculo do coeficiente de correlação\n\n\n\nO coeficiente de correlação também pode ser calculado com a Equação 5.7, especialmente útil para cálculos manuais.\n\\[r_{xy} = \\frac{S_{xy}}{\\sqrt{S_{xx}}\\sqrt{S_{yy}}}\n= \\frac{\\sum_i x_i y_i - n\\bar{x}\\bar{y}} {\\sqrt{\\sum_i x_i^2 - n\\bar{x}^2} \\sqrt{\\sum_i y_i^2 - n\\bar{y}^2}} \\tag{5.7}\\]\nNote-se também que\n\\[r_{xy} = b\\frac{\\sqrt{S_{xx}}}{\\sqrt{S_{yy}}} \\tag{5.8}\\]\nque mostra que o coeficiente de correlação é nulo quando o declive da relação linear ajustada é nulo.\n\n\n\n\n5.3.4 Coeficiente de determinação\nUma outra medida que pode ser utilizada para medir o grau de relacionamento entre duas variáveis numéricas é o coeficiente de determinação, \\(r_{xy}^2\\), ou seja, o quadrado do coeficiente de correlação.\n\\[r_{xy}^2 = \\frac{S_{xy}^2}{S_{xx} S_{yy}} = b^2 \\frac{S_{xx}}{S_{yy}} \\tag{5.9}\\]\nManipulando as expressões apresentadas ao longo das secções anteriores, consegue-se demonstrar que\n\\[r_{xy}^2 = \\frac{\\sum_i(\\hat{y_i}-\\bar{y})^2}{\\sum_i(y_i-\\bar{y})^2} \\tag{5.10}\\]\nNote-se que, para cada observação,\n\\[y_i-\\bar{y} = (y_i-\\hat{y_i})+(\\hat{y_i}-\\bar{y}) = e_i+(\\hat{y_i}-\\bar{y}) \\tag{5.11}\\]\nA interpretação geométrica da Equação 5.11 pode ser visualizada na Figura 5.12.\n\n\n\n\n\n\n\n\nFigura 5.12: Interpretação geométrica do coeficiente de determinação\n\n\n\n\n\nA relação estimada prevê que, quando a variável \\(X\\) se altera de \\(\\bar{x}\\) para \\(x_i\\), o valor de \\(Y\\) deve passar de \\(\\bar{y}\\) para \\(\\hat{y_i}\\) (variação explicada). A diferença entre o valor de \\(y_i\\) e \\(\\hat{y_i}\\) é o erro da previsão ou estimativa (variação não explicada). Estas duas diferenças somadas são iguais à diferença entre \\(y_i\\) e \\(\\bar{y}\\) (variação total).\nNeste contexto, através da Equação 5.10, podemos entender o \\(r_{xy}^2\\) como o quociente entre a variação em \\(Y\\) que a reta ajustada explica e a variação total em \\(Y\\). Este quociente será um valor entre 0 e 1 e pode ser entendido como a proporção de variação que a reta ajustada explica. Naturalmente, quanto mais as observações estiverem próximas da reta ajustada, mais o coeficiente de determinação se aproxima de 1.\nUma outra forma de expressar o coeficiente de determinação é\n\\[r_{xy}^2 = 1 - \\frac{\\sum_i(y_i - \\hat{y_i})^2}{\\sum_i(y_i-\\bar{y})^2} = 1- \\frac{\\sum_i e_i^2}{S_{yy}} \\tag{5.12}\\]\n\n\n\n\n\n\nImportante\n\n\n\nOs termos variação explicada e variação não explicada podem induzir a presunção de uma relação de causa e efeito entre as variáveis. Nunca é demais relembrar que, a não ser que os dados provenham de uma experiência desenhada para poder inferir tal relação, as conclusões são meramente correlacionais (Capítulo 2).\nRelembrando: correlação \\(\\neq\\) causa e efeito.\n\n\n\n\n5.3.5 Séries cronológicas\nUm caso particular de dados bivariados envolve as séries cronológicas. Neste caso os valores da série dizem respeito a intervalos de tempo regulares. Por exemplo, as vendas semanais de uma loja são uma série temporal. Como os valores da série estão referidos em função do tempo, o tempo será a outra variável.\nNo caso de séries temporais o diagrama de dispersão, onde apenas aparecem pontos, costuma ser substituído por um diagrama semelhante, mas com linhas em vez de pontos. A ideia é mostrar a evolução da variável ao longo do tempo.\nNa Figura 5.13 é representada desta forma a série cronológica AirPassengers disponível no R. A série diz respeito ao número mensal de passageiros transportados (em milhares) entre 1949 e 1960.\n\n\n\n\n\n\n\n\nFigura 5.13: Representação de uma série cronológica\n\n\n\n\n\nNeste tipo de gráfico é possível visualizar tendências e sazonalidade e é ideal para este tipo de dados.\nPara lá da representação gráfica, as séries cronológicas apresentam características que as tornam muito diferentes de outro tipo de dados e exigem técnicas específicas. Por exemplo, as observações de um período costumam estar correlacionadas as observações desfasadas um determinado intervalo. Por este motivo, o tratamento de séries cronológicas sai do âmbito deste texto.\n\n\n\n\n\n\nImportante\n\n\n\nAs séries cronológicas são variáveis especiais, tendo características que exigem técnicas diferentes das variáveis comuns. Se necessitar de tratar este tipo de dados, deve consultar um texto especializado, por exemplo, Hyndman & Athanasopoulos (2021).",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Dados Bivariados</span>"
    ]
  },
  {
    "objectID": "c050-bivariate.html#sec-bivar-2plus",
    "href": "c050-bivariate.html#sec-bivar-2plus",
    "title": "5  Dados Bivariados",
    "section": "5.4 Mais de duas variáveis",
    "text": "5.4 Mais de duas variáveis\nNesta secção faz-se uma breve referência ao caso de haver mais do que duas variáveis a descrever de forma conjunta, mencionando apenas como podem os métodos gráficos já abordados ser adaptados.\nComo a representação gráfica é bidimensional, para incluir uma terceira variável, uma das alternativas é utilizar a perspetiva. Desta forma, se houver 3 variáveis numéricas pode ser construído um gráfico de dispersão tridimensional ou uma superfície tridimensional, tal como na Figura 5.14.\n\n\n\n\n\n\n\n\n\n\n\n(a) superfície 3D\n\n\n\n\n\n\n\n\n\n\n\n(b) dispersão 3D\n\n\n\n\n\n\n\n\n\n\n\n(c) intensidade 2D\n\n\n\n\n\n\n\nFigura 5.14: Representação em perspetiva para 3 variáveis\n\n\n\nFoi utilizada a mesma informação para produzir os 3 diagramas apresentados na Figura 5.14. Enquanto que nas figuras 5.14 (a) e 5.14 (b) a variável z aparece num terceiro eixo e é utilizada uma perspetiva tridimensional, em 5.14 (c) a figura é bidimensional e é utilizada a cor para representar a intensidade da variável z (tipicamente, essa informação é colocada numa legenda que, neste caso, foi omitida).\nEmbora a representação tridimensional seja adequada em situações específicas, a utilização da perspetiva pode levar a gráficos complexos e difíceis de interpretar. Por exemplo na Figura 5.14 (a) os dados de um dos quadrantes estão ocultos por trás da figura representada, não se conseguindo visualizar todos os dados da mesma forma. Já na Figura 5.14 (b), a representação é algo confusa.\nPor este motivo, o mais frequente é fazer algo semelhante à Figura 5.14 (c): representar variáveis adicionais (pode ser mais do que uma) utilizando elementos visuais (cores, tamanhos, formas), acompanhando a figura de uma legenda para ajudar à interpretação.\nNo caso da Figura 5.14, as 3 variáveis são numéricas. No entanto, é frequente nem todas as variáveis serem numéricas. Na Secção 5.2 já se apresentou uma técnica que pode ser utilizada para lidar com variáveis categóricas adicionais: utilizar um subgráfico para representar o conjunto de observações onde a variável categórica toma determinado nível. A Figura 5.6 exemplificou a técnica para o caso do histograma. Naturalmente, a mesma técnica pode ser implementada para outras visualizações.\nUtilizando o conjunto de dados mtcars, a figura Figura 5.15 apresenta diagramas de dispersão para as variáveis disp (cilindrada, em polegadas cúbicas) e mpg (consumo, em milhas por galão). Adicionou-se à visualização a variável am, do tipo nominal, que indica o tipo de transmissão de cada carro, automática ou manual.\n\n\n\n\n\n\n\n\n\n\n\n(a) Transmissão manual\n\n\n\n\n\n\n\n\n\n\n\n(b) Transmissão automática\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Utilização de cores diferentes\n\n\n\n\n\n\n\n\n\n\n\n(d) Utilização de símbolos diferentes\n\n\n\n\n\n\n\nFigura 5.15: Diagrama de dispersão com uma variável adicional\n\n\n\nNas figuras 5.15 (a) e 5.15 (b) cada tipo de transmissão foi representado num subgráfico. Para facilitar a comparação, note que ambos os gráficos utilizam as mesmas escalas. Na Figura 5.15 (c), utilizou-se a cor para diferenciar o tipo de transmissão de cada carro observado. Já na Figura 5.15 (d), utilizaram-se símbolos diferentes para fazer a distinção. Como se pode observar, a cor parece ser mais eficaz a transmitir a informação.\nNaturalmente, quanto mais elementos visuais se colocarem no gráfico, mais difícil se torna a interpretação. Logo, deve ser exercida parcimónia na quantidade de informação que se coloca num gráfico, pois é fácil exagerar e a visualização perder a eficácia.\nComo se pode inferir, as possibilidades são ilimitadas e poder-se-iam escrever-se livros inteiros sobre o assunto. Há dezenas de gráficos específicos para determinadas áreas. Nesta secção apenas se pretendeu fazer uma menção muito superficial, uma vez que, no resto do texto, todas as visualizações utilizadas são, quase sempre, simples.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Dados Bivariados</span>"
    ]
  },
  {
    "objectID": "c050-bivariate.html#tutoriais",
    "href": "c050-bivariate.html#tutoriais",
    "title": "5  Dados Bivariados",
    "section": "Tutoriais",
    "text": "Tutoriais\nDepois de ler este capítulo pode verificar como são implementados estes conceitos no ambiente computacional R. Os tutoriais listados abaixo estão diretamente relacionados com este capítulo.\n\n\n\n\n\n\nTutorial\n\n\n\nDescrição\n\n\n\n\n\n\n\n\nGráficos\n\n\nNoções fundamentais sobre a elaboração de gráficos no R. \n\n\n\n\n\n\nGráfico de Barras\n\n\nConstrução de tabelas de contingência e gráficos de barras no R, para uma ou duas variáveis categóricas. \n\n\n\n\n\n\nDiagramas de Extremos e Quartis\n\n\nConstrução e configuração de diagramas de extremos e quartis no R. \n\n\n\n\n\n\nNenhum item correspondente\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Dados Bivariados</span>"
    ]
  },
  {
    "objectID": "c050-bivariate.html#footnotes",
    "href": "c050-bivariate.html#footnotes",
    "title": "5  Dados Bivariados",
    "section": "",
    "text": "Algumas ideias para as figuras e para o código foram inspiradas em DenisBoigelot, original uploader was Imagecreator, CC0, via Wikimedia Commons.↩︎",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Dados Bivariados</span>"
    ]
  },
  {
    "objectID": "c060-probability.html",
    "href": "c060-probability.html",
    "title": "6  Probabilidades",
    "section": "",
    "text": "6.1 Conceitos fundamentais\nNeste capítulo são apresentados os principais conceitos, frequentemente designados por teoria da probabilidade ou por introdução à probabilidade. Começam por ser apresentadas as definições mais elementares que, mais à frente, serão utilizadas para introduzir conceitos mais complexos e abstratos. Trata-se de uma leitura fundamental para compreender toda a teoria estatística.\nA maior parte da estatística envolve, de uma ou outra forma, probabilidades. Embora todos tenhamos uma noção do que são probabilidades, pois estas estão associadas a decisões que tomamos diariamente, quando se pretende definir os conceitos de forma mais genérica e abstrata, surgem dificuldades. Esta secção apresenta os conceitos elementares associados às probabilidades.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Probabilidades</span>"
    ]
  },
  {
    "objectID": "c060-probability.html#sec-prob-concepts",
    "href": "c060-probability.html#sec-prob-concepts",
    "title": "6  Probabilidades",
    "section": "",
    "text": "6.1.1 Experiências aleatórias\nAs probabilidades são sempre associadas a contextos de incerteza. Frequentemente, aparecem situações em que, perante as mesmas condições iniciais, o resultado de algo é incerto. Na Estatística estas situações são designadas por experiências aleatórias. Mais formalmente, para que se esteja perante uma experiência aleatória é necessário:\n\nHaver dois ou mais resultados possíveis.\nHaver incerteza sobre o resultado.\n\nTrivialmente, é possível enumerar exemplos clássicos de experiências aleatórias: lançar uma moeda, lançar um dado, selecionar, ao acaso, uma carta de um baralho ou uma bola de uma urna, etc.\nNuma análise mais superficial, em qualquer dos exemplos apontados, as duas condições enumeradas parecem estar reunidas. No entanto, numa análise mais profunda, em qualquer um dos exemplos, se fosse possível reunir as mesmas condições iniciais e repetir o procedimento exato, rapidamente se constata que teria que se obter sempre o mesmo resultado.\nTome-se o exemplo do lançamento de uma moeda. Caso as condições iniciais do lançamento possam ser replicadas de forma exata, o resultado do lançamento será sempre o mesmo, pois o fenómeno apenas está sujeito às leis da física.\nNo entanto, quando uma pessoa lança uma moeda à mão, é muito difícil, garantir ou controlar as condições iniciais de cada lançamento: velocidade, ângulo de saída, momento angular, distância ao solo, etc. Por este motivo, o resultado do lançamento de uma moeda por uma pessoa é considerado incerto.\nEm geral, sempre que o resultado de uma experiência é muito sensível às condições iniciais pode ser mais prático tratar o fenómeno como aleatório, como nos casos enumerados atrás (moeda, dado, cartas, urna e outros).\n\n\n\n\n\n\nDica\n\n\n\nUma forma de obter sequências aleatórias consiste precisamente em utilizar dispositivos muito sensíveis às condições iniciais. Por exemplo, o lançamento de um dado é um desses dispositivos, gerando sequências de resultados indistinguíveis de sequências verdadeiramente aleatórias.\n\n\nNa prática, independentemente da fonte da incerteza, quer advenha das condições iniciais, quer advenha do fenómeno em si, podemos aplicar o conceito de experiência aleatória de forma indistinta.\n\n\n6.1.2 Espaços amostrais\nUm espaço amostral tem uma definição muito simples: trata-se do conjunto de todos os resultados possíveis de uma experiência aleatória. Os espaços amostrais podem ser classificados em:\n\nEspaços amostrais discretos: o conjunto de resultados pode ser enumerado. Estes espaços amostrais podem ser finitos ou infinitos.\n\nUm exemplo de um espaço amostral finito são os resultados possíveis no lançamento de um dado, ou seja, o conjunto {1, 2, 3, 4, 5, 6}.\n\n\nJá um espaço amostral infinito pode ser exemplificado pelas sequências de resultados até obter 6 no dado, ou seja, {6, 16, 26, …, 116, 126, … 216, 226, … 1116, 1126, …}.\n\nEspaços amostrais contínuos: o conjunto de resultados é um valor num determinado intervalo real. Estes espaços amostrais são sempre infinitos, mesmo que se trate de intervalos fechados.\n\nUm exemplo de um espaço amostral contínuo pode ser o intervalo que decorre entre duas chegadas a uma fila de espera, que será um valor no intervalo [0, +\\(\\infty\\)[.\n\n\nPor norma, o conjunto de resultados de um espaço amostral é designado pela letra grega \\(\\Omega\\).\nNote-se que na Secção 1.2.2 fez-se uma distinção semelhante a propósito dos diferentes tipos de dados estatísticos. De facto, uma observação de uma variável estatística também é um elemento de entre um conjunto de valores possíveis.\n\n\n6.1.3 Acontecimentos\nApoiados nos dois conceitos anteriores podemos agora definir um acontecimento, como um subconjunto do espaço amostral.\nGeralmente, falamos de acontecimentos quando se pretende referir um subconjunto de resultados que têm alguma característica expressiva em comum. Por exemplo, no lançamento de um dado, podemos definir o acontecimento obter um número par, correspondendo ao conjunto {2, 4, 6}. No entanto, é possível definir um acontecimento que corresponda a um qualquer subconjunto arbitrário.\nOs acontecimentos costumam ser designados por letras maiúsculas, A, B, C, etc., e podem ser representados num diagrama de Venn, tal como na Figura 6.1, onde se representa o espaço amostral do lançamento de um dado e o acontecimento obter um número primo.\n\n\n\n\n\n\n\n\nFigura 6.1: Diagrama de Venn\n\n\n\n\n\nQuando se trata de conjuntos, tal como é o caso dos acontecimentos, o diagrama de Venn é uma excelente visualização, pois permite intuir facilmente sobre as regras da álgebra de conjuntos. Por exemplo, na Figura 6.2 pode visualizar-se o resultado da aplicação de algumas regras algébricas sobre conjuntos.\n\n\n\n\n\n\n\n\n\n\n\n(a) Reunião de A com B\n\n\n\n\n\n\n\n\n\n\n\n(b) Interseção de A com B\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Complementar de A\n\n\n\n\n\n\n\n\n\n\n\n(d) Complementar de A relativo a B\n\n\n\n\n\n\n\nFigura 6.2: Algumas operações com conjuntos\n\n\n\nEm geral, qualquer regra que se aplique na álgebra de conjuntos também pode ser aplicada a acontecimentos para determinar os conjuntos resultantes das operações de reunião, interseção, etc., efetuadas sobre acontecimentos.\nHá alguns acontecimentos notáveis, cujas definições se apresentam:\n\nAcontecimento certo: é um acontecimento cujo conjunto de resultados inclui todos os elementos do espaço amostral.\n\nO acontecimento definido por obter um ou mais pontos no lançamento de um dado inclui todos os elementos do espaço amostral.\n\nAcontecimento impossível: é um acontecimento cujo conjunto de resultados é vazio.\n\nO acontecimento definido por obter mais de 6 pontos no lançamento de um dado não inclui qualquer elemento do espaço amostral.\n\nAcontecimento simples ou acontecimento elementar: é um acontecimento cujo conjunto de resultados é singular, i.e, contém apenas 1 resultado.\n\nO acontecimento definido por obter 6 pontos no lançamento de um dado é um exemplo, uma vez que há apenas 1 resultado favorável ao acontecimento.\n\nAcontecimentos mutuamente exclusivos ou acontecimentos disjuntos: são acontecimentos cujos conjuntos de resultados não têm elementos em comum, ou seja \\(A \\cap B = \\emptyset\\).\n\nUm exemplo deste tipo de acontecimentos é obter 2 ou menos pontos e obter 5 ou mais pontos num lançamento do dado. Não há nenhum resultado que pertença aos dois conjuntos.\n\nAcontecimentos complementares: são acontecimentos mutuamente exclusivos em que o conjunto de resultados que resulta da reunião é igual ao espaço amostral, ou seja \\(A \\cup \\bar{A} = \\Omega\\). Para designar o complementar do acontecimento \\(A\\), utiliza-se \\(\\bar{A}\\).\n\nUm exemplo deste tipo de acontecimentos é obter um número par e obter um número ímpar num lançamento do dado. Note-se que os acontecimentos são mutuamente exclusivos e a reunião é o espaço amostral.\n\n\n\n\n\n\n\n\nDica\n\n\n\nTodos os acontecimentos complementares são mutuamente exclusivos. O contrário nem sempre é verdade.\n\n\n\n\n6.1.4 Probabilidade\nNa linguagem comum, o termo probabilidade está associado à maior ou menor possibilidade ou frequência com que algum acontecimento tenha ocorrido ou venha a ocorrer. De facto, no dicionário, probabilidade está definida, entre outras aceções, como a frequência com que ocorre determinado acontecimento (Porto Editora, 2025).\nEmbora esta definição sirva na linguagem comum, na definição matemática é necessário mais rigor e precisão. Assim, ao longo do tempo foram apresentadas e desenvolvidos definições e conceitos associados à probabilidade.\n\nAbordagem clássica\nDado o espaço amostral de experiência aleatória em que todos os resultados têm a mesma probabilidade de ocorrência, a probabilidade de um acontecimento é definida como o rácio entre o número de resultados favoráveis a esse acontecimento e o número de resultados possíveis.\nFormalmente, se um espaço amostral for composto por \\(R_1\\), \\(R_2\\), …, \\(R_n\\) resultados diferentes e se um acontecimento \\(A\\) for definido sobre esse espaço amostral, então\n\\[P(A)=\\frac{n_A}{n}\\]\nsendo \\(n_A\\) o número de elementos do espaço amostral pertencentes ao conjunto de resultados do acontecimento A.\nEmbora esta definição de probabilidade tenha um âmbito limitado, só sendo aplicável quando os diferentes resultados são equiprováveis, não deixa de ser aplicável a inúmeros casos com interesse prático.\n\n\n\n\n\n\nAplicação da definição clássica\n\n\n\nSe, por exemplo, no lançamento de um dado, se pretender determinar a probabilidade de obter um número ímpar, podemos utilizar a definição clássica, admitindo que se trata de um dado perfeitamente equilibrado.\nSeja A o referido acontecimento. Então,\n\\[P(A)=\\frac{n_A}{n}=\\frac{\\#\\{ 1, 3, 5\\}}{\\#\\{ 1, 2, 3, 4, 5, 6\\}} = \\frac{3}{6} = \\frac{1}{2} = 0.5\\]\n\n\n\n\nAbordagem frequencista\nA maior limitação da abordagem clássica de probabilidade é ser aplicável apenas a espaços amostrais em que todos os resultados são equiprováveis. É fácil constatar que esta limitação é importante e inúmeras situações com interessa prático não poderiam ser tratadas. Por exemplo, na experiência do lançamento do dado, se não houver a certeza de se tratar de um dado perfeitamente equilibrado, a abordagem clássica não faria sentido.\nCaso a experiência aleatória em causa possa ser repetida um número arbitrário de vezes, aquela limitação pode ser contornada utilizando a abordagem frequencista de probabilidade. Assim, a probabilidade de um acontecimento \\(A\\) pode ser calculada através do rácio entre o número de vezes que o acontecimento ocorre e o número de repetições, quando o número de repetições for arbitrariamente grande. Formalmente,\n\\[P(A)=\\lim_{n\\to\\infty}\\frac{n_A}{n} \\tag{6.1}\\] em que \\(n\\) é o número de vezes que se repete a experiência aleatória e \\(n_A\\) o número de vezes que, na experiência, o acontecimento \\(A\\) ocorreu. Note-se que, ao contrário da abordagem clássica, não se trata de uma probabilidade exata, mas de uma aproximação com base na frequência relativa do acontecimento. No entanto, a aplicação da Lei dos grandes números garante a convergência, quando o número de repetições é suficientemente grande.\n\n\n\n\n\n\nLei dos grandes números\n\n\n\nNo contexto da abordagem frequencista de probabilidade, a lei dos grandes números (LGN) garante que, à medida que o número de repetições tende para infinito, a probabilidade de um qualquer acontecimento definido no respetivo espaço amostral, converge para a verdadeira probabilidade desse acontecimento.\n\n\n\n\n\n\n\n\nA falácia do jogador\n\n\n\nUma interpretação falaciosa da LGN é conhecida coma a falácia do jogador, por ser especialmente popular entre jogadores de jogos fortuna e azar. Nesta versão da LGN algumas pessoas acreditam que, depois de ter azar várias vezes, o jogo (cartas, dados, etc.) lhe está em favor e que terá certamente que ser compensado devido à LGN.\nNaturalmente, o facto de um acontecimento ter ou não ocorrido, não muda a probabilidade de ocorrência no futuro. Por exemplo, admita-se que uma moeda foi lançada 10 vezes, tendo sido obtidas 10 caras. A probabilidade de obter cara ou coroa no lançamento seguinte é a mesma dos anteriores, por hipótese, 0.5 cada face.\nA moeda não está a dever uma coroa, pelo simples facto de que se trata de um objeto de metal inanimado, não possuindo contabilidade organizada. Igualmente, não existe nenhuma entidade ou força conhecida encarregue de manter os registos e o equilíbrio.\n\n\nNa Figura 6.3 pode visualizar-se a convergência para a real probabilidade do acontecimento quando se utiliza a expressão Equação 6.1. No gráfico simula-se o resultado do lançamento de uma moeda 500 vezes. Por hipótese, a probabilidade teórica de sair cara é igual a 0.5.\n\n\n\n\n\n\n\n\nFigura 6.3: Convergência na abordagem frequencista\n\n\n\n\n\nNote-se que, no contexto da LGN, a convergência não é monótona, isto é, o valor da probabilidade estimada nem sempre se aproxima da probabilidade teórica à medida que o número de repetições aumenta. Como se pode ver na figura, há períodos em que o valor estimado se afasta do valor teórico. Aliás, em termos absolutos, a diferença entre o número de caras obtido e o número de caras teórico tende a aumentar. No entanto, a probabilidade tende a convergir para o valor teórico pois o número de lançamentos (denominador) aumenta mais rapidamente.\n\n\nAbordagem subjectiva\nAs abordagens descritas anteriormente são objetivas, no sentido em que há uma forma unívoca de calcular uma probabilidade. No entanto, apenas se aplicam em circunstâncias particulares, não sendo universais.\nPara os subjetivistas, a probabilidade é um grau de crença, isto é, a probabilidade reflete a disposição de um indivíduo para acreditar na eventual ocorrência de um acontecimento. Este grau de crença pode variar de indivíduo para indivíduo e pode variar no tempo.\nDesta forma, é possível atribuir probabilidades a qualquer acontecimento, mesmo aqueles que não é possível observar. Por exemplo, a probabilidade de haver outras formas de vida inteligentes na nossa galáxia.\nTalvez a forma mais comum de interpretar a abordagem subjetiva seja imaginar uma situação em que, na ocorrência de um acontecimento, A, um agente racional recebe 1 unidade de uma qualquer utilidade (dinheiro, bens, etc.). Caso o acontecimento A não ocorra, recebe 0. O grau de crença em A é igual a \\(p\\) se \\(p\\) for o valor mínimo a que estaria disposto a vender aquela proposta (ou o valor máximo a que estaria disposto a comprar).\nNote-se que, interpretada desta forma, a probabilidade terá um conjunto de características semelhante à abordagem clássica ou à abordagem frequencista. Por exemplo, a probabilidade fica limitada ao intervalo entre 0 e 1.\n\n\nAbordagem axiomática\nEmbora as abordagens apresentadas até agora tenham o seu âmbito de aplicação e sejam úteis em muitos contextos, noutros casos, há a necessidade de uma abordagem mais precisa. Assim, a abordagem axiomática define um conjunto de regras abstratas (axiomas) a que as probabilidades devem obedecer. Esta abordagem foi introduzida em 1933 por Andrey Kolmogorov, sendo também conhecida como axiomática de Kolmogorov. Apresentam-se de seguida os referidos axiomas.\nConsidere-se um espaço amostral \\(\\Omega\\) e seja \\(P(A)\\) a probabilidade de um qualquer acontecimento A.\n\nAxioma 1\n\\[P(A)\\in\\mathbb{R}, P(A)\\geq 0 \\tag{6.2}\\]\nO axioma 1 garante que a probabilidade é um número real positivo.\n\n\nAxioma 2\n\\[P(\\Omega)=1 \\tag{6.3}\\]\nO axioma 2, efetivamente, limita qualquer probabilidade a 1. Em conjunto com o axioma 1 podemos afirmar que, para qualquer acontecimento, A, \\(0 \\leq P(A) \\leq 1\\).\n\n\nAxioma 3\nPara quaisquer acontecimentos, A, B, C, …, mutuamente exclusivos,\n\\[P(A\\cup B\\cup C\\cup\\cdots)= P(A)+P(B)+P(C)+\\cdots \\tag{6.4}\\]\nA partir destes 3 axiomas, as probabilidades passam a ter um conjunto de propriedades a que devem obedecer, não importando como são interpretadas, se de forma objetiva ou subjetiva. Na Secção 6.1.5 serão apresentadas algumas regras práticas de cálculo que podem ser facilmente demonstradas a partir destes axiomas.\n\n\n\n\n6.1.5 Algumas regras de cálculo\nA partir dos axiomas enumerados anteriormente é possível deduzir uma série de regras para o cálculo de probabilidades.\n\\[P(A)+P(\\bar{A})=1 \\tag{6.5}\\]\nA Equação 6.5 pode ser facilmente deduzida a partir dos axiomas. Pela definição de complementaridade sabemos que \\(A\\cup\\bar{A}=\\Omega\\). Então, \\(P(A\\cup\\bar{A})=P(\\Omega)\\). Pelo axioma 1 sabemos que \\(P(\\Omega)=1\\) e, como \\(A\\) e \\(\\bar{A}\\) são mutuamente exclusivos, pelo axioma 2, \\(P(A\\cup\\bar{A})=P(A)+P(\\bar{A})\\). Consequentemente, \\(P(A)+P(\\bar{A})=1\\).\nSabemos também que o acontecimento impossível, \\(\\emptyset\\), e o acontecimento \\(\\Omega\\) são complementares. Logo podemos deduzir facilmente que\n\\[P(\\emptyset)=0 \\tag{6.6}\\]\nUma outra regra que pode ser deduzida seguindo um raciocínio semelhante é a regra geral da adição:\n\\[P(A\\cup B) = P(A) + P(B) - P(A\\cap B) \\tag{6.7}\\]\nA aplicação da Equação 6.7 pode ser visualizada na Figura 6.4 recorrendo à experiência aleatória do lançamento de um dado equilibrado. Definindo os acontecimentos A (número primo) e B (número par) é imediato constatar que \\(A\\cup B = \\lbrace 2,3,4,5,6\\rbrace\\) e que \\(P(A\\cup B)=5/6\\).\n\n\n\n\n\n\n\n\nFigura 6.4: Aplicação da regra da adição (Equação 6.7)\n\n\n\n\n\nAplicando a regra da adição, obtém-se exatamente o mesmo resultado:\n\\[\n\\begin{align}\n  P(A\\cup B) &= P(A) + P(B) - P(A\\cap B)\\\\\n  &= P(\\lbrace 2,3,5\\rbrace) + P(\\lbrace 2,4,6\\rbrace) - P(\\lbrace 2\\rbrace)\\\\\n  &= 3/6 + 3/6 - 1/6\\\\\n  &= 5/6\n\\end{align}\n\\]\n\n\n6.1.6 Distribuições de probabilidade\nNo contexto de uma experiência aleatória, uma distribuição de probabilidade pode ser vista como uma função que descreve as probabilidades de cada um dos resultados do espaço amostral da experiência.\nConsidere-se o caso da experiência aleatória que consiste no lançamento de uma moeda. O espaço amostral, \\(\\Omega\\), é o conjunto {cara, coroa}. A distribuição de probabilidade pode ser descrita por um vetor de probabilidades correspondentes a cada resultado, por exemplo, {0.5, 0.5}. O que a distribuição de probabilidade transmite é \\(P(cara)=0.5\\) e \\(P(coroa)=0.5\\).\nNa prática, quando se trata de espaços amostrais discretos, é comum definir a distribuição de probabilidade com recurso a uma tabela. Por exemplo, na experiência aleatória que consiste no lançamento de um dado equilibrado, a distribuição de probabilidade poderia ser definida como na Tabela 6.1.\n\n\n\nTabela 6.1: Distribuição de probabilidade no lançamento de um dado equilibrado\n\n\n\n\n\nResultado\n1\n2\n3\n4\n5\n6\n\n\nProbabilidade\n1/6\n1/6\n1/6\n1/6\n1/6\n1/6\n\n\n\n\n\n\nEm vez de enumerar os resultados do espaço amostral, pode definir-se uma distribuição de probabilidade a partir de um conjunto de acontecimentos. Por exemplo no caso do dado, caso apenas interessasse o facto de o resultado ser par ou ímpar, a distribuição poderia ser definida pela Tabela 6.2.\n\n\n\nTabela 6.2: Distribuição de probabilidade alternativa no lançamento de um dado equilibrado\n\n\n\n\n\nResultado\npar\nímpar\n\n\nProbabilidade\n1/2\n1/2\n\n\n\n\n\n\nNo caso de espaços amostrais contínuos a definição de uma distribuição de probabilidade é feita através de uma função densidade de probabilidade. Este tópico será abordado num capítulo posterior.\nIndependentemente de como a distribuição de probabilidade é definida, de forma a respeitar os axiomas definidos anteriormente, as seguintes propriedadedes terão que ser respeitadas:\n\nO conjunto de resultados ou acontecimentos, \\(A_1\\), \\(A_2\\), \\(\\cdots\\), \\(A_n\\) é mutuamente exclusivo.\n\\(0\\leq P(A_i)\\leq 1\\), para qualquer resultado, \\(A_i\\).\n\\(\\sum_{i=1}^n{A_i}=1\\), ou seja, a soma de todas as probabilidades deve ser 1, que pode ser assegurado se \\(A_1\\cup A_2\\cup\\cdots = \\Omega\\).\n\nComo se pode verificar nos exemplos acima, todas as distribuições apresentadas respeitam estas 3 propriedades.",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Probabilidades</span>"
    ]
  },
  {
    "objectID": "c060-probability.html#sec-prob-conditional",
    "href": "c060-probability.html#sec-prob-conditional",
    "title": "6  Probabilidades",
    "section": "6.2 Probabilidades condicionais e independência",
    "text": "6.2 Probabilidades condicionais e independência\nConsiderem-se os dados do conjunto HairEyeColor que já tinham sido usados na Secção 5.1. Reproduz-se novamente a tabela de contingência contendo o número de alunos por cada categoria de quanto à cor dos olhos e quanto à cor do cabelo (Tabela 6.3).\n\n\n\n\nTabela 6.3: Tabela de contingência para a cor dos olhos e do cabelo\n\n\n\n\n \n\n\nCabelo\n\n\n  \n    Olhos \n    Black \n    Blond \n    Brown \n    Red \n    Total \n  \n \n\n  \n    Blue \n    20 \n    94 \n    84 \n    17 \n    215 \n  \n  \n    Brown \n    68 \n    7 \n    119 \n    26 \n    220 \n  \n  \n    Green \n    5 \n    16 \n    29 \n    14 \n    64 \n  \n  \n    Hazel \n    15 \n    10 \n    54 \n    14 \n    93 \n  \n  \n    Total \n    108 \n    127 \n    286 \n    71 \n    592 \n  \n\n\n\na Intencionalmente, os nomes das cores não foram traduzidos.\n\n\n\n\n\n\n\n\n\nConsidere-se agora uma experiência aleatória que consiste em selecionar um aluno ao acaso entre os 592 participantes do estudo. O espaço amostral desta experiência tem 592 resultados possíveis – um para cada aluno.\nNaquele espaço amostral é possível definir um conjunto de acontecimentos relativos às cores dos olhos e do cabelo do aluno selecionado. Assim, relativamente à cor dos olhos podemos definir 4 acontecimentos (Blue, Brown, Green, Hazel) e relativamente à cor do cabelo podemos definir mais 4 acontecimentos (Black, Blond, Brown, Red).\nNos exemplos apresentados, não se vai utilizar o acontecimento Brown, pois tanto se poderia referir à cor dos olhos, como à cor do cabelo, o que seria confuso.\n\n6.2.1 Probabilidades marginais\nPara qualquer destes acontecimentos é fácil calcular as probabilidades de ocorrência, bastando aplicar a definição clássica de probabilidade, admitindo que todos os alunos têm a mesma probabilidade de serem selecionados (1/592).\nPor exemplo a probabilidade de selecionar um aluno com olhos azuis (Blue) é\n\\[P(Blue)=\\frac{215}{592} \\approx 0.363\\]\nJá a probabilidade de selecionar um aluno de cabelo preto (Black) será\n\\[P(Black)=\\frac{108}{592} \\approx 0.182\\]\nAs probabilidades calculadas designam-se por probabilidades marginais, pois representam a probabilidade de um acontecimento sem considerar outros acontecimentos.\n\n\n\n\n\n\nProbabilidades marginais\n\n\n\nUma probabilidade marginal diz respeito a um acontecimento, não considerando outros acontecimentos, também podem ser designadas por probabilidades simples. A designação marginal advém do facto de, tipicamente, serem anotadas nas margens das tabelas semelhantes à Tabela 6.3, representado as probabilidades dos acontecimentos nas linhas ou nas colunas.\nO conjunto de acontecimentos relativos à cor do olhos (ou à cor do cabelo) forma aquilo a que se poderia designar por distribuição de probabilidade marginal, possuindo todas as propriedades enumeradas na Secção 6.1.6.\n\n\n\n\n6.2.2 Probabilidades conjuntas e reunião\nQuando se dispõe de uma tabela de contingência semelhante à Tabela 6.3 é simples calcular probabilidades conjuntas. Por exemplo a probabilidade de selecionar uma aluno de olhos azuis e de cabelo preto é\n\\[P(Blue\\cap Black)=\\frac{20}{592} \\approx 0.034\\]\nJá para calcular probabilidades resultantes da reunião de acontecimentos, pode ser usada a regra da adição (Equação 6.7). Por exemplo, a probabilidade de selecionar um aluno de olhos azuis ou de cabelo preto é\n\\[\n\\begin{align}\n  P(Blue\\cup Black)&=P(Blue)+P(Black)-P(Blue\\cap Black)\\\\\n  &=\\frac{215}{592} +\n  \\frac{108}{592} -\n  \\frac{20}{592}\\\\\n  &=\\frac{303}{592} \\approx 0.512\n\\end{align}\n\\]\n\n\n\n\n\n\nDica\n\n\n\nNunca é demais salientar, pois é causa de confusão frequente, que o conjunto \\(Blue\\cup Black\\) inclui todos os alunos que tenham olhos azuis ou que tenham cabelo preto, podendo, deste modo, incluir alunos que tenham as duas características, ou seja, que pertençam ao conjunto \\(Blue\\cap Black\\).\n\n\n\n\n6.2.3 Probabilidades condicionais\nAdmita-se agora que se pretende calcular a probabilidade de ocorrência de um acontecimento, subordinada à ocorrência de um outro qualquer acontecimento. Por exemplo, a probabilidade de selecionar um aluno de olhos azuis, admitindo que o aluno selecionado (ou a selecionar) tem cabelo preto.\nDada a Tabela 6.3, o cálculo daquela probabilidade é intuitivo: admitimos que o aluno tem cabelo preto, logo, será um dos 108 alunos que partilham essa característica. Desses alunos, vamos selecionar um ao acaso, sabendo que há 20 alunos com olhos azuis nesse grupo. Logo, a probabilidade de selecionar um aluno de olhos azuis entre os alunos de cabelo preto terá que ser 20/108.\nEm geral, se tivermos 2 acontecimentos, A e B, a probabilidade de ocorrer A condicionada pela ocorrência de B deve ser escrita como\n\\[P(A|B)\\]\nPodemos designar A como o acontecimento de interesse e B como condição. Assim, estamos interessados na probabilidade do acontecimento de interesse (A) dada uma determinada condição (B).\n\n\n\n\n\n\nDica\n\n\n\nQuando estamos perante a notação \\(P(A|B)\\) lê-se probabilidade de A dado B ou probabilidade de A sabendo que B ou, simplesmente, probabilidade de A condicionada por B. Ou seja, o acontecimento B já ocorreu (ou admite-se que irá ocorrer) e queremos calcular a probabilidade de A nesse pressuposto.\n\n\nNo exemplo acima, na presença da Tabela 6.3, foi intuitivo calcular \\(P(Blue|Black)\\). Em geral, é possível calcular qualquer probabilidade condicionada utilizando a expressão Equação 6.8:\n\\[P(A|B)=\\frac{P(A\\cap B)}{P(B)} \\tag{6.8}\\]\nAplicando a expressão ao cálculo de \\(P(Blue|Black)\\) podemos obter o mesmo resultado de outra forma:\n\\[\n\\begin{align}\n  P(Blue|Black) &= \\frac{P(Blue\\cap Black)}{P(Black)}\\\\\n  &=\\frac{20/592}{108/592}\n  =\\frac{20}{108}\n  \\approx 0.185\n\\end{align}\n\\]\n\n\n6.2.4 Independência\nO conceito de independência já foi mencionado na Secção 2.2 no contexto do estudo das relações entre variáveis estatísticas. No entanto, não foi apresentada uma definição formal de independência estatística, o que será feito nesta secção.\n\nDois acontecimentos dizem-se independentes quando a ocorrência de qualquer um deles não altera a probabilidade de ocorrência do outro.\n\nA definição acima implica que, para acontecimentos independentes,\n\\[P(A|B)=P(A) \\tag{6.9}\\] \\[P(B|A)=P(B) \\tag{6.10}\\]\nque, atendendo à Equação 6.8, implica que\n\\[P(A\\cap B)=P(A)\\times P(B) \\tag{6.11}\\]\nIntuitivamente, podemos verificar a Equação 6.11 através de um exemplo. Considere-se que se vai lançar uma moeda e um dado. Seja o acontecimento A obter cara na moeda e o acontecimento B obter 6 no dado. Por hipótese, podemos considerar \\(P(A)=1/2\\) e \\(P(B)=1/6\\). Naturalmente, os acontecimentos são independentes, pois não é conhecida qualquer forma de a moeda e o dado se influenciam mutuamente.\nQual deverá ser a probabilidade \\(P(A\\cap B)\\)? Na moeda irá ocorrer cara em 1/2 dos lançamentos. Nesses lançamentos ir-se-á obter a face 6 em 1/6 dos lançamentos, ou seja, 1/6 de 1/2 ou, de outra forma, 1/6 \\(\\times\\) 1/2 ou 1/12.\nNote que, iniciar o raciocínio com o dado, produz o mesmo resultado, uma vez que a multiplicação é comutativa e, portanto, \\(P(A\\cap B)=P(B\\cap A)\\).\nAs expressões 6.9, 6.10 e 6.11 podem ser utilizadas para determinar se dois acontecimentos são independentes. Por exemplo, considere-se novamente a Tabela 6.3 e os acontecimentos ter olhos azuis (Blue) e ter cabelo preto (Black). Serão estes acontecimentos independentes?\nSabemos que \\(P(Blue)=215/592\\) e que \\(P(Black)=108/592\\). Logo, se os acontecimentos forem independentes, a probabilidade conjunta deveria ser\n\\[P(Blue\\cap Black)=P(Blue)\\times P(Black)=\\frac{215}{592}\\times\\frac{108}{592}\\approx 0.066\\]\nNo entanto, já se viu que a probabilidade conjunta pode ser retirada diretamente da Tabela 6.3 e é igual a \\(20/592 \\approx 0.034\\). Logo, os acontecimentos A e B não são independentes1.\nA prova pode ser feita recorrendo a qualquer uma das três expressões, pois, qualquer uma delas, é condição suficiente para a independência. Por exemplo, cálculos anteriores já demonstraram que \\(P(Blue|Black)\\neq P(Blue)\\), o que, por si só, seria suficiente para provar que os acontecimentos não são independentes.\n\n\n\n\n\n\nImportante\n\n\n\nPara verificar se dois acontecimentos são independentes, basta provar que uma das equações 6.9, 6.10 e 6.11 é verdadeira. As referidas equações, ou são todas verdadeiras, ou são todas falsas, não sendo necessário testar as três.\n\n\nA Equação 6.11 pode ser generalizada a mais do que 2 acontecimentos, ou seja, se houver \\(n\\) acontecimentos independentes, então\n\\[P(A_1\\cap A_2\\cap \\cdots\\cap A_n)=P(A_1)\\times P(A_2)\\times\\cdots\\times P(A_n) \\tag{6.12}\\]\nEsta expressão é bastante útil para calcular a probabilidade conjunta de uma série de acontecimentos independentes. Por exemplo, pode ser utilizada para determinar a probabilidade de obter 10 caras seguidas no lançamento de uma moeda. Se \\(A_i\\) representar o acontecimento obter cara no lançamento \\(i\\), então,\n\\[\n\\begin{align}\nP(A_1\\cap A_2\\cap \\cdots\\cap A_{10})&=P(A_1)\\times P(A_2)\\times\\cdots\\times P(A_{10})\\\\\n&=\\frac{1}{2}\\times\\frac{1}{2}\\times\\cdots\\times\\frac{1}{2}\\\\\n&=\\left(\\frac{1}{2}\\right)^{10}=\\frac{1}{1024}\\approx 0.000977\n\\end{align}\n\\]",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Probabilidades</span>"
    ]
  },
  {
    "objectID": "c060-probability.html#sec-prob-bayes-theorem",
    "href": "c060-probability.html#sec-prob-bayes-theorem",
    "title": "6  Probabilidades",
    "section": "6.3 Teorema de Bayes",
    "text": "6.3 Teorema de Bayes\nEm alguns cenários, são conhecidas as probabilidades de um acontecimento ocorrer sob determinadas condições mas pretende-se saber a probabilidade de, tendo o evento ocorrido, se ter verificado a referida condição.\nUm exemplo clássico da aplicação do teorema de Bayes está relacionado com os testes médicos. Por exemplo, num estudo de 2022 (Dinnes et al., 2022) reporta dados sobre os testes rápidos de antigénios para o vírus SARS-CoV-2, causador da doença designada por COVID-19. O estudo reporta que, em pessoas sem sintomas, suspeitas de terem estado em contacto com um infetado, os testes identificavam corretamente 64% dos indivíduos infetados. Para o mesmo grupo, os testes identificam corretamente 99.7% dos indivíduos não infetados.\nAdmitindo que, em determinada fase, os infetados eram 2% da população, há interesse em determinar qual a probabilidade de, um indivíduo que apresentasse um teste negativo, estar infetado pelo vírus.\nConsiderem-se os acontecimentos:\n\n\\(I\\): estar infetado, com \\(P(I)=0.02\\).\n\\(\\oplus\\): testar positivo, com \\(P(\\oplus|I)=0.64\\) (no caso dos infetados, um resultado correto é testar positivo).\n\\(\\ominus\\): testar negativo, com \\(P(\\ominus|\\bar{I})=0.997\\) (no caso dos não infetados, um resultado correto é testar negativo).\n\nComo os acontecimentos \\(\\oplus\\) e \\(\\ominus\\) são complementares, então, \\(P(\\ominus|I)=1-P(\\oplus|I)=0.36\\) e \\(P(\\oplus|\\bar{I})=1-P(\\ominus|\\bar{I})=0.003\\).\n\n\n\n\n\n\nNota\n\n\n\nNas ciências da saúde a probabilidade de um teste dar positivo, caso o indivíduo tenha uma dada doença ou condição clínica, é designada por sensibilidade. O acontecimento complementar, isto e, um teste negativo em indivíduos doentes é designado por falso negativo.\nParalelamente, a probabilidade de um teste dar negativo, caso o indivíduo não tenha a doença ou condição clínica, é designada por especificidade. Já o acontecimento complementar, isto e, um teste positivo em indivíduos não doentes é designado por falso positivo.\nQuanto mais altos forem os valores de sensibilidade e especificidade e, consequentemente, quanto mais baixas forem as probabilidades de obter falsos negativos e falsos positivos, mais preciso é o teste.\n\n\nPodemos facilmente calcular a probabilidade de interesse, \\(P(I|\\ominus)\\), recorrendo à Equação 6.8.\n\\[\n\\begin{align}\n  P(I|\\ominus) &= \\frac{P(I\\cap\\ominus)}{P(\\ominus)}\n  = \\frac{P(I\\cap\\ominus)}{P(I\\cap\\ominus)+P(\\bar{I}\\cap\\ominus)} \\\\\n  &= \\frac{P(\\ominus|I)\\times P(I)}{P(\\ominus|I)\\times P(I)+P(\\ominus|\\bar{I})\\times P(\\bar{I})}\n\\end{align}\n\\]\nDepois do desenvolvimento todas as probabilidades da fração são conhecidas, podendo ser calculado o resultado.\n\\[\nP(I|\\ominus)=\\frac{0.36\\times0.02}{0.36\\times0.02+0.997\\times0.98} =\n\\frac{0.0072}{0.0072+0.97706} \\approx\n0.0073\n\\]\nNeste caso, a probabilidade de um indivíduo que testou negativo estar infetado é pequena, cerca de 0.73%. O resultado faz sentido, uma vez que a incidência da doença é muito baixa e o teste tem elevada especificidade.\n\n\n\n\n\n\nNota\n\n\n\nAinda no âmbito das ciências da saúde o tipo de cálculo que se acabou de efetuar é muito relevante pois, embora a sensibilidade e especificidade do teste sejam importantes, o verdadeiro valor preditivo do teste também depende da prevalência da doença.\nPodemos então falar no valor preditivo positivo (VPP), isto é, a probabilidade de o indivíduo estar doente quando o teste dá positivo, e no valor preditivo negativo (VPN), que é a probabilidade de o indivíduo não estar doente quando o teste dá negativo.\nMantendo os valores de sensibilidade e de especificidade constantes, à medida que a prevalência da doença aumenta, o VPP aumenta e o VPN diminui.\nNo exemplo desta secção, o VPN é cerca de 99.3% e o VPP cerca de 81.3%. Os cálculos para chegar a estes resultados são semelhantes aos apresentados, ficando como exercício para o leitor.\n\n\n\n6.3.1 Diagrama de árvore\nUma forma particularmente intuitiva de visualizar este tipo de situações é utilizando o diagrama de árvore. Neste diagrama, a ramificação principal da árvore é utilizada para colocar as probabilidades dos acontecimentos condicionantes e, na ramificação secundária são colocadas as probabilidades condicionadas. Na terminação de cada ramo podem ser colocadas as probabilidades conjuntas.\nA Figura 6.5 ilustra a aplicação do diagrama de árvore ao exemplo que se tem vindo a tratar.\n\n\n\n\n\n\n\n\nFigura 6.5: Diagrama de árvore\n\n\n\n\n\n\n\n6.3.2 Generalização\nNo caso analisado havia apenas dois acontecimentos condicionantes. No entanto, é possível aplicar a mesma lógica a qualquer número de acontecimentos, isto é, o teorema de Bayes pode ser ser generalizado. Considere-se:\n\nUm conjunto de acontecimentos mutuamente exclusivos, \\(A_1\\), \\(A_2\\), … \\(A_n\\) em que \\(\\sum_i A_i = 1\\) e para os quais se conhecem as probabilidades.\nUm acontecimento, \\(B\\), para o qual se conhecem as probabilidades de ocorrência condicionais a cada \\(A_i\\), ou seja, \\(P(B|A_i)\\).\n\nNestas condições, sabe-se que\n\\[\n\\begin{align}\n  P(B)&=P(A_1\\cap B) + P(A_2\\cap B) +\\cdots+P(A_n\\cap B)\\\\\n  &=P(A_1|B)\\times P(A_1)+P(A_2|B)\\times P(A_2)+\\cdots+P(A_n|B)\\times P(A_n)\n\\end{align}\n\\tag{6.13}\\]\nAplicando as equações 6.8 e 6.13, para qualquer acontecimento \\(A_k\\), com \\(k\\in\\lbrace 1, 2,\\cdots,n\\rbrace\\), podemos determinar \\(P(A_k|B)\\):\n\\[\n\\begin{align}\n  P(A_k|B) &= \\frac{P(B|A_k)\\times P(A_k)}{P(B)}\\\\\n  &= \\frac{P(B|A_k)\\times P(A_k)}{P(A_1|B)\\times P(A_1)+P(A_2|B)\\times P(A_2)+\\cdots+P(A_n|B)\\times P(A_n)}\\\\\n  &=\\frac{P(B|A_k)\\times P(A_k)}{\\sum_{i=1}^n P(A_i|B)\\times P(A_i)}\n\\end{align}\n\\tag{6.14}\\]\nA aplicação da Equação 6.14 nas condições enunciadas é conhecida como o Teorema de Bayes. O diagrama de Venn da Figura 6.6 permite uma possível visualização do significado dos vários conjuntos.\n\n\n\n\n\n\n\n\nFigura 6.6: Visualização do teorema de Bayes\n\n\n\n\n\nComo se pode verificar, os conjuntos \\(A_1\\), \\(A_2\\), … \\(A_n\\) são mutuamente exclusivos e preenchem a totalidade do espaço amostral. O conjunto \\(B\\) interseta os vários conjuntos com probabilidades diferentes.\nFundamentalmente, o teorema de Bayes permite atualizar o grau de crença na ocorrência de um determinado evento, \\(A_k\\), na presença de um facto novo, neste caso, a ocorrência de \\(B\\). Para uma melhor compreensão deste importante e interessante tópico da Estatística, recomenda-se a visualização do vídeo da Figura 6.7.\n\n\n\n\n\n\nFigura 6.7: Vídeo sobre a interpretação do teorema de Bayes (em inglês)",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Probabilidades</span>"
    ]
  },
  {
    "objectID": "c060-probability.html#sec-prob-counting",
    "href": "c060-probability.html#sec-prob-counting",
    "title": "6  Probabilidades",
    "section": "6.4 Contagem",
    "text": "6.4 Contagem",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Probabilidades</span>"
    ]
  },
  {
    "objectID": "c060-probability.html#tutoriais",
    "href": "c060-probability.html#tutoriais",
    "title": "6  Probabilidades",
    "section": "Tutoriais",
    "text": "Tutoriais\nDepois de ler este capítulo pode verificar como são implementados estes conceitos no ambiente computacional R. Os tutoriais listados abaixo estão diretamente relacionados com este capítulo.\n\n\n\n\n\n\nTutorial\n\n\n\nDescrição\n\n\n\n\n\n\n\n\nTécnicas de Contagem\n\n\nDemonstração da aplicação das técnicas de contagem mais frequentes, especialmente úteis na presença de populações de pequena dimensão. \n\n\n\n\n\n\nNenhum item correspondente\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Probabilidades</span>"
    ]
  },
  {
    "objectID": "c060-probability.html#footnotes",
    "href": "c060-probability.html#footnotes",
    "title": "6  Probabilidades",
    "section": "",
    "text": "Esta conclusão é válida ao considerar a experiência aleatória que consiste em escolher ao acaso um dos alunos do estudo. Se aquele conjunto de alunos fosse uma amostra aleatória e se o objetivo fosse inferir sobre a independência na população o procedimento seria insuficiente, pois seria necessário considerar a variabilidade amostral.↩︎",
    "crumbs": [
      "Capítulos",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Probabilidades</span>"
    ]
  },
  {
    "objectID": "tutorials.html",
    "href": "tutorials.html",
    "title": "Tutoriais",
    "section": "",
    "text": "Ferramentas\n\n\nInstalação e configuração das ferramentas computacionais e dos fluxos de trabalho.\n\n\n\n\n\nfevereiro, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nIntrodução ao R\n\n\nNoções básicas sobre manipulação de objetos, scripts, vetores, data frames e ficheiros de dados (CSV).\n\n\n\n\n\nfevereiro, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nDados no R\n\n\nEstruturas de dados do R: vetores, matrizes, listas e data frames. Gravação e leitura de dados a partir de ficheiros. Especificação de variáveis qualitativas.\n\n\n\n\n\nfevereiro, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nGráficos\n\n\nNoções fundamentais sobre a elaboração de gráficos no R.\n\n\n\n\n\nabril, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nGráfico de Barras\n\n\nConstrução de tabelas de contingência e gráficos de barras no R, para uma ou duas variáveis categóricas.\n\n\n\n\n\nabril, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nHistogramas\n\n\nConstrução e configuração de histogramas no R.\n\n\n\n\n\nmaio, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nDiagramas de Extremos e Quartis\n\n\nConstrução e configuração de diagramas de extremos e quartis no R.\n\n\n\n\n\nmaio, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nTécnicas de Contagem\n\n\nDemonstração da aplicação das técnicas de contagem mais frequentes, especialmente úteis na presença de populações de pequena dimensão.\n\n\n\n\n\njulho, 2025\n\n\n\n\n\nNenhum item correspondente\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais"
    ]
  },
  {
    "objectID": "t010-tools.html",
    "href": "t010-tools.html",
    "title": "7  Ferramentas",
    "section": "",
    "text": "7.1 Introdução\nEste tutorial versa sobre a instalação e configuração das ferramentas computacionais necessárias ao acompanhamento dos restantes tutoriais. Também são apontadas algumas recomendações e configurações para tirar o melhor partido do ambiente computacional.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Ferramentas</span>"
    ]
  },
  {
    "objectID": "t010-tools.html#sec-tut-tools-r",
    "href": "t010-tools.html#sec-tut-tools-r",
    "title": "7  Ferramentas",
    "section": "7.2 R",
    "text": "7.2 R\nA primeira aplicação a instalar é o R (R Core Team, 2024) a partir de The Comprehensive R Archive Network. Podem ser descarregadas versões para os diversos sistemas operativos e a instalação é igual a qualquer outra aplicação. Periodicamente são publicadas versões atualizadas. Este documento foi compilado com a versão 4.5.1 publicada em 06/2025.\nApós a instalação o R está pronto a ser utilizado. No entanto, a instalação base do R apenas dispõe de uma interface gráfica e um ambiente de desenvolvimento limitados. Por esse motivo, embora completamente funcional, é difícil justificar a utilização daquela interface, estando disponíveis melhores alternativas, como sugerido na secção Secção 7.3, a seguir.\nPara testar se o R está a funcionar, no Windows, a partir do menu dos programas, pode executar-se agora a aplicação Rgui.exe. Deverá ser mostrada uma janela semelhante à da figura Figura 7.1.\n\n\n\n\n\n\nFigura 7.1: Interface gráfica do R (Rgui.exe)\n\n\n\nConfirmado que está o funcionamento do R, aquela janela pode ser fechada. Provavelmente nunca será necessária a utilização desta interface.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Ferramentas</span>"
    ]
  },
  {
    "objectID": "t010-tools.html#sec-tut-tools-rstudio",
    "href": "t010-tools.html#sec-tut-tools-rstudio",
    "title": "7  Ferramentas",
    "section": "7.3 RStudio",
    "text": "7.3 RStudio\nEmbora possam ser utilizadas outras interfaces para o trabalho com o R, a alternativa mais popular é sem dúvida o RStudio (Posit team, 2024). A aplicação pode ser descarregada em Posit Software. A instalação é simples e há versões para os diversos sistemas operativos. Tal como o R, a aplicação é atualizada periodicamente. Este texto foi editado na versão 2024.12.0.467.\nApós a instalação a aplicação está pronta a ser utilizada e pode ser invocada do menu de programas. A Figura 7.2 mostra a interface da aplicação.\n\n\n\n\n\n\nFigura 7.2: Ambiente de Desenvolvimento (IDE) do RStudio\n\n\n\nEmbora o aspeto gráfico e a disposição dos vários painéis possa ser personalizada a gosto do utilizador em Tools, Global Options…, o conteúdo e funcionalidade de cada painel descreve-se sumariamente a seguir.\n\nConsola: neste painel pode interagir-se diretamente com o R emitindo comandos, que poderão executar cálculos, gráficos, etc. e que são executados imediatamente. Note que a consola é a mesma que aparecia na Figura 7.1, com a mesma funcionalidade.\nCódigo: neste painel poderão ser editados e executados ficheiros de código R (scripts) ou outro tipo de ficheiros de texto. Também aqui podem ser visualizados dados tabulares.\nAmbiente, histórico, etc.: este painel mostra a lista de objetos em memória e o histórico dos comandos executados na consola. Trata-se de um painel de grande utilidade, por exemplo, para verificar se o comandos executados produziram as ações desejadas.\nFicheiros, gráficos, ajuda, etc.: neste painel há uma série de utilitários, como a visualização de ficheiros e pastas, os gráficos elaborados, a documentação, os pacotes instalados, etc.\n\nPara uma visão abrangente e uma referência rápida de todas as utilidades da interface pode descarregar uma cábula referência (cheatsheet) aqui.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Ferramentas</span>"
    ]
  },
  {
    "objectID": "t010-tools.html#sec-tut-tools-pkg",
    "href": "t010-tools.html#sec-tut-tools-pkg",
    "title": "7  Ferramentas",
    "section": "7.4 Pacotes (packages) adicionais",
    "text": "7.4 Pacotes (packages) adicionais\nAs várias funcionalidades do R estão agrupadas em pacotes (packages). A instalação base do R instala um conjunto de pacotes que disponibilizam as funcionalidades básicas. Alguns desses pacotes são carregados para a memória quando se inicia uma sessão, enquanto outros podem ser carregados a pedido do utilizador.\nSendo uma linguagem de programação aberta, a comunidade desenvolve, atualiza e disponibiliza permanentemente pacotes de funcionalidades adicionais, por norma, para auxiliar tarefas muito específicas que a maioria dos utilizadores não necessita.\nNestes tutoriais, optou-se por utilizar apenas as funcionalidades nos pacotes instalados inicialmente e, apenas esporadicamente, quando se justifique, recorrer a pacotes adicionais. O motivo prende-se com a camada de complexidade adicional, sendo este livro dirigido a alunos de cursos introdutórios de Estatística.\nNotavelmente, com alguma pena, não se utiliza, pelo menos de forma sistemática, os pacotes do universo tidyverse (https://www.tidyverse.org/) amplamente utilizados em ciência de dados. Naturalmente, incentivo o leitor mais avançado ou curioso a utilizar aquelas ferramentas. Uma excelente referência sobre aquele conjunto de ferramentas é Wickham & Grolemund (2016).\nCaso necessite de instalar um pacote adicional, pode usar o painel Packages do RStudio, ou a função install.packages() na consola do R. Pode encontrar uma lista de pacotes para o R aqui.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Ferramentas</span>"
    ]
  },
  {
    "objectID": "t010-tools.html#configurações",
    "href": "t010-tools.html#configurações",
    "title": "7  Ferramentas",
    "section": "7.5 Configurações",
    "text": "7.5 Configurações\nNaturalmente, a organização do trabalho depende das preferências de cada um e há sempre margem para melhorar e adaptar práticas. Por outro lado, há muitas formas de fazer as coisas e estas recomendações resultam da experiência pessoal e devem ser adaptadas às preferências de cada um.\n\n7.5.1 Configuração da pasta de trabalho\nDeterminar e alterar a pasta de trabalho que o RStudio está a utilizar é crucial, pois o R vai tentar ler os ficheiros (por exemplo, dados) dessa pasta. Igualmente, quando se grava um ficheiro ele é gravado na pasta de trabalho. Naturalmente, pode-se ler e gravar numa pasta arbitrária, mas é preciso indicar a localização da pasta ao R, o que pode ser fastidioso e propenso a erros.\nAo iniciar o RStudio, o painel Files mostra a pasta de trabalho que vai ser utilizada na sessão de trabalho. A pasta de trabalho é determinada pela configuração do RStudio. Numa nova instalação do RStudio a pasta de trabalho costuma ser a pasta dos documentos do sistema.\nA qualquer momento, a pasta de trabalho pode ser determinada executando na consola a função getwd().\n&gt; getwd()\n[1] \"C:/Users/aduarte/Documents\"\nPor norma, é boa ideia configurar uma pasta diferente, pois a pasta dos documentos costuma conter inúmeros ficheiros, criando confusão. Para alterar a pasta de trabalho para uma outra pasta à escolha, deve aceder-se a Tools &gt; Global Options… e alterar o Default working directory para a pasta preferida utilizando o botão Browse….\nNa Figura 7.3 exemplifica-se como alterar a pasta de trabalho para uma pasta mais adequada. Depois de confirmar, pode ser necessário reiniciar o RStudio para que a nova definição seja aplicada.\n\n\n\n\n\n\nFigura 7.3: RStudio Options\n\n\n\nTambém é possível modificar a pasta de trabalho de forma temporária. Para isso, no painel Files deve navegar-se até à pasta que se quer indicar como a pasta de trabalho e fazer More &gt; Set As Working Directory. Na Figura 7.4 ilustra-se o procedimento. Note-se que este processo é equivalente a utilizar a função setwd() na consola.\n\n\n\n\n\n\nFigura 7.4: RStudio Options\n\n\n\nUma terceira forma de estabelecer a pasta de trabalho (também temporária) é iniciar o RStudio através da abertura de um ficheiro (por exemplo, no Windows, dando duplo clique num script). Quando se inicia o RStudio desta forma, a pasta de trabalho será aquela onde o referido ficheiro reside. Note-se que se o RStudio já estiver aberto, abrir um ficheiro desta forma não tem qualquer efeito na pasta de trabalho.\nUma outra forma de trabalhar, mais conveniente em análises de maior dimensão, que envolvam vários scripts e ficheiros de dados, passa pela utilização de projetos. No RStudio, pode criar-se um projeto em File &gt; New Project…. Tipicamente, o projeto irá residir numa nova pasta e todas as operações de leitura e escrita, quando o projeto está ativo, são relativas a essa pasta.\n\n\n7.5.2 Resultados das análises\nÀ medida que se vão executando análises e cálculos, tipicamente, os resultados (intermédios ou finais) são guardados em objetos na memória do R e podem ser visualizados no painel Environment. Estes objetos devem ser encarados como efémeros, devendo todos os resultados relevantes poder ser recriados a partir de código Este código, por norma, deve ser guardado num script, para evitar ter de o digitar novamente ou de o procurar no histórico.\nNuma nova instalação, o RStudio está configurado para perguntar ao utilizador se quer guardar os resultados ao terminar a sessão e para carregar automaticamente esses resultados no início da sessão seguinte. Podendo haver um ou outro caso onde este procedimento faça sentido, recomenda-se a alterar este comportamento do RStudio.\nAssim, deve aceder-se novamente a Tools &gt; Global Options… e modificar a opção Save workspace to .RData on exit: para Never (nunca). O procedimento é ilustrado na Figura 7.5.\n\n\n\n\n\n\nFigura 7.5: RStudio Options\n\n\n\nSe já existir um ficheiro chamado .RData na pasta de trabalho que tenha sido criado inadvertidamente, este pode ser eliminado.\nCaso seja necessário, por algum motivo extraordinário, guardar um conjunto de resultados, no painel Environment, há um botão para guardar os conteúdos da memória num ficheiro à escolha.\nDe facto, uma forma de testar se um script produz aquilo que se deseja é eliminar todos os objetos e voltar a executar o script num ambiente “limpo”. Para isso deve proceder-se da seguinte forma:\n\nReiniciar a sessão R para eliminar todos os objetos: Session &gt; Restart R ou CtrlCtrl+ShiftShift+F10F10.\nExecutar novamente o script: botão Source ou CtrlCtrl+ShiftShift+SS.\n\nPara determinar exatamente o que um script faz, é essencial que este seja executado num ambiente “limpo”, de forma a ficar isolado de interferências de objetos na memória ou de pacotes carregados.\n\n\n7.5.3 Extensões Ocultas no Windows e macOS\nPor convenção, os nomes dos ficheiros, quer no Windows, quer no macOS, quer noutros sistemas, são compostos de duas partes separadas por um ponto (por exemplo, carta.docx). A parte que precede o ponto costuma designar-se por nome e, por norma, dá uma pista sobre o conteúdo. A parte que aparece depois do ponto é designada por extensão e serve para informar de que tipo (formato) se trata. Por exemplo, o ficheiro carta.docx, em princípio, será uma carta (a julgar pelo nome) escrita num processador de texto como o Word (a julgar pela extensão).\nComo raramente há a necessidade de alterar uma extensão, numa tentativa de compor o que não estava estragado simplificar a vida ao utilizador, a configuração por omissão do Windows e do macOS oculta a extensão para ficheiros conhecidos. No entanto, este comportamento também pode gerar confusão: por exemplo, se houver um ficheiro do Word chamado carta.docx e um ficheiro do Excel chamado carta.xlsx, vão aparecer ambos designados por carta (eventualmente com ícones diferentes).\nNa Figura 7.6 ilustra-se a situação com 5 ficheiros chamados carta. Note-se que os ícones e as descrições são diferentes, mas a utilização do mesmo nome pode gerar confusão.\n\n\n\n\n\n\nFigura 7.6: Windows Explorer (extensões ocultas)\n\n\n\nAs secções seguintes ilustram como proceder para que o sistema mostre o nome completo do ficheiro, com as respetivas extensões.\n\n7.5.3.1 No Windows\nNo Windows, abrindo o File Explorer, deve aceder-se a Options &gt; View e desativar a opção Hide extensions for known file types, conforme ilustrado na Figura 7.7. Na mesma figura pode já ver-se o resultado da operação, podendo ser observadas as diferenças para a Figura 7.6.\n\n\n\n\n\n\nFigura 7.7: Mostrar extensões no Windows Explorer\n\n\n\n\n\n7.5.3.2 No macOS\nNo macOS, abrindo o Finder, deve aceder-se a Settings… &gt; Advanced e ativar a opção Show all filename extensions, conforme ilustrado na Figura 7.8.\n\n\n\n\n\n\nFigura 7.8: Mostrar extensões no Windows Explorer\n\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Ferramentas</span>"
    ]
  },
  {
    "objectID": "t020-basics.html",
    "href": "t020-basics.html",
    "title": "8  Introdução ao R",
    "section": "",
    "text": "8.1 Cálculos interativos\nNeste tutorial faz-se uma introdução ao R, visitando a forma de emitir comandos, a sintaxe básica e a manipulação de objetos.\nVamos utilizar a consola para emitir alguns comandos. A consola do R pode ser visto como uma calculadora sofisticada. Assim, ela pode ser utilizada para fazer diversos tipos de cálculos. Alguns exemplos:\n&gt; 3 * 4\n[1] 12\n&gt; (7 + 2) / 8\n[1] 1.125\n&gt; sin(pi / 2)\n[1] 1\nNos cálculos acima foram apenas utilizados valores literais (3, 4, …), operadores (+, /), funcões (sin()) e a constante pi.\nUma instrução longa pode ser colocada em várias linhas. Depois de introduzir a primeira linha, caso o código não esteja completo o R apresenta o símbolo + em vez do habitual &gt;. Por exemplo, se escrevêssemos:\nO símbolo + indica que a instrução não está completa, neste caso falta um ), um lapso frequente.\nComeçando pelos operadores, as secções seguintes exemplificam como pode ser utilizado o R. Se já tem experiência de outras linguagens de programação, verá que o R vai ter pontos em comum.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-intro-inter",
    "href": "t020-basics.html#sec-basics-intro-inter",
    "title": "8  Introdução ao R",
    "section": "",
    "text": "sin(pi / 2\n+\n\n\n\n\n\n\n\nDica\n\n\n\nEventualmente, já reparou que o RStudio introduz automaticamente pares de parêntese, (), e de aspas, '' ou \"\", quando se coloca o primeiro. Este comportamento ajuda a evitar lapsos.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-intro-operators",
    "href": "t020-basics.html#sec-basics-intro-operators",
    "title": "8  Introdução ao R",
    "section": "8.2 Operadores",
    "text": "8.2 Operadores\nPara além das operações algébricas elementares, há outros conjuntos de operadores. Segue uma lista de operadores que se usam frequentemente:\n\nOperadores algébricos: -, +, /, *, ^ (expoente), %% (resto), %/% (divisão inteira).\nOperadores de comparação: &lt;, &lt;=, ==, &gt;=, &gt;, !=.\nOperadores lógicos: & (e), | (ou), ! (negação), %in% (pertença).\n\nAlguns exemplos da utilização de operadores:\n\n&gt; 5 %/% 2\n[1] 2\n&gt; 5 %% 2\n[1] 1\n&gt; 5 &gt; 2\n[1] TRUE\n&gt; !(5 &gt; 2)\n[1] FALSE",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-intro-errors",
    "href": "t020-basics.html#sec-basics-intro-errors",
    "title": "8  Introdução ao R",
    "section": "8.3 Erros e alertas",
    "text": "8.3 Erros e alertas\nSe estiver a acompanhar o tutorial na sua instalação do R, provavelmente, já se terá deparado com um ou outro erro, à semelhança do exemplo seguinte:\n2 x 3\nError: unexpected symbol in \"2 x\"\nTal é perfeitamente normal. Tipicamente, o R emite um erro sempre que não entende uma instrução. Tal como na linguagem comum, quando alguém tenta comunicar qualquer coisa que não entendemos, temos que pedir para repetir. O erro é a forma do R transmitir que não entendeu.\nNo exemplo acima, em vez da letra x, para multiplicar, o correto seria 2 * 3. O R não entende a letra x naquele contexto.\n\n\n\n\n\n\nDica\n\n\n\nTal como na vida, para nos fazermos entender, temos que aprender a comunicar. Neste caso, na linguagem R.\n\n\nPara uma melhor concetualização da origem dos erros, como os evitar e corrigir, podemos identificar três tipos de erros:\n\nErros sintáticos: ocorrem quando uma regra da linguagem é violada, tal como acima, no exemplo da multiplicação. Os erros de sintaxe mais comuns são parênteses não balanceados e falta de vírgulas (ou usar a vírgula como separador decimal). Tipicamente são fáceis de detetar e corrigir.\nErros semânticos: a instrução está correta do ponto de vista sintático mas, por algum motivo, a instrução não pode ser executada, por exemplo:\n\n&gt; 2 * taxa\nError: object 'taxa' not found\n\nNeste caso, a sintaxe está correta, segue todas as regras da linguagem. Queremos multiplicar 2 por um objeto designado por taxa, mas, aparentemente, o objeto taxa não foi definido previamente.\nPor norma, o R também produz uma mensagem, sendo erros fáceis de corrigir.\nErros lógicos: neste caso, o código é válido, mas o resultado não é o desejado. Por exemplo se queremos multiplicar 4 pela soma de 3 com 2, cujo resultado é 20, o seguinte código está errado:\n\n&gt; 4 * 3 + 2\n[1] 14\n\nComo se percebe facilmente, faltam os parênteses a envolver a soma. Este tipo de erros pode ser difícil de encontrar pois o R não emite nenhum alerta, visto a operação pedida ser perfeitamente válida. Só não é o que se pretendia.\n\nNote-se que a distinção entre as categorias e as próprias designações são discutíveis, havendo definições algo diferentes. O que se apresentou é apenas uma forma de conceptualizar os diferentes tipos de erros.\nPara além dos erros, o R também emite alertas (warnings) quando a operação pode ser válida, mas costuma originar erros lógicos. Neste caso, o código é executado, o resultado é apresentado, mas é emitido um alerta.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-intro-objects",
    "href": "t020-basics.html#sec-basics-intro-objects",
    "title": "8  Introdução ao R",
    "section": "8.4 Objetos",
    "text": "8.4 Objetos\nNo R, um objeto é simplesmente uma estrutura para guardar informação na memória do computador. O objeto tem que ter um nome que o identifique e pelo qual podemos aceder ao seu conteúdo. O conteúdo pode ser diverso. Vamos criar o primeiro objeto deste tutorial:\n\n&gt; x &lt;- 10\n\nNo exemplo acima cria um objeto designado por x (nome do objeto) e que contém o número 10. O símbolo &lt;- (composto por um menor e um menos que, no RStudio pode ser obtido com a combinação de teclas AltAlt+--) é o operador de atribuição e atribui o valor da expressão da direita ao objeto cujo nome está do lado esquerdo. Se o objeto ainda não existia é criado, senão, o valor é atualizado.\nDepois de criado, o objeto pode ser utilizado como se se tratasse de um valor literal. Na expressão seguinte o x poderia ser substituído por pelo seu valor, 10.\n\n&gt; resultado &lt;- 2 * x\n&gt; resultado\n[1] 20\n\nPara inspecionar o valor de um objeto, basta digitar o nome na consola ou verificar o painel Environment (Figura 8.1).\n\n\n\n\n\n\nFigura 8.1: Painel Environment\n\n\n\nDeve ter-se em atenção que os nomes dos objetos devem cumprir as seguintes regras:\n\nIniciar com uma letra.\nConter apenas letras, números, ponto (.) e o traço inferior (_), sem espaços.\nNão serem palavras reservadas, por exemplo, TRUE, FALSE, if, etc.\n\nAdemais, os nomes devem ser curtos (fáceis de escrever) e com significado (pista sobre o conteúdo).\nO objeto criado acima é do tipo numérico, no entanto, um objeto pode ser de qualquer tipo, desde os tipos elementares e estruturas definidas pelo R, até tipos mais complexos definidos por pacotes adicionais ou pelo utilizador.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-intro-types",
    "href": "t020-basics.html#sec-basics-intro-types",
    "title": "8  Introdução ao R",
    "section": "8.5 Tipos de dados elementares",
    "text": "8.5 Tipos de dados elementares\nO R define seis tipos de dados elementares que podem depois ser agrupados em estruturas mais complexas. O tipos elementares de dados são:\n\nNumérico (numeric): para armazenar números (10, -4.25, etc.).\nLógico (logical): para armazenar os valores TRUE e FALSE (ou T e F).\nTexto (character): para armazenar texto (\"exemplo de texto\").\nInteiro (integer): para armazenar apenas números inteiros, não havendo muitas situações em que seja necessário usar este tipo em específico, uma vez que estes números podem ser representados pelo tipo numérico.\nComplexo (complex): para armazenar números complexos (2+6i).\nBruto (raw): para armazenar bytes (sequencias de zeros e uns) em bruto.\n\nEnquanto que os três últimos tipos apenas têm interesse em situações muito específicas, os três primeiros (numérico, lógico e texto) são de utilização frequente, sendo a espinha dorsal da maior parte das estruturas de dados.\nPor vezes os números são representados na notação científica e o R consegue lidar com isso. Por exemplo, as seguintes operações são válidas:\n\n&gt; 1e2 + 1\n[1] 101\n&gt; 1000 * 1000\n[1] 1e+06\n&gt; 1 / 1E7\n[1] 1e-07",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-special-value",
    "href": "t020-basics.html#sec-basics-special-value",
    "title": "8  Introdução ao R",
    "section": "8.6 Valores especiais",
    "text": "8.6 Valores especiais\nNo R existem alguns valores especiais que podem ser atribuídos aos objetos:\n\nNULL: quando um objeto contém NULL significa que não tem conteúdos. Frequentemente, este valor é atribuído na sequência de erros no código.\nNA: é utilizado para informar que a informação está em falta (Not Available). Por exemplo, num inquérito, às respostas em branco é atribuído o valor NA.\nNaN: significa Not a Number e resulta de operações aritméticas impossíveis, por exemplo, 0 / 0.\nInf: representa infinito e é o resultado de algumas operações aritméticas, por exemplo, 1 / 0. Também pode ocorrer o valor -Inf.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-intro-functions",
    "href": "t020-basics.html#sec-basics-intro-functions",
    "title": "8  Introdução ao R",
    "section": "8.7 Funções",
    "text": "8.7 Funções\nTal como na Matemática e outras linguagens de programação, no R também existem funções. Uma função recebe um conjunto de entradas (números, texto, objetos, etc.) e produz um resultado.\nPor exemplo, para calcular o logaritmo natural de um número, podemos fazer:\n\n&gt; log(20)\n[1] 2.995732\n\nUma função recebe informação sob a forma de entradas ou argumentos. Para invocar uma função, a sintaxe é:\n\n&gt; nome_da_funcao(argumento1 = valor1, argumento2 = valor2, ...)\n\nA chamada da função log() poderia ter sido feita na forma mais explícita:\n\n&gt; log(x = 20)\n[1] 2.995732\n\nIsto porque o nome do primeiro argumento desta função é x. Sempre que seja óbvio o que o argumento representa, o nome pode ser omitido. Note-se o código a seguir:\n\n&gt; log(20, 10)\n[1] 1.30103\n\nNeste caso já não é óbvio que está a ser calculado o logaritmo decimal, ou seja, a base do logaritmo é 10. Uma forma tornar o código mais claro seria:\n\n&gt; log(20, base = 10)\n[1] 1.30103\n\nDe facto, a função log() tem 2 argumentos, x e base. Quando a base é omitida o R utiliza a base natural, \\(e\\approx\\) 2.72. Quase todas as funções têm argumentos definidos por omissão, podendo esta informação ser encontrada na documentação.\nQuando o nome dos argumentos é omitido, o R atribui os valores aos argumentos pela ordem predefinida para a função. Neste exemplo, na função log(), a ordem dos argumentos é x e depois base. Por exemplo:\n\n&gt; log(10, 20)\n[1] 0.7686218\n\ncalcula o logaritmo de 10 na base 20. Se os nomes não forem omitidos, os argumentos podem estar em qualquer ordem. Poder-se-ia fazer:\n\n&gt; log(base = 10, x = 20)\n[1] 1.30103\n\nou\n\n&gt; log(base = 10, 20)\n[1] 1.30103\n\npara se obter o logaritmo decimal. Estas últimas formas de invocar a função, embora sintaticamente corretas, são menos naturais e mais confusas, pelo que se recomenda evitar.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-rules-style",
    "href": "t020-basics.html#sec-basics-rules-style",
    "title": "8  Introdução ao R",
    "section": "8.8 Regras e estilo",
    "text": "8.8 Regras e estilo\nPara evitar erros, é necessário seguir as regras da linguagem, particularmente as regras de sintaxe. Havendo muitas mais regras que as expostas acima, a maior parte delas são muito específicas e de aplicação infrequente. Em caso de dúvida, podemos sempre consultar a documentação ou pesquisar na internet. Também se pode ter à mão uma cábula referência (cheatsheet), tal como a do R Base.\nPara lá das regras há ainda a questão do estilo, que deve seguir uma série de convenções, especialmente se o trabalho for colaborativo. Sobre este assunto, recomenda-se a consulta de https://style.tidyverse.org/.\n\nO R é case sensitive, isto é, usar letra maiúscula ou minúscula faz diferença. Por exemplo podemos ter simultaneamente um objeto chamado aluno e um objeto chamado Aluno. Claramente, isto é confuso e propenso a erros.\nPor uma questão de consistência, nos nomes dos objetos, é recomendado o uso de minúscula, separando palavras com o traço baixo. Por exemplo, usar primeiro_nome em vez de PrimeiroNome ou primeiro.nome ou PRIMEIRO_NOME ou outras variantes.\nDeve ter-se em atenção a prioridade entre operadores. Por exemplo, as multiplicações são feitas antes das somas. Deve certificar-se que coloca parênteses sempre que necessário e que estes ficam balanceados.\nUma outra questão de estilo é o uso do espaço entre símbolos. Embora não seja obrigatório, torna o código muito mais legível. Por exemplo 2*3/4 é o mesmo que 2 * 3 / 4, mas a segunda versão é muito mais legível.\n\n\n\n\n\n\n\nDica\n\n\n\nQualquer idiota consegue escrever código que o computador consegue entender. Os bons programadores escrevem código que os humanos conseguem entender. Martin Fowler, 2008.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#sec-basics-automation",
    "href": "t020-basics.html#sec-basics-automation",
    "title": "8  Introdução ao R",
    "section": "8.9 Automatismos do RStudio",
    "text": "8.9 Automatismos do RStudio\nPara simplificar o trabalho com o R e aumentar a produtividade, o RStudio incorpora um vasto conjunto de automatismos. Relembram-se alguns que já foram referidos acima:\n\nIntrodução automática de pares de parêntesis, (), aspas, '' e duplas aspas \"\".\nAtalho para o operador de atribuição, AltAlt+--. Automaticamente o operador é rodeado de espaços. É um dos atalhos de teclado mais úteis, pois é muito frequente e poupa a digitação de 4 símbolos.\n\nA qualquer momento, no RStudio, é possível aceder a uma lista de todos os atalhos com CtrlCtrl+ShiftShift+KK. Para aumentar a produtividade a memorização dos atalhos do teclado mais frequentes é uma ferramenta importante.\n\n8.9.1 Completar o código\nAo digitar código, o RStudio oferece alternativas para completar o que se está a digitar. Esta funcionalidade é particularmente útil, pois os nomes de objetos ou de funções podem ser longos.\nAssim, depois de digitar as primeiras 3 letras de um nome, o RStudio oferece uma lista de alternativas compatíveis. Para escolher uma das alternativas basta navegar a lista com as teclas direcionais (↓↓ e ↑↑) e confirmar a escolha com uma das teclas ↹↹, →→ ou ↵↵.\nAdicionalmente, estão disponíveis as teclas EscEsc para cancelar a escolha e a F1F1 para invocar a ajuda, caso se trate de uma função. Este mecanismo também pode ser despoletado a qualquer momento usando a tecla ↹↹.\n\n\n8.9.2 Histórico de comandos\nPodemos aceder facilmente ao histórico de comandos através do painel History (Figura 8.2). Utilizando o mecanismo de copiar e colar ou, mais facilmente, o botão To Console, um comando anterior pode ser repetido.\n\n\n\n\n\n\nFigura 8.2: Painel History\n\n\n\nEsta operação pode ser feita mais rapidamente com o teclado. Assim, na consola, a pressionar ↑↑ e ↓↓ os comandos anteriores são imediatamente copiados para a consola, bastando ↵↵ para os executar.\nTambém pode ser aberta uma lista de comandos anteriores, à semelhança do mecanismo de completar o código. Para invocar a lista, basta utilizar a combinação CtrlCtrl+↑↑.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t020-basics.html#scripts",
    "href": "t020-basics.html#scripts",
    "title": "8  Introdução ao R",
    "section": "8.10 Scripts",
    "text": "8.10 Scripts\nEmbora se possa emitir qualquer comando a partir da consola, esta apresenta algumas limitações:\n\nEm comandos muito extensos, eventualmente com várias linhas, a edição na consola torna-se desconfortável.\nEmbora todos os comandos fiquem registados no painel History, não é muito eficiente andar no histórico a procurar comandos sempre que sejam necessários.\nSe o trabalho for colaborativo, podemos querer partilhar uma sequência de operações de forma autónoma.\n\nA maneira de ultrapassar aqueles inconvenientes da consola é utilizando scripts. Um script é apenas um ficheiro de texto que pode conter conjuntos de instruções e comentários e que pode ser editado, guardado e o código executado sempre que seja necessário.\nPode criar-se um script no RStudio com File &gt; New File &gt; R Script ou CtrlCtrl+ShiftShift+NN. Normalmente, o ficheiro contém alguns comentários no topo, dando informações sobre o conteúdo, o autor e a data, seguidos de código, por exemplo:\n\n# Um script simples\n# Óscar Cardozo\n# Fevereiro, 2025\n\nmy_num &lt;- 12345  # número de aluno\nmy_result &lt;- my_num %% 10\ncat(\"O último dígito é\", my_result)\n\nNote que tudo o que segue o símbolo # numa determinada linha é um comentário e, portanto, não é interpretado pelo R.\nAgora pode salvar o script. Relativamente ao nome do ficheiro, tenha em atenção:\n\nO nome do ficheiro contém a extensão .R.\nEvitar caracteres acentuados, símbolos, espaços e misturas de maiúsculas e minúsculas.\nO nome deve ter significado e dar uma pista sobre o conteúdo.\nSe tiver vários ficheiros na mesma pasta, pense na ordenação.\n\nOs comandos contidos no script podem também ser executados de várias formas:\n\nCom o botão Run ou CtrlCtrl+↵↵ executa a linha corrente ou o código selecionado. É um recurso ótimo para executar o código linha a linha.\nCom o botão Source ou CtrlCtrl+ShiftShift+SS executa todos os comandos do script.\n\nÀ medida que o código é editado o RStudio vai diagnosticando e assinalando problemas e potenciais problemas junto ao número da linha. A Figura 8.3 ilustra a situação. No exemplo, falta fechar o parênteses na última instrução, facto que o RStudio deteta e assinala.\n\n\n\n\n\n\nFigura 8.3: Destaque de erros no código\n\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Introdução ao R</span>"
    ]
  },
  {
    "objectID": "t030-data.html",
    "href": "t030-data.html",
    "title": "9  Dados no R",
    "section": "",
    "text": "9.1 Vetores\nEste tutorial abrange a criação de estruturas de dados no R. O texto está organizado por nível de complexidade, iniciando com as estruturas mais simples e aumentando progressivamente. Será ainda discutido como codificar variáveis qualitativas no R. Por fim será abordada a leitura e escrita de ficheiros de dados.\nNo R os vetores são objetos com uma estrutura de dados simples mas fundamental, uma vez que implementam o conceito de variável estatística. Sendo uma variável estatística um conjunto de observações relativa a uma determinada característica, decorre da definição, que todas as observações são do mesmo tipo (numérica ou categórica, discreta ou contínua, etc.).\nDe facto, no R, os vetores são conjuntos de elementos do mesmo tipo, uma vez que cada vetor irá, na maior parte dos casos, conter dados referentes a determinada variável estatística.\nNa prática, ao trabalhar com dados reais, os conteúdos dos vetores são quase sempre lidos de ficheiros. Neste tutorial vamos criar pequenos vetores digitando diretamente os conteúdos.\nConsidere-se a informação resultante de um pequeno inquérito a uma conjunto de 5 alunos:\nPara introduzir a informação diretamente na consola ou num script pode usar a função c(). Esta função combina os argumentos passados para a função num vetor. Por exemplo, a seguinte instrução cria um vetor de elementos do tipo texto (character):\n&gt; nome &lt;- c(\"Rui Costa\", \"David Luiz\", \"João Pinto\", \"Di Maria\", \"Eusébio\")\nUma vez criado o vetor, podemos agora aceder à sua totalidade ou a elementos específicos desse vetor usando o seletor de elementos, [ ]:\n&gt; nome\n[1] \"Rui Costa\"  \"David Luiz\" \"João Pinto\" \"Di Maria\"   \"Eusébio\"   \n&gt; nome[2]\n[1] \"David Luiz\"\n&gt; nome[2:4]\n[1] \"David Luiz\" \"João Pinto\" \"Di Maria\"  \n&gt; nome[-(2:4)]\n[1] \"Rui Costa\" \"Eusébio\"  \n&gt; nome[c(2, 4)]\n[1] \"David Luiz\" \"Di Maria\"\nO código acima ilustra a grande flexibilidade das formas de seleção de elementos de um vetor.\nPodemos criar os restantes vetores de forma semelhante:\n&gt; idade &lt;- c(19, 20, 21, 23, 22)\n&gt; notas &lt;- c(13.3, 13.7, 14.4, NA, 12.9)\n&gt; nacional &lt;- c(\"Portugal\", \"Brasil\", \"Portugal\", \"Argentina\", \"Portugal\")\n&gt; satisfacao &lt;- c(\"satisfeito\", NA, \"insatisfeito\", \"neutral\", \"neutral\")\nNote a utilização do valor NA. No caso das notas pode ser utilizado para representar um aluno que ainda não concluiu qualquer disciplina. No caso da satisfação pode representar alguém que não respondeu à questão.\nPara lá da introdução de valores, outras formas úteis de gerar vetores para fazer experiências são as sequências regulares e a geração aleatória.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#sec-data-vectors",
    "href": "t030-data.html#sec-data-vectors",
    "title": "9  Dados no R",
    "section": "",
    "text": "Dica\n\n\n\nO conceito de vetor na linguagem R não tem uma relação direta com o conceito matemático de vetor. Noutras linguagens de programação, o que no R se designa por vetor é designado por array (C/C++, Java, etc.).\n\n\n\n\n\nNome.\nIdade (anos).\nNota média (nas disciplinas aprovadas).\nNacionalidade (país).\nSatisfação com a escola (insatisfeito, neutral, satisfeito).\n\n\n\n\n\n\n\n\n\nDica\n\n\n\nSe um valor for texto, é necessário utilizar aspas. Podem ser utilizadas aspas duplas ou aspas simples, ou seja, tanto \"texto\" como 'texto' são perfeitamente válidos, embora se recomende o uso das aspas duplas.\n\n\n\n\n\n\n\n\nNota\n\n\n\nO facto de os nomes dos alunos coincidirem com jogadores do Benfica é apenas isso, uma coincidência não intencional. De forma alguma se pretende insinuar que o Benfica é um clube melhor do que qualquer outro.\n\n\n\n\n\n\n\n\n\n\n\nDica\n\n\n\nNo exemplo anterior e nos seguintes, optou-se por realizar as operações mostrando o resultado de forma efémera, na consola, sem guardar os resultados num novo objeto. É apenas por uma questão de clareza da explicação. Qualquer das operações poderia ser precedida de uma atribuição.\n\n\n\n\n\n\n\n9.1.1 Sequências regulares\nA forma mais elementar de criar uma sequência é utilizando o operador :. A sequência inicia-se no primeiro valor e continua em incrementos de 1 (ou -1). Por exemplo:\n\n&gt; 1:7\n[1] 1 2 3 4 5 6 7\n&gt; 9:4\n[1] 9 8 7 6 5 4\n&gt; 1.7:6\n[1] 1.7 2.7 3.7 4.7 5.7\n\nPara ter mais controlo sobre a sequência, a função seq() introduz mais alguma flexibilidade. Por exemplo:\n\n&gt; seq(from = 1, to = 3, by = 0.5)\n[1] 1.0 1.5 2.0 2.5 3.0\n&gt; seq(1, 3, by = 0.5)\n[1] 1.0 1.5 2.0 2.5 3.0\n&gt; seq(from = 1, by = 2, length.out = 5)\n[1] 1 3 5 7 9\n&gt; seq(7)\n[1] 1 2 3 4 5 6 7\n&gt; seq(along.with = nome)\n[1] 1 2 3 4 5\n\nUma outra forma de gerar vetores regulares é com a função rep(), que produz repetições dos objetos fornecidos. Alguns exemplos:\n\n&gt; rep(1:3, 3)\n[1] 1 2 3 1 2 3 1 2 3\n&gt; rep(1:3, each = 3)\n[1] 1 1 1 2 2 2 3 3 3\n&gt; rep(1:3, each = 3, times = 2)\n [1] 1 1 1 2 2 2 3 3 3 1 1 1 2 2 2 3 3 3\n&gt; rep(idade, 2)\n [1] 19 20 21 23 22 19 20 21 23 22\n\nEstas funções são extremamente flexíveis. Na documentação pode encontrar mais possibilidades de utilização e exemplos.\n\n\n9.1.2 Sequências aleatórias\nTambém é possível gerar sequências aleatórias, de uma forma simples, com a função sample(). Seguem alguns exemplos da sua utilização:\n\nOrdenar um vetor aleatoriamente:\n\n&gt; sample(8)\n[1] 7 8 3 6 2 4 5 1\n&gt; sample(nome)\n[1] \"Eusébio\"    \"Di Maria\"   \"David Luiz\" \"João Pinto\" \"Rui Costa\" \n\nSelecionar um conjunto aleatório de elementos (sem reposição, isto é, não repetindo elementos):\n\n&gt; sample(nome, 3)\n[1] \"David Luiz\" \"João Pinto\" \"Rui Costa\" \n\nSelecionar um conjunto aleatório de elementos (com reposição, isto é, podendo repetir elementos):\n\n&gt; sample(nome, 3, replace = TRUE)\n[1] \"João Pinto\" \"João Pinto\" \"Rui Costa\" \n\n\n\n\n\n\n\n\nDica\n\n\n\nSe quiser obter exatamente as mesmas sequências que nos exemplos acima, deve previamente executar a instrução set.seed(123). A função set.seed() foi pensada para possibilitar a reprodutibilidade dos resultados. Se não executar esta instrução, ou colocar um número diferente, obterá sequências aleatórias diferentes.\n\n\n\n\n9.1.3 Operações\nNaturalmente, o objetivo de utilizar vetores é depois poderem ser utilizados em diversas operações, quer como operandos, quer como argumentos de funções.\nOs operadores e funções mais usuais modificam o seu comportamento quando estão na presença de vetores. Por exemplo:\n\n&gt; 1:5 + 10\n[1] 11 12 13 14 15\n&gt; idade * 12\n[1] 228 240 252 276 264\n&gt; idade + idade\n[1] 38 40 42 46 44\n&gt; c(idade, 20)\n[1] 19 20 21 23 22 20\n&gt; log(idade)\n[1] 2.944439 2.995732 3.044522 3.135494 3.091042\n&gt; mean(idade)\n[1] 21\n\nComo pode verificar, nuns casos as operações são feitas sobre cada elemento do vetor, noutros casos, por exemplo, a média, apenas é produzido um resultado. Tudo depende do tipo de operação considerada.\n\n\n9.1.4 Ordenação\nHá duas formas de ordenar vetores. A forma mais básica é utilizando a função sort(). Neste caso, o resultado da função é o vetor ordenado:\n\n&gt; sort(nome)\n[1] \"David Luiz\" \"Di Maria\"   \"Eusébio\"    \"João Pinto\" \"Rui Costa\" \n&gt; sort(idade, decreasing = TRUE)\n[1] 23 22 21 20 19\n\nA outra forma de ordenar envolve a função order(). Neste caso a função produz uma lista de índices contendo a posição de cada elemento se o vetor estivesse ordenado. Neste caso, um exemplo torna a explicação mais clara:\n\n&gt; order(nome)\n[1] 2 4 5 3 1\n\nO resultado indica em que posição do vetor original está cada elemento do vetor ordenado. Por exemplo, o primeiro elemento do vetor ordenado está na posição 2 do vetor original (David Luiz), o segundo elemento do vetor ordenado está na posição 4 do vetor original (Di Maria), etc.\nPara obter o vetor ordenado pode utilizr-se:\n\n&gt; nome[order(nome)]\n[1] \"David Luiz\" \"Di Maria\"   \"Eusébio\"    \"João Pinto\" \"Rui Costa\" \n\nNo exemplo anterior, claramente, a função sort() é mais intuitiva. No entanto, se fosse necessário desempatar elementos recorrendo a outros vetores, só poderia ser feito com a função order(), além de outras funcionalidades adicionais.\n\n\n9.1.5 Nomes dos elementos\nA cada elemento de um vetor pode ser atribuído um nome. Esta operação pode tornar mais fácil a manipulação dos elementos do vetor. Por exemplo, vamos atribuir o nome dos alunos ao vetor de idades:\n\n&gt; names(idade) &lt;- nome\n&gt; idade\n Rui Costa David Luiz João Pinto   Di Maria    Eusébio \n        19         20         21         23         22 \n\nA vantagem desta operação é passar a poder selecionar os elementos pelo seu nome, em vez da posição, caso seja conveniente. Por exemplo:\n\n&gt; idade[\"Di Maria\"]\nDi Maria \n      23 \n\nPara eliminar os nomes deve fazer-se:\n\n&gt; names(idade) &lt;- NULL\n&gt; idade\n[1] 19 20 21 23 22\n\n\n\n9.1.6 Selecão de elementos\nTal como exemplificado acima, para selecionar elementos de um vetor pode utilizar-se:\n\nUm inteiro ou um vetor de inteiros representado os índices (posições) dos elementos a selecionar.\n\n&gt; nome[c(1, 3)]\n[1] \"Rui Costa\"  \"João Pinto\"\n\nInteiros negativos, representado as posições dos elementos a não selecionar.\n\n&gt; nome[-c(1, 3)]\n[1] \"David Luiz\" \"Di Maria\"   \"Eusébio\"   \n\nnomes dos elementos a selecionar, caso estejam definidos, tal como indicado na secção Secção 9.1.5.\n\nOutras formas mais avançadas de selecionar envolvem a utilização de valores lógicos ou condições. Seguem-se alguns exemplos:\n\n&gt; idade[idade &lt;= 20]\n[1] 19 20\n&gt; nome[idade &lt;= 20]\n[1] \"Rui Costa\"  \"David Luiz\"\n&gt; nome[!(idade &lt;= 20)]\n[1] \"João Pinto\" \"Di Maria\"   \"Eusébio\"   \n&gt; nome[nacional != \"Portugal\"]\n[1] \"David Luiz\" \"Di Maria\"  \n&gt; nome[nacional == \"Portugal\" | nacional == \"Brasil\"]\n[1] \"Rui Costa\"  \"David Luiz\" \"João Pinto\" \"Eusébio\"   \n\nNote-se que quando se usa uma condição é o mesmo que usar um vetor de valores lógicos cujos com TRUE na posição dos elementos a selecionar. De facto, uma condição é convertida num vetor de valores lógicos. O código a seguir ilustra o conceito:\n\n&gt; nacional\n[1] \"Portugal\"  \"Brasil\"    \"Portugal\"  \"Argentina\" \"Portugal\" \n&gt; nacional == \"Portugal\"\n[1]  TRUE FALSE  TRUE FALSE  TRUE\n&gt; nome[nacional == \"Portugal\"]\n[1] \"Rui Costa\"  \"João Pinto\" \"Eusébio\"   \n\n\n\n9.1.7 Tamanho e tipo\nO tamanho de um vetor pode ser determinado com a função lenght():\n\n&gt; length(nome)\n[1] 5\n\nO tipo de dados do vetor pode ser determinado com mode() e testado com diversas funções, tipicamente iniciadas por is.. Por exemplo:\n\n&gt; mode(notas)\n[1] \"numeric\"\n&gt; is.numeric(notas)\n[1] TRUE\n&gt; is.character(notas)\n[1] FALSE\n\nÉ possível converter entre tipos de dados, havendo um conjunto de funções para o efeito (iniciadas por as.). O resultado da conversão depende dos dados que estão no vetor e esta pode não ser possível ou não fazer sentido. Analise os seguintes exemplos:\n\n&gt; idade_txt &lt;- as.character(idade)\n&gt; idade_txt\n[1] \"19\" \"20\" \"21\" \"23\" \"22\"\n&gt; mean(idade_txt)\nWarning in mean.default(idade_txt): argument is not numeric or logical:\nreturning NA\n[1] NA\n&gt; as.numeric(idade_txt)\n[1] 19 20 21 23 22\n&gt; as.numeric(nome)\nWarning: NAs introduced by coercion\n[1] NA NA NA NA NA\n\nA conversão da idade de número para texto foi efetuada. Note que os valores da variável idade_txt são apresentados entre aspas, indicando que são texto. Quando depois se tenta calcular a média deste vetor o R devolve NA com um aviso a lembrar que a variável não é numérica.\nO R também foi capaz de efetuar a conversão inversa, uma vez que os valores em texto puderam ser convertidos para números. Quando se tenta fazer o mesmo com os nomes, é emitido novo aviso e o vetor produzido apenas contém NA, pois não há uma forma óbvia de converter os nomes para números.\n\n\n\n\n\n\nDica\n\n\n\nA quase totalidade dos conceitos que se aplicam a vetores também se aplicam a outras estruturas, com a necessárias adaptações. Para ser proficiente na linguagem R deve ter-se um bom entendimento destas operações.\n\n\n\n\n9.1.8 Regra da reciclagem1\nA regra da reciclagem pode ser ilustrada com o seguinte exemplo:\n\n&gt; 1:6 + c(10, 20)\n[1] 11 22 13 24 15 26\n\nO resultado pode ser explicado com recurso à regra da reciclagem do R: em muitas operações, quando os vetores têm tamanhos diferentes, o vetor mais pequeno é reciclado, isto é, é replicado tantas vezes quantas as necessárias para obter o mesmo número de elementos do vetor maior. Note que o código seguinte produz o mesmo resultado de forma explícita.\n\n&gt; 1:6 + rep(c(10, 20), 3)\n[1] 11 22 13 24 15 26\n\nQuando o tamanho do vetor maior não é múltiplo do tamanho do vetor mais pequeno, a operação é realizada, mas é emitido um aviso, pois é uma operação pouco usual.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#matrizes",
    "href": "t030-data.html#matrizes",
    "title": "9  Dados no R",
    "section": "9.2 Matrizes",
    "text": "9.2 Matrizes\nNo R, uma matriz pode ser vista como um vetor em duas dimensões, em que cada elemento está na interseção de uma linha com uma coluna. Por ser uma estrutura pouco frequente (a não ser que esteja a trabalhar com cálculo matricial) apenas se apresenta um pequeno exemplo.\n\n&gt; m &lt;- matrix(1:12, nrow = 3, ncol = 4)\n&gt; m\n     [,1] [,2] [,3] [,4]\n[1,]    1    4    7   10\n[2,]    2    5    8   11\n[3,]    3    6    9   12\n&gt; m[2, ]   # uma linha\n[1]  2  5  8 11\n&gt; m[, 2]   # uma coluna\n[1] 4 5 6\n&gt; m[2, 2]  # um elemento\n[1] 5\n&gt; t(m)     # transposição\n     [,1] [,2] [,3]\n[1,]    1    2    3\n[2,]    4    5    6\n[3,]    7    8    9\n[4,]   10   11   12",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#arrays",
    "href": "t030-data.html#arrays",
    "title": "9  Dados no R",
    "section": "9.3 Arrays",
    "text": "9.3 Arrays\nNo R, os arrays generalizam o conceito de matriz a mais do que 2 dimensões. Como são estruturas muito específicas e de utilização incomum, apenas se refere a existência. Em caso de necessidade recorra à documentação da função array().",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#listas",
    "href": "t030-data.html#listas",
    "title": "9  Dados no R",
    "section": "9.4 Listas",
    "text": "9.4 Listas\nUma lista agrupa um conjunto de elementos que podem ser de tipos diferentes e mais ou menos complexos (tipos elementares, vetores, etc.). A cada elemento da lista pode ser atribuído um nome. Muitas funções têm como resultado uma lista, notavelmente, a generalidade dos testes estatísticos.\nPor exemplo, o seguinte código cria e mostra uma lista:\n\n&gt; aluno &lt;- list(nome = \"Luisão\", idade = 23, notas = c(13, 15, 11))\n&gt; aluno\n$nome\n[1] \"Luisão\"\n\n$idade\n[1] 23\n\n$notas\n[1] 13 15 11\n\nPara aceder a um elemento específico, a forma mais simples é com o operador $. Por exemplo, para as notas do aluno:\n\n&gt; aluno$notas\n[1] 13 15 11\n\nNa lista, podemos modificar o valor dos elementos ou podemos acrescentar ou remover elementos:\n\n&gt; aluno$idade &lt;- 24        # modificar\n&gt; aluno$pais &lt;- \"Brasil\"   # acrescentar\n&gt; aluno$notas &lt;- NULL      # remover\n&gt; aluno\n$nome\n[1] \"Luisão\"\n\n$idade\n[1] 24\n\n$pais\n[1] \"Brasil\"",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#data-frames",
    "href": "t030-data.html#data-frames",
    "title": "9  Dados no R",
    "section": "9.5 Data frames",
    "text": "9.5 Data frames\nUma data frame pode ser vista como uma tabela e são a estrutura típica para armazenar dados estatísticos, uma vez que cada coluna corresponde a uma variável e cada linha a uma observação.\nEm termos de linguagem R uma data frame pode ser vista como uma lista composta por vetores, que podem ser de tipos diferentes, mas que, necessariamente, têm o mesmo tamanho. Desto modo, a sintaxe das data frames incorpora elementos dos vetores, das matrizes e das listas.\nNa mioria dos casos, as data frames são lidas a partir de ficheiros de dados, uma vez que podem conter grandes quantidades de informação. Nesta secção vamos construir uma data frame a partir dos vetores criados anteriormente:\n\n&gt; turma &lt;- data.frame(nome, idade, notas, nac = nacional, sat = satisfacao)\n&gt; turma\n        nome idade notas       nac          sat\n1  Rui Costa    19  13.3  Portugal   satisfeito\n2 David Luiz    20  13.7    Brasil         &lt;NA&gt;\n3 João Pinto    21  14.4  Portugal insatisfeito\n4   Di Maria    23    NA Argentina      neutral\n5    Eusébio    22  12.9  Portugal      neutral\n\nComo pode verificar o resultado foi apresentado como uma tabela. Aproveitou-se a criação da data frame para tornar os nomes de algumas colunas mais curtos. Note que as linhas estão identificadas por números. Alternativamente poder-se-ia utilizar o nome dos alunos para identificar as linhas, uma vez que se trata de um identificador. Nesse caso, o código deveria ser:\n\n&gt; turma &lt;- data.frame(idade, notas, nac = nacional, sat = satisfacao, row.names = nome)\n&gt; turma\n           idade notas       nac          sat\nRui Costa     19  13.3  Portugal   satisfeito\nDavid Luiz    20  13.7    Brasil         &lt;NA&gt;\nJoão Pinto    21  14.4  Portugal insatisfeito\nDi Maria      23    NA Argentina      neutral\nEusébio       22  12.9  Portugal      neutral\n\n\n\n\n\n\n\nDica\n\n\n\nNo RStudio, no painel Environment, pode ver detalhes sobre as variáveis contidas na data frame, selecionando o ícone ao lado do nome do objeto (seta branca em fundo azul). Pode inspecionar os conteúdos da data frame numa nova aba, selecione o nome do objeto.\n\n\n\n\n\n\n\n\nNota\n\n\n\nO RStudio, não é a ferramenta ideal para editar dados. Embora se possa editar uma data frame com a função fix(nome_da_data_frame), a ferramenta é muito limitada. Tipicamente os dados são preparados fora do RStudio com ferramentas mais adequadas, por exemplo, folhas de cálculo, e depois importados para o R.\n\n\nPara aceder ao elementos da data frame pode utilizar-se:\n\nColunas (variáveis):\n\n&gt; turma$notas\n[1] 13.3 13.7 14.4   NA 12.9\n&gt; turma[[\"notas\"]]\n[1] 13.3 13.7 14.4   NA 12.9\n&gt; turma[, \"notas\"]\n[1] 13.3 13.7 14.4   NA 12.9\n&gt; turma[, 2]\n[1] 13.3 13.7 14.4   NA 12.9\n\nLinhas (observações):\n\n&gt; turma[\"Di Maria\", ]\n         idade notas       nac     sat\nDi Maria    23    NA Argentina neutral\n&gt; turma[4, ]\n         idade notas       nac     sat\nDi Maria    23    NA Argentina neutral\n\nElementos: qualquer combinação das anteriores.\n\n&gt; turma[\"Rui Costa\", \"idade\"]\n[1] 19\n&gt; turma$idade[1]\n[1] 19\n&gt; turma[1, 1]\n[1] 19\n\n\nEmbora o R permita grande flexibilidade, por norma, a linhas são selecionadas através de uma condição e as colunas são selecionadas pelo nome, como no exemplo seguinte:\n\n&gt; turma[idade &lt;= 20, c(\"idade\", \"nac\")]\n           idade      nac\nRui Costa     19 Portugal\nDavid Luiz    20   Brasil\n\n\n\n\n\n\n\nDica\n\n\n\nNaturalmente, todas as operações de seleção válidas para vetores, também são válidas para selecionar linhas de uma data frames.\n\n\nPara além do operador de seleção [ ], uma outra forma de filtrar data frames é com a utilização da função subset(). Como o nome indica, trata-se de uma função que filtra a data frame e devolve uma outra data frame contendo um subconjunto de observações e variáveis. O filtro aplicado acima pode ser obtido com:\n\n&gt; subset(turma, idade &lt;= 20, select = c(idade, nac))\n           idade      nac\nRui Costa     19 Portugal\nDavid Luiz    20   Brasil\n\nEsta função apenas torna mais explícita a operação de filtragem, mas nada acrescenta ao operador de seleção. Notavelmente:\n\nO nome das variáveis colocadas em select = não necessita de ter aspas (pode ter ou não ter) ou podem ser referidas pelo índice, por exemplo, select = c(1, 3)\nA condição para as linhas pode ser omitida, sendo selecionadas todas a linhas.\nPoderíamos fazer, por exemplo, select = -c(idade, nac). Nesse caso, seriam selecionadas todas as variáveis menos aquelas.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#ler-e-gravar",
    "href": "t030-data.html#ler-e-gravar",
    "title": "9  Dados no R",
    "section": "9.6 Ler e gravar",
    "text": "9.6 Ler e gravar\nQundo se prepara um script para automatizar uma qualquer tarefa de análise, tipicamente, aquele contém 3 etapas:\n\nLer um conjunto de dados.\nExecutar transformações aos dados e análises.\nGuardar um ou vários conjuntos de dados, depois de eventuais transformações ou filtragens.\n\nPara ler e gravar dados o R suporta vários formatos, nativamente ou através de pacotes adicionais. Abordar-se-ão aqui os mais usuais.\nUm dos formatos mais simples e com grande compatibilidade e portabilidade entre sistemas é o CSV (Comma-Separated Values). Muitos conjunto de dados são disponibilizados na internet neste formato.\nNum CSV os dados são gravados como texto, num formato retangular. O texto que se segue é um exemplo do que se poderia gravar num ficheiro CSV:\ncampo1,campo2,campo3\nA,x,1\nB,y,2\nC,z,3\nO formato CSV tem as seguintes características:\n\nAs colunas são separadas por vírgulas.\nTodas a linhas têm o mesmo número de colunas (formato retangular).\nA primeira linha (cabeçalho) pode conter o nome dos campos.\nOs dados podem ser texto ou números (o separador decimal é o ponto).\n\nProvavelmente estará a notar a correspondência entre o formato CSV a a data frame. De facto, o CSV é um dos métodos óbvios para ler e guardar dados de data frames.\n\n9.6.1 Formato CSV\nVamos começar por gravar a data frame turma que foi construída neste tutorial. Para o fazer utiliza-se a função write.csv(), como a seguir:\n\n&gt; write.csv2(turma, \"turma.csv\")\n\nNa sua pasta de trabalho deve ter agora um novo ficheiro chamado turma.csv que pode agora abrir (no RStudio selecione com o rato e escolha View File). Os conteúdos deverão ser semelhantes ao seguinte:\n\"\";\"idade\";\"notas\";\"nac\";\"sat\"\n\"Rui Costa\";19;13,3;\"Portugal\";\"satisfeito\"\n\"David Luiz\";20;13,7;\"Brasil\";NA\n\"João Pinto\";21;14,4;\"Portugal\";\"insatisfeito\"\n\"Di Maria\";23;NA;\"Argentina\";\"neutral\"\n\"Eusébio\";22;12,9;\"Portugal\";\"neutral\"\nTrata-se de um ficheiro de texto normal e pode ser editado manualmente no RStudio ou no Bloco de Notas, por exemplo.\n\n\n\n\n\n\nNota\n\n\n\nO nome das linhas (nome dos alunos) é o primeiro campo do ficheiro e não tem título no cabeçalho. Se os nomes não forem significativos, por omissão são apenas um número sequencial, podemos evitar a sua gravação no ficheiro acrescentando a opção row.names = FALSE à função write.csv().\n\n\nPara ler um CSV existe a função inversa, read.csv(). Por exemplo, para ler o ficheiro criado acima, podemos usar:\n\n&gt; turma_copia &lt;- read.csv(\"turma.csv\", row.names = 1)\n\nComo pode verificar, os objetos turma e turma-copia são iguais.\n\n\n\n\n\n\nNota\n\n\n\nNa função read.csv(), o parâmetro row.names = 1 informa o R que os nomes das linhas estão na coluna 1. Caso este parâmetro fosse omitido, o R iria criar uma variável, X, com os nomes.\n\n\n\n\n9.6.2 Excel\nEmbora o Excel suporte a leitura e gravação de ficheiros CSV, pode haver pequenas diferenças no formato utilizado. Dependendo da configuração do computador, é usual o Excel utilizar o ponto e vírgula em vez da vírgula, reservando a vírgula para separador decimal. Se for esse o caso e pretender trocar dados com o Excel utilizando o formato CSV, deve usar as funções write.csv2() e read.csv2().\nTambém o universo tidyverse disponibiliza o pacote readxl que pode ser utilizado para ler diretamente, sem necessidade de converter para CSV, folhas de cálculo do Excel. O pacote define as funções read.xls() e read.xlsx() que podem ler dados a partir dos formatos xls e xlsx, respetivamente. A utilização é muito simples, sendo uma questão de verificar os detalhes da utilização do readxl.\n\n\n9.6.3 Outros formatos de texto\nSendo o formato CSV bastante antigo, há várias implementações diferentes. Se necessitar de ler ou gravar um ficheiro que não se enquadre nos casos anteriores pode recorrer às funções write.table() e read.table() onde pode parametrizar a configuração do ficheiro, dispondo de flexibilidade total.\n\n\n9.6.4 Inconsistências\nNo mundo perfeito, depois de identificado o formato dos dados, a leitura seria simples e poder-se-ia passar à fase de análise. No mundo real, não raras vezes, os dados seguem mais ou menos um formato conhecido mas há inconsistências. Noutros casos, só Deus sabe que formato seguem, sendo totalmente inconsistentes.\nAlguns exemplos de inconsistências frequentes:\n\nRepresentação de valores em falta: por omissão o R interpreta campos em branco e \"NA\" como valores em falta. Há casos em que são usados outros símbolos, por exemplo, \"-\", \"--\" ou até 0. O caso do zero é particularmente pernicioso pois, dependendo do contexto, pode significar zero ou valor em falta. É necessário alterar o parâmetro na.strings = para um vetor de símbolos possíveis.\nRepresentação de datas: a representação de datas varia consideravelmente entre países e comunidades. Na leitura de datas, numa primeira fase, estas podem ser lidas como texto, sendo depois convertidas para um formato adequado. É um tópico fora do âmbito deste texto.\nUso dos espaços: a utilização de espaços a mais no início ou final do texto pode originar valores diferentes para algo que deveria ser igual. O parâmetro strip.white = pode ajudar a lidar com a situação.\nUso das maiúsculas: quando feito de forma inconsistente também provoca que o mesmo valor tenha duas representações diferentes, por exemplo, \"bragança\" e \"Bragança\".\nPresença de texto em campos numéricos: quando acontece provoca que a variável seja lida como texto. Por exemplo, se houver um caso em que o algarismo 0 tenha sido trocado com a letra O, impossibilita a leitura automática dos dados como números.\nCaracteres especiais: a ocorrência de caracteres especiais no texto tem algumas regras. Por exemplo, o R interpreta o # como marca de comentário e não processa o resto da linha, possivelmente originando erros. Neste caso o parâmetro skip = pode ajudar.\nDescrição dos dados: por vezes o ficheiro inclui uma descrição no topo. Se as linhas não forem precedidas de # vai originar erros.\n\nLer um ficheiro de dados de proveniência duvidosa pode ser uma tarefa morosa, pois pode haver inúmeras inconsistências. Além das identificadas acima, há depois inconsistências lógicas, por exemplo, um indivíduo com idade igual a -5, ou uma criança com 300 anos. Este tipo de inconsistências vai necessitar processamento adicional após a leitura dos dados.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#sec-data-categorical",
    "href": "t030-data.html#sec-data-categorical",
    "title": "9  Dados no R",
    "section": "9.7 Dados categóricos",
    "text": "9.7 Dados categóricos\nProvavelmente notou que as variáveis nacionalidade (vetor nacional) e satisfação (vetor satisfacao) representam informação categórica. No caso da primeira, trata-se de uma variável nominal e, no caso da segunda, de uma variável ordinal.\nNo entanto, não lhes foi dado nenhum tratamento especial, foram tratadas como mero texto. Nesta secção descreve-se como informar o R da natureza daquele tipo de variáveis.\nNo R, as variáveis categóricas são designadas por fatores, havendo dois tipos de fatores, os nominais (factor) e os ordinais (ordered factor).\n\n9.7.1 Dados nominais\nPara informar o R da natureza nominal de uma variável utiliza-se a função factor():\n\n&gt; nacional\n[1] \"Portugal\"  \"Brasil\"    \"Portugal\"  \"Argentina\" \"Portugal\" \n&gt; nac &lt;- factor(nacional)\n&gt; nac\n[1] Portugal  Brasil    Portugal  Argentina Portugal \nLevels: Argentina Brasil Portugal\n\nNote a diferença na representação da variável antes e depois da aplicação da função factor(): o vetor nacional deixou de ser texto e passou a ser um fator com 3 níveis (neste caso, os três países existentes).\nSe reparar, no RStudio, no painel Environment, a nacionalidade é agora representada por um número inteiro correspondendo aos países representados (1: Argentina, 2: Brasil, 3: Portugal).\nApesar daquela representação numérica, as operações aritméticas não fazem sentido. Se tentar fazer esse tipo de operações o R vai despoletar um aviso ou um erro. Por exemplo:\n\n&gt; mean(nac)\nWarning in mean.default(nac): argument is not numeric or logical: returning NA\n[1] NA\n&gt; nac * 2\nWarning in Ops.factor(nac, 2): '*' not meaningful for factors\n[1] NA NA NA NA NA\n\nPor omissão, os níveis são ordenados alfabeticamente, tal pode ser modificado fornecendo um vetor de níveis no parâmetro levels =. Note-se que a ordem apenas serve para a apresentação de resultados pois trata-se de uma variável nominal.\nPara obter um vetor de texto com os níveis pode usar-se a função levels():\n\n&gt; levels(nac)\n[1] \"Argentina\" \"Brasil\"    \"Portugal\" \n\nA função factor() também pode ser utilizada para recodificar o vetor, ou seja, alterar os rótulos dos vários níveis, através do parâmetro labels =. Por exemplo, alterar o nome dos países para o código de 3 letras:\n\n&gt; nac &lt;- factor(nac, labels = c(\"ARG\", \"BRA\", \"PRT\"))\n&gt; nac\n[1] PRT BRA PRT ARG PRT\nLevels: ARG BRA PRT\n\nNote que o código acima pressupõe o conhecimento dos níveis existentes e da sua ordem (Argentina, Brasil, Portugal). É necessário ser cuidadoso, pois é muito fácil criar situações de níveis trocados nos dados.\n\n\n\n\n\n\nNota\n\n\n\nA função factor(), é muito flexível e poderosa, sendo uma excelente ferramenta para corrigir inconsistências nos níveis de um fator através na manipulação dos parâmetros levels =, labels = e exclude =.\n\n\n\n\n\n\n\n\nDica\n\n\n\nCaso cometa algum erro e faça uma operação inadvertida, deve voltar a ler os dados originais e recomeçar o processo. Recomenda-se a utilização de um script para afinar o processo por tentativa e erro.\n\n\n\n\n9.7.2 Dados ordinais\nPara criar um fator ordinal tudo o que foi escrito para os fatores nominais é aplicável e, adicionalmente, é necessário informar o R que o factor é ordinal, acrescentando o parâmetro ordered = TRUE. Naturalmente, é necessário fornecer a ordem adequada no parâmetro levels = pois, caso contrário, seria assumida a ordem alfabética.\nAssim, para codificar corretamente o vetor satisfacao deveria fazer-se:\n\n&gt; sat &lt;- factor(satisfacao, levels = c(\"insatisfeito\", \"neutral\", \"satisfeito\"), ordered = TRUE)\n&gt; sat\n[1] satisfeito   &lt;NA&gt;         insatisfeito neutral      neutral     \nLevels: insatisfeito &lt; neutral &lt; satisfeito\n\nNote que a informação sobre os níveis da função reconhece a natureza ordinal do vetor, apresentando a ordenação com o sinal menor, &lt;.\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t030-data.html#footnotes",
    "href": "t030-data.html#footnotes",
    "title": "9  Dados no R",
    "section": "",
    "text": "Em vez da palavra reciclar, o mais adequado seria reutilizar ou recircular. Optou-se por utilizar reciclar para manter a proximidade com o vocábulo inglês recycle, utilizado na documentação.↩︎",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Dados no R</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html",
    "href": "t040-graphics.html",
    "title": "10  Gráficos",
    "section": "",
    "text": "10.1 A função plot()\nNeste tutorial apresentam-se conceitos introdutórios sobre a elaboração de gráficos no R. Estes conceitos serão depois aplicados em situações específicas ao longo de outros tutoriais.\nA função plot() é uma função genérica para representar graficamente o objeto que é passado à função. O tipo de gráfico criado depende da natureza do objeto fornecido à função, sendo o processo de seleção automático.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#sec-tut-graphics-plot",
    "href": "t040-graphics.html#sec-tut-graphics-plot",
    "title": "10  Gráficos",
    "section": "",
    "text": "10.1.1 Uma ou duas variáveis\nPor norma são passadas à função plot() um (x) ou dois (x e y) vetores com os dados a serem representados. O tipo de gráfico produzido depende da natureza, numérica ou categórica, das variáveis especificadas. O código que se segue ilustra as várias possibilidades estando os gráficos resultantes na Figura 10.1. A descrição das variáveis pode ser obtida executando ?mtcars na consola do R.\n1plot(mtcars$mpg)\n2plot(mtcars$mpg, mtcars$disp)\n3plot(mtcars$am)\n4plot(factor(mtcars$am))\n5plot(factor(mtcars$am), factor(mtcars$vs))\n6plot(factor(mtcars$am), mtcars$mpg)\n\n\n1\n\nFigura 10.1 (a): quando a variável passada à função é numérica, é produzido um diagrama de dispersão com o índice da observação no eixo horizontal.\n\n2\n\nFigura 10.1 (b): no caso de serem passadas duas variáveis numéricas é produzido um diagrama de dispersão de y em função de x. Esta é a utilização mais frequente da função plot().\n\n3\n\nFigura 10.1 (c): como não foi indicado ao R que a variável am é nominal e foram utilizados os valores 0 e 1 para codificar a informação, o resultado é um diagrama de dispersão semelhante ao primeiro caso.\n\n4\n\nFigura 10.1 (d): neste caso, indicou-se ao R que a variável am é de natureza nominal utilizando a função factor() apresentada na Secção 9.7. De forma sensata, o gráfico apresentado é um diagrama de barras mostrando a contagem de observações em cada categoria.\n\n5\n\nFigura 10.1 (e): No caso de ambas as variáveis serem categóricas é produzido um gráfico de barras sobrepostas normalizadas. A largura das barras é proporcional às contagens da variável x.\n\n6\n\nFigura 10.1 (f): quando se passa à função plot() uma variável categórica e uma numérica (nesta ordem) o gráfico produzido é um diagrama de extremos e quartis para cada nível da variável categórica.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Uma variável numérica\n\n\n\n\n\n\n\n\n\n\n\n(b) Duas variáveis numéricas\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Uma variável categórica codificada como numérica\n\n\n\n\n\n\n\n\n\n\n\n(d) Uma variável categórica codificada corretamente\n\n\n\n\n\n\n\n\n\n\n\n\n\n(e) Duas variáveis categóricas\n\n\n\n\n\n\n\n\n\n\n\n(f) Uma variável categórica e uma variável numérica\n\n\n\n\n\n\n\nFigura 10.1: Resultado de plot() conforme o tipo de variáveis\n\n\n\n\n\n\n\n\n\nNota\n\n\n\nPara já, vamos ignorar as questões estéticas. Sem parametrização adicional, os gráficos do R são bastante simples, apenas com os elementos essenciais. Voltar-se-à a este tópico noutras secções.\n\n\n\n\n10.1.2 Data frames\nPara especificar as variáveis a representar, não é obrigatório utilizar vetores. Em alternativa pode passar-se à função plot(), como argumento x, uma data frame com duas variáveis uma uma matriz com duas colunas. Por exemplo, considere-se o conjunto de dados cars e invoque-se a função plot(). O resultado é o da Figura 10.2.\n\nplot(cars)\n\n\n\n\n\n\n\nFigura 10.2: Resultado de plot(cars)\n\n\n\n\n\nNeste caso, como o objeto cars é uma data frame com duas variáveis, speed (velocidade) e dist (distância de paragem), a função devolve um diagrama de dispersão com a primeira variável no eixo horizontal e a segunda no eixo vertical.\nCaso houvesse mais de duas variáveis, como no conjunto de dados trees, seria apresentado um gráfico semelhante ao da Figura 10.3, em que é apresentado um diagrama de dispersão para cada combinação de duas de variáveis, escolhidas entre as variáveis presentes na data frame, podendo este gráfico ser também obtido com a função pairs().\n\nplot(trees)\n\n\n\n\n\n\n\nFigura 10.3: Resultado de plot(trees)\n\n\n\n\n\n\n\n10.1.3 Outros objetos\nPara uso em aplicações mais avançadas, a função plot() está definida para outro tipo de objetos, como séries cronológicas e números complexos, e tem inúmeras potencialidades. Nesta secção pretendeu-se apenas dar uma ideia da flexibilidade da função.\n\n\n10.1.4 Outras representações\nPor omissão, a função plot() representa diagramas de dispersão utilizando pontos. É possível obter outro tipo de representações através do argumento type =. Na Figura 10.4 ilustram-se os vários tipos de representações disponíveis.\nplot(mtcars$mpg)\nplot(mtcars$mpg, type = \"l\")\nplot(mtcars$mpg, type = \"b\")\nplot(mtcars$mpg, type = \"o\")\nplot(mtcars$mpg, type = \"h\")\nplot(mtcars$mpg, type = \"s\")\nplot(mtcars$mpg, type = \"S\")\nplot(mtcars$mpg, type = \"n\")\n\n\n\n\n\n\n\n\n\n\n\n(a) Pontos, type = \"p\" (por omissão)\n\n\n\n\n\n\n\n\n\n\n\n(b) Linhas, type = \"l\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Pontos e linhas, type = \"b\"\n\n\n\n\n\n\n\n\n\n\n\n(d) Pontos e linhas, type = \"o\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n(e) Densidade, type = \"h\"\n\n\n\n\n\n\n\n\n\n\n\n(f) Escada, type = \"s\" (ponto no topo)\n\n\n\n\n\n\n\n\n\n\n\n\n\n(g) Escada, type = \"S\" (ponto no fundo)\n\n\n\n\n\n\n\n\n\n\n\n(h) Nada, type = \"n\" (apenas estabelece os eixos)\n\n\n\n\n\n\n\nFigura 10.4: Diferentes tipos de representação disponíveis em plot()",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#sec-tut-graphics-high",
    "href": "t040-graphics.html#sec-tut-graphics-high",
    "title": "10  Gráficos",
    "section": "10.2 Outras funções (alto nível)",
    "text": "10.2 Outras funções (alto nível)\nA função plot() é designada por função gráfica de alto nível, pois produz um gráfico completo. Para além de plot(), existem outras funções de alto nível que produzem outros tipos de gráficos. Algumas destas funções são automaticamente invocadas pela função plot() quando as variáveis fornecidas à função são de determinado tipo. Enumeram-se abaixo as funções de utilização mais comum:\n\nplot(): normalmente utilizada para produzir diagramas de dispersão (Secção 5.3.1), mas trata-se de uma função genérica que produz outros tipos de visualizações e representações adequadas para vários tipos de objetos conforme discutido em acima.\nhist(): função específica para produzir histogramas (Secção 4.2.2).\nboxplot(): função específica para diagramas de extremos e quartis (Secção 4.3.2).\nbarplot(): função específica para elaborar gráficos de barras (Secção 3.2).\nmosaicplot(): função específica para o gráfico em mosaico (Secção 5.1.2).\nstripchart(): função para produzir diagramas de pontos (como por exemplo a Figura 4.7, úteis para visualizar pequenos conjuntos de dados.\npie(): função para elaborar gráficos circulares] (Secção 3.2).\n\nNas secções que se seguem será discutida a utilização de alguns parâmetros comuns a todas as funções enumeradas acima. Noutros tutoriais será abordada a utilização de cada função específica mencionada acima.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#a-função-par",
    "href": "t040-graphics.html#a-função-par",
    "title": "10  Gráficos",
    "section": "10.3 A função par()",
    "text": "10.3 A função par()\nA função par() serve para estabelecer de forma permanente ou consultar o valor de parâmetros a utilizar nos gráficos. Alguns parâmetros gráficos só podem ser modificados através de uma chamada a par() mas, na grande maioria, pode ser ajustados nas funções gráficas, tal como em plot().\nPor exemplo, bty é um parâmetro gráfico que controla a aparência da caixa que envolve os gráficos (bty = \"l\" especifica uma caixa em forma de “L”) e ann = FALSE suprime os rótulos dos eixos. Estes parâmetros podem ser especificados numa chamada a par() ou podem ser especificados na chamada a uma função gráfica de alto nível, tal como plot(). Atente no exemplo no código que se segue e que produz a Figura 10.5.\npar(bty = \"l\", ann = FALSE)\n  \nplot(cars$speed, cars$dist, ann = TRUE)\nplot(cars$speed, cars$dist)\n\n\n\n\n\n\n\n\n\n\n\n(a) O ajuste ann = TRUE afeta apenas este gráfico\n\n\n\n\n\n\n\n\n\n\n\n(b) A chamada a par() afeta todos os gráficos\n\n\n\n\n\n\n\nFigura 10.5: Ajuste de parâmetros com par()\n\n\n\nNote que o ajuste realizados em par() afetam ambos os gráficos da Figura 10.5. No entanto, na Figura 10.5 (a) um dos parâmetros, ann, foi redefinido, afetando apenas essa figura.\n\n\n\n\n\n\nImportante\n\n\n\nQuando o parâmetro é especificado na chamada a plot() (ou outra função gráfica de alto nível) apenas afeta o gráfico que está a ser gerado. Por outro lado, se o parâmetro for estabelecido numa chamada a par() o valor definido será utilizado em todos os gráficos subsequentes.\n\n\nA função par() permite consultar o valor dos parâmetros, devolvendo uma lista de valores. Uma utilização frequente desta possibilidade é poder fazer alterações nos parâmetros para um gráfico específico e depois recuperar os valores por omissão. No código que se segue exemplifica-se essa possibilidade.\n\n1p &lt;- par(bty = \"l\", ann = FALSE)\n2# ...\n3par(p)\n\n\n1\n\nChamada a par(), guardando os valores prévios dos parâmetros modificados no objeto p.\n\n2\n\nCódigo para elaborar os gráficos desejados.\n\n3\n\nNo final, restaura os valores dos parâmetros modificados.\n\n\n\n\nHá inúmeros parâmetros que podem ser modificados e que não serão referidos neste tutorial. Recomenda-se a leitura da documentação, por exemplo, executando ?par na consola do R.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#títulos-e-rótulos",
    "href": "t040-graphics.html#títulos-e-rótulos",
    "title": "10  Gráficos",
    "section": "10.4 Títulos e rótulos",
    "text": "10.4 Títulos e rótulos\nEm geral, em todas as funções que produzem gráficos, tal como a função plot(), é necessário ajustar os títulos e os rótulos dos eixos, pois os valores por omissão do R podem não ser adequados. A forma de o fazer é comum às diversas funções que produzem gráficos.\nPara alterar os títulos e os rótulos dos eixos utilizam-se os argumentos descritos na Tabela 10.1 na chamada da função gráfica.\n\n\n\nTabela 10.1: Configuração de títulos e rótulos\n\n\n\n\n\n\n\n\n\nArgumento\nElemento\n\n\n\n\nmain =\nTítulo principal (no topo do gráfico)\n\n\nsub =\nTítulo secundário (ao fundo do gráfico)\n\n\nxlab =\nRótulo do eixo horizontal\n\n\nylab =\nRótulo do eixo vertical\n\n\nann = false\nSuprime títulos e rótulos\n\n\n\n\n\n\nO código que se segue ilustra a utilização deste argumentos para configuração do gráfico apresentado na Figura 10.2, que se apresenta novamente na Figura 10.6.\n\nplot(\n  cars$speed, cars$dist,\n  main = \"Distância de paragem vs. velocidade\",\n  sub = \"(elaborado a partir do conjunto cars)\",\n  xlab = \"Velocidade\",\n  ylab = \"Distância de paragem\"\n)\n\n\n\n\n\n\n\nFigura 10.6: Configuração de títulos e rótulos",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#eixos-escalas-e-caixa",
    "href": "t040-graphics.html#eixos-escalas-e-caixa",
    "title": "10  Gráficos",
    "section": "10.5 Eixos, escalas e caixa",
    "text": "10.5 Eixos, escalas e caixa\nSalvo indicação em contrário, os gráficos abrangem o intervalo de valores das variáveis fornecidas adicionada de uma pequena margem e o número e posição das marcas da escala são determinadas automaticamente de forma a serem valores redondos. Os argumentos da Tabela 10.2 permitem modificar a forma como os eixos são desenhados.\n\n\n\nTabela 10.2: Configuração dos eixos e escalas\n\n\n\n\n\n\n\n\n\nArgumento\nElemento\n\n\n\n\naxes = false\nSuprime a apresentação dos eixos e da caixa envolvente\n\n\nbty = \"n\" ouframe.plot = FALSE\nSupressão da caixa envolvente. Também se pode especificar um tipo de caixa envolvente diferente através de bty: \"o\" (por omissão), \"l\", \"7\", \"c\", \"u\" ou \"]\", sendo que a caixa imitará a letra maiúscula correspondente\n\n\nxaxt = \"n\"\nSuprime a apresentação do eixo horizontal (vertical para yaxt)\n\n\nxlim = c(x1, x2)\nDefine os limites do eixo horizontal (vertical para ylim) sendo x1 e x2 os limites inferior e superior, respetivamente\n\n\nxaxp = c(x1, x2, n)\nDefine a posição das marcas no eixo horizontal (vertical para yaxp), sendo x1 e x2 as coordenadas da primeira e última marcas e n o número de intervalos desejado1\n\n\nlas =\nEspecifica como a escala deve ser apresentada podendo tomar os valores 0 (paralela aos eixos), 1 (na horizontal), 2 (perpendicular aos eixos) ou 3 (na vertical)\n\n\nxlog = true\nPara utilizar uma escala logarítmica no eixo horizontal (vertical para ylog). Alternativamente é possível especificar log = \"x\", log = \"y\" ou log = \"xy\" para indicar o(s) eixo(s) que devem ter escala logarítmica\n\n\nasp =\nConfigura o rácio entre as escalas horizontal e vertical. Por exemplo, para representar um círculo é necessário asp = 1 para evitar que este fique com um aspeto ovalizado\n\n\n\n\n\n\nO código que se segue produz os gráficos da Figura 10.7 onde se podem verificar os efeitos dos ajustes nos vários parâmetros.\n1plot(cars$speed, cars$dist, axes = FALSE)\n2plot(cars$speed, cars$dist, xaxt = \"n\", yaxt = \"n\")\n3plot(\n  cars$speed, cars$dist,                    \n  xlim = c(-5, 30),                                         \n  yaxp = c(20, 100, 5),\n  bty = \"u\"\n)\n4plot(cars$speed, cars$dist, log = \"y\", frame.plot = FALSE, las = 1)\n\n\n1\n\nFigura 10.7 (a): o argumento axes = FALSE suprime os eixos e a caixa envolvente.\n\n2\n\nFigura 10.7 (b): os eixos podem ser suprimidos individualmente com xaxt = \"n\" e yaxt = \"n\".\n\n3\n\nFigura 10.7 (c): especificaram-se os limites do eixo horizontal com xlim, as marcas do eixo vertical com yaxp e uma caixa envolvente aberta com bty = \"u\".\n\n4\n\nFigura 10.7 (d): o eixo vertical é logarítmica com log = \"y\", ambas as escalas são apresentadas na horizontal com las = 1 e foi omitida a caixa envolvente com frame.plot = FALSE.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Supressão dos eixos e caixa\n\n\n\n\n\n\n\n\n\n\n\n(b) Supressão dos eixos\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Ajuste das escalas e caixa\n\n\n\n\n\n\n\n\n\n\n\n(d) Escala vertical logarítmica\n\n\n\n\n\n\n\nFigura 10.7: Exemplos de ajustes nos eixos e escalas\n\n\n\n\n\n\n\n\n\nNota\n\n\n\nOs parâmetros utilizados nos gráficos apresentados neste tutorial podem não fazer grande sentido prático. De facto, apenas se está a explorar as potencialidades na parametrização dos gráficos do R.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#pontos",
    "href": "t040-graphics.html#pontos",
    "title": "10  Gráficos",
    "section": "10.6 Pontos",
    "text": "10.6 Pontos\nO símbolo que representa cada ponto é determinado pelos parâmetros gráficos pch (símbolo), cex (tamanho) e col (cor). Os valores destes parâmetros podem ser fornecidos como um valor único, afetando todos os pontos, ou como um vetor de valores, afetando cada ponto individualmente e sendo reciclado como necessário (para relembrar a regra da reciclagem do R, ver a Secção 9.1.8).\n\n10.6.1 Símbolo (pch)\nGeralmente, para especificar o símbolo a utilizar, utiliza-se um número inteiro entre 0 e 25, que corresponde a um dos símbolos definidos no R. Por omissão o símbolo utilizado é o 1 (círculo). Para consultar a lista de símbolos pode executar ?pch na consola. Na Figura 10.8 apresentam-se dois exemplos da utilização do parâmetro pch.\nplot(cars$speed, cars$dist, pch = 17)\nplot(cars$speed, cars$dist, pch = 1:4)\n\n\n\n\n\n\n\n\n\n\n\n(a) Apenas um símbolo para os pontos todos\n\n\n\n\n\n\n\n\n\n\n\n(b) Vetor com 4 símbolos (reciclado)\n\n\n\n\n\n\n\nFigura 10.8: Especificação do parâmetro pch\n\n\n\nNote que, na Figura 10.8 (b), o símbolo 1 é utilizado para as observações 1, 5, 9, …, o símbolo 2 para as observações 2, 6, 10, … e assim sucessivamente. Na prática, os símbolos devem ser associados a uma qualquer condição e o gráfico deve ter uma legenda (Secção 10.11).\n\n\n10.6.2 Tamanho (cex)\nPor omissão, o valor do parâmetro cex é 1. O tamanho do símbolo é proporcional ao valor utilizado. As regras para a utilização de vetores de tamanhos são as mesmas que para os símbolos. A Figura 10.9 mostra exemplos da utilização de cex.\nplot(cars$speed, cars$dist, cex = 5.5)\nplot(cars$speed, cars$dist, cex = 1:3)\n\n\n\n\n\n\n\n\n\n\n\n(a) Apenas um tamanho para os pontos todos\n\n\n\n\n\n\n\n\n\n\n\n(b) Vetor com 3 tamanhos (reciclado)\n\n\n\n\n\n\n\nFigura 10.9: Especificação do parâmetro cex\n\n\n\n\n\n10.6.3 Cores (col)\nO R dispõe de várias formas para especificar as cores a utilizar nos diversos elementos gráficos (ver Secção 10.10). Para especificar a cor dos símbolos utilizam-se os parâmetros col, para o contorno dos símbolos, e bg2 para o preenchimento, nos símbolos que o permitem.\nAs cores podem ser identificadas por números inteiros, por códigos ou por nomes. Tal como para os parâmetros acima, podem ser fornecidos vetores de cores. O código que se segue produz a Figura 10.10 e permite ver alguns exemplos da utilização de col.\nplot(cars$speed, cars$dist, col = \"blue\")\nplot(cars$speed, cars$dist, col = 1:3)\nplot(cars$speed, cars$dist, pch = 15, col = \"blue\", bg = \"lightblue\")\nplot(cars$speed, cars$dist, pch = 22, col = \"blue\", bg = \"lightblue\")\n\n\n\n\n\n\n\n\n\n\n\n(a) Apenas uma cor para os pontos todos\n\n\n\n\n\n\n\n\n\n\n\n(b) Vetor com 3 cores (reciclado)\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Símbolo que não permite especificar preenchimento\n\n\n\n\n\n\n\n\n\n\n\n(d) Símbolo que permite especificar preenchimento\n\n\n\n\n\n\n\nFigura 10.10: Especificação dos parâmetros col e bg\n\n\n\nNa Secção 10.10 serão abordadas com mais detalhe as diversas formas de utilização da cor nos diferentes elementos gráficos",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#linhas",
    "href": "t040-graphics.html#linhas",
    "title": "10  Gráficos",
    "section": "10.7 Linhas",
    "text": "10.7 Linhas\nA aparência das linhas é controlada pelos parâmetros lty (tipo), lwd (espessura) e col (cor). Relativamente à cor das linhas, esta é especificada da mesma forma que para os pontos. Discutem-se a seguir os outros dois parâmetros.\n\n10.7.1 Tipo (lty)\nO R dispõe de um conjunto de linhas pré-definidas e permite definir outras. As linhas pré-definidas podem ser especificadas com um número entre 0 e 6, correspondendo, respetivamente aos tipos \"blank\", \"solid\", \"dashed\", \"dotted\", \"dotdash\", \"longdash\" e \"twodash\". Na Figura 10.11 e código precedente estão exemplos da utilização de lty.\n\n\n10.7.2 Espesura (lwd)\nO parâmetro lwd controla a espessura da linha e deve ser numérico. Por omissão o valor de lwd é 1. Na figura Figura 10.11 (b) encontra-se um exemplo da especificação de lwd. Note que, no caso dos segmentos, o comprimento destes também é proporcional ao valor de lwd.\nplot(mtcars$mpg, type = \"l\", lty = \"dashed\")\nplot(mtcars$mpg, type = \"l\", lty = 2, lwd = 3)\n\n\n\n\n\n\n\n\n\n\n\n(a) Especificação de uma linha tracejada\n\n\n\n\n\n\n\n\n\n\n\n(b) Especificação de uma linha tracejada mais espessa\n\n\n\n\n\n\n\nFigura 10.11: Especificação do parâmetro lty",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#sec-tut-graphics-margins",
    "href": "t040-graphics.html#sec-tut-graphics-margins",
    "title": "10  Gráficos",
    "section": "10.8 Margens",
    "text": "10.8 Margens\nAs margens das figuras, definidas como o espaço que vai desde o limite da figura até à caixa que envolve o gráfico, podem ser ajustadas através dos parâmetros mai e mar, recorrendo à função par(). As margens podem ser especificadas em polegadas (mai) ou, mais frequentemente, em linhas de texto com mar.\nEm ambos os casos é necessário fornecer um vetor com 4 valores, especificando as margens inferior, esquerda, superior e direita, respetivamente. Por omissão, o R estabelece mar = c(5, 4, 4, 2) + 0.1. Note que a margem direita é mais pequena, pois, por norma, está vazia. As outras devem ser suficientes para os títulos, subtítulos, escalas e rótulos dos eixos.\nAs situações mais comuns em que é necessário alterar as margens são a colocação de um segundo eixo vertical ou de uma legenda do lado direito. Caso o gráfico não inclua algum dos elementos referidos acima, as margens podem ser ajustadas.\nA Figura 10.12 contém exatamente o mesmo gráfico da Figura 10.2. No entanto, especificaram-se margens muito pequenas (1.5 linhas) e vários elementos gráficos foram cortados ou seriam colocados fora da área útil. Para que as área das margens seja evidente utilizou-se um fundo cinzento (bg = \"gray95\").\n\np &lt;- par(bg = \"gray95\", mar = rep(1.5, 4))\nplot(cars)\npar(p)\n\n\n\n\n\n\n\nFigura 10.12: Especificação das margens",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#sec-tut-graphics-low",
    "href": "t040-graphics.html#sec-tut-graphics-low",
    "title": "10  Gráficos",
    "section": "10.9 Funções gráficas de baixo nível",
    "text": "10.9 Funções gráficas de baixo nível\nNo sistema de gráficos do R existem dois tipos de funções para colocar elementos gráficos numa figura:\n\nFunções gráficas de alto nível: são capazes de produzir um gráfico completo, tal como plot() ou as funções descritas na Secção 10.2.\nFunções gráficas de baixo nível: este conjunto de funções acrescenta elementos a um gráfico já existente, por exemplo, pontos adicionais, linhas, anotações, etc.\n\nAlgumas das funções de baixo nível mais utilizadas são:\n\npoints(x, y, ...): para adicionar pontos adicionais ao gráfico, sendo possível especificar símbolos, cores, etc.\nlines(x, y, ...): para adicionar linhas a ligar as coordenadas especificadas, sendo possível especificar tipos, espessuras, cores, etc.\ntext(x, y, labels, ...): para adicionar anotações ao gráfico, especificando a posição, o texto em si, tamanho, cores, etc.\nmtext(text): para colocar texto nas margens.\nabline(): trata-se de uma função para acrescentar linhas retas ao gráfico. A linha pode ser especificada de várias formas: a = e b = para a ordenada na origem e o declive, v = ou h = para linhas verticais e horizontais ou um objeto resultante de um modelo de regressão, reg = a partir dos quais se possam extrair os coeficientes da reta. Naturalmente, é possível especificar cores, espessuras, etc.\npolygon(x, y): para adicionar um polígono fechado delimitado pelas coordenadas especificadas, sendo possível especificar cores, preenchimentos, etc.\ntitle(): para adicionar um título ou subtítulo ao gráfico, especificando cores, tamanhos, etc.\naxis(side, ...): para adicionar um eixo completo num dos lados do gráfico à escolha. Normalmente é utilizado quando se especifica axis = FALSE na função plot(), para poder configurar o eixo.\nbox(): para colocar uma caixa em torno do gráfico ou da figura, podendo especificar o tipo de linha, cores, etc.\nlegend(): para adicionar uma legenda ao gráfico. Esta função será descrita com detalhe na Secção 10.11.\n\nO código que se segue produz a animação da Figura 10.13. Naturalmente, a figura final é confusa e não tem qualquer significado, apenas serve para ilustrar as potencialidades do R.\n\n# posição das marcas em metros\nat_m &lt;- pretty(cars$dist * 0.3048)\n\n# alargar margem direita\np &lt;- par(mar = rep(5, 4, 4, 4))\n\n1plot(cars, bty = \"n\", xlab = \"Velocidade (mph)\", ylab = \"Distância (ft)\")\n2box(lty = \"dotted\", col = \"gray\")\n3axis(4, at = at_m / 0.3048, labels = at_m)\n4mtext(\"Distância (m)\", side = 4, line = 3)\n5points(1:26, 1:26, col = \"red\", pch = 5)\n6text(1:26, 1:26, letters, cex = 0.75, pos = 1)\n7lines(cars[10:30, ], lty = \"dotted\", col = \"blue\")\n8abline(a = 30, b = 2, col = \"orange1\")\n9abline(h = 100, col = \"orange2\")\n10abline(v = 10:12, col = \"orange3\")\n11abline(lm(dist ~ speed, data = cars), col = \"purple\", lty = \"dotted\")\n12polygon(c(5, 10, 12, 7), c(80, 90, 100, 110), border = \"darkred\", col = \"pink\")\n13text(8, 95, \"um polígono\", cex = 0.75)\n14title(main = \"Funções de baixo nível\", col.main = \"darkgreen\")\n\n\n1\n\nUm gráfico simples, suprimindo a caixa envolvente. Esta é a única chamada a uma função de alto nível, plot().\n\n2\n\nColocação de uma caixa envolvente com box().\n\n3\n\nColocação de um segundo eixo vertical com as distâncias em metros usando axis(). A posição das marcas de escala foram previamente calculadas com a função pretty().\n\n4\n\nAdição de um rótulo ao segundo eixo vertical com a função mtext()\n\n5\n\nAdição de um conjunto de pontos, alguns fora da zona visível do gráfico, com a função points().\n\n6\n\nUtilização da função text() para colocar texto junto aos pontos adicionados. A constante letters contém as 26 letras minúsculas.\n\n7\n\nAdição de linhas a ligar alguns pontos com a função lines().\n\n8\n\nColocação de uma linha reta especificando a ordenada na origem e o declive, com abline().\n\n9\n\nColocação de uma reta horizontal.\n\n10\n\nColocação de várias retas verticais.\n\n11\n\nColocação de uma linha de tendência calculada com lm().\n\n12\n\nAdição de um polígono arbitrário com polygon().\n\n13\n\nColocação de texto sobre o polígono com text().\n\n14\n\nAdição de um título com title().\n\n\n\n\n\n\n\n\n\n\nFigura 10.13: Funções de baixo nível\n\n\n\n\n\n\n\n\n\n\n\nNota\n\n\n\nOs diversos elementos são adicionados ao gráfico na ordem em que aparecem no código e são sobrepostos, ocultando objetos anteriores na mesma posição. Deve certificar-se que especifica a ordem correta para o efeito desejado. Outra possibilidade é a utilização de cores com algum grau de transparência.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#sec-tut-graphics-col",
    "href": "t040-graphics.html#sec-tut-graphics-col",
    "title": "10  Gráficos",
    "section": "10.10 Cores",
    "text": "10.10 Cores\nPor norma, as funções gráficas aceitam o argumento col que especifica a cor do elemento a colocar no gráfico: pontos, linhas, texto, contornos ou preenchimentos. Ao longo das secções anteriores, especificaram-se desta forma cores, para diversos elementos gráficos.\nPara além de col existem mais 3 parâmetros gráficos que podem ser especificados na generalidade das funções ou numa chamada a par():\n\ncol.axis: cor a utilizar na escala dos eixos.\ncol.lab: cor a utilizar nos rótulos dos eixos.\ncol.main: cor a utilizar no título do gráfico.\ncol.sub: cor a utilizar no subtítulo do gráfico.\n\n\n10.10.1 Especificação de cores\nNo R, as cores são especificadas utilizando o modelo RGB (Red, Green, Blue) em que cada cor é descrita pelo nível de cada um das cores componentes primárias. Esse nível varia entre 0 e 1, que é depois ajustado a um valor entre 0 e 255 descrito por dois símbolos hexadecimais. Desta forma é possível especificar 2553 \\(\\approx\\) 16.6 milhões de cores diferentes.\n\n\n\n\n\n\nNota\n\n\n\nUm símbolo hexadecimal é um dos seguintes 16 carateres: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F. No caso das cores do modelo RGB, os níveis de cada componente podem tomar os valores 00, 01, 02, …, 0F, 10, 11, …, FD, FE, FF, representando os níveis de 0 a 255.\n\n\nPor exemplo, se os 3 níveis forem iguais a 0 obtém-se a cor preta (\"#000000\") e se forem iguais a 255, a branca (\"#FFFFFF\").\nAdicionalmente é possível especificar o nível de transparência acrescentando mais dois símbolos hexadecimais. Tal como as componentes primárias, o nível de transparência vai desde 00 (totalmente transparente) a FF (totalmente opaco). Por exemplo, a cor \"#FF0000AA\" especifica a cor vermelha (\"#FF0000\") com algum grau de transparência.\nPara obter uma cor arbitrária, por exemplo, 30% de vermelho, 40% de verde, 50% de azul e 60% opaco, poder-se-ia utilizar a função rgb().\n\nrgb(0.3, 0.4, 0.5, 0.6)\n\n[1] \"#4D668099\"\n\n\nNaturalmente, seria fastidioso relembrar e escrever códigos RGB sempre que se necessitasse de utilizar cores. Por esse motivo, foram definidos uma série de nomes, já utilizados nas secções anteriores, para que se possam especificar cores de forma expedita.\nPor exemplo, especificar col = \"#0000FF\" é o mesmo que especificar col = \"blue\". Um outro exemplo, col = \"chocolate\" é o mesmo que col = \"#D2691E\". Para obter a lista de nomes de cores que o R conhece pode utilizar-se a função colors(), que devolve uma lista de 657 cores.\nUma outra forma de especificar as cores a utilizar é através de um número inteiro. Nesse caso, o número identifica uma cor na paleta em uso. As cores da paleta em uso, pode ser obtidas com:\n\npalette()\n\n[1] \"black\"   \"#DF536B\" \"#61D04F\" \"#2297E6\" \"#28E2E5\" \"#CD0BBC\" \"#F5C710\"\n[8] \"gray62\" \n\n\nNeste caso, a paleta em utilização tem 8 cores que podem ser referidas pelos inteiros de 1 a 8. A mesma função pode ser utilizada para especificar uma nova paleta. Para melhor compreender a utilização e manipulação de paletas, deve fazer ?palette.\n\n\n\n\n\n\nNota\n\n\n\nO R tem configuradas várias paletas (pode obter a lista com palette.pals()) e, por omissão, utiliza a paleta \"R4\". Caso se produzam vários gráficos para utilizar num mesmo material (por exemplo, um relatório) é importante escolher uma paleta adequada de forma a obter consistência.\nPara lá das paletas pré-configuradas, há várias funções e packages para construir paletas com determinadas propriedades gráficas. Há inúmeros recursos disponíveis sobre o tópico da cor caso queira aprofundar conhecimentos ou configurar paletas, por exemplo, em Color Palette Finder.\n\n\nResumindo, para selecionar uma cor, há 3 formas diferentes:\n\nPelo nome, por exemplo, col = \"gray62\".\nPelo número na paleta em uso, por exemplo, col = 8.\nPelo código hexadecimal, por exemplo, col = \"#9E9E9E\".\n\nNo caso da paleta apresentada acima, os exemplos da lista especificam exatamente a mesma cor.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#sec-tut-graphics-legend",
    "href": "t040-graphics.html#sec-tut-graphics-legend",
    "title": "10  Gráficos",
    "section": "10.11 Legendas",
    "text": "10.11 Legendas\nQuando um gráfico contém informação múltipla e a interpretação não é óbvia, deve colocar-se uma legenda. Embora algumas funções de alto nível permitam especificar as características da legenda, tipicamente, esta é colocada com a função legend() depois de o gráfico estar desenhado.\nPara especificar uma legenda é necessário passar à função legend() os argumentos relevantes. Na Tabela 10.3 está uma lista não exaustiva dos principais argumentos da função. Para uma listagem completa pode fazer ?legend.\n\n\n\nTabela 10.3: Configuração de legendas\n\n\n\n\n\n\n\n\n\nArgumento\nElemento\n\n\n\n\nx =, y =\nCoordenadas do ponto superior esquerdo da caixa que contém a legenda. Pode ser especificada uma posição relativa com x = a: \"bottomright\", \"bottom\", \"bottomleft\", \"left\", \"topleft\", \"top\", \"topright\", \"right\" e \"center\"\n\n\nlegend =\nVetor com as várias entradas de texto a colocar na legenda\n\n\nfill =, border =\nVetor de cores a utilizar no preenchimento e no bordo da caixa de cada entrada\n\n\ncol =\nVetor de cores a utilizar nos símbolos de cada entrada\n\n\npch =, pt.cex =, lty =, lwd =\nVetores que especificam os símbolos e as linhas para cada entrada\n\n\nbty = \"n\"\nPara suprimir a caixa envolvente da legenda\n\n\nncol =\nEspecifica o número de colunas da legenda\n\n\nhoriz = TRUE\nPara especificar uma legenda na horizontal\n\n\ntitle =\nPara especificar um título para a legenda\n\n\ninset =\nPara especificar a distância da legenda às margens, quando esta é colocada de forma relativa\n\n\nxpd = TRUE\nPara permitir que a legenda ocupe as margens da figura\n\n\n\n\n\n\nNa Figura 10.14 está o resultado do código abaixo, onde são ilustradas várias técnicas para a colocação de uma legenda.\ncyl &lt;- ordered(mtcars$cyl)\n\nplot(\n  mtcars$disp, mtcars$mpg,\n  xlab = \"Cilindrada (polegadas cúbicas)\", ylab = \"Consumo (milhas por galão)\",\n  col = as.numeric(cyl), pch = as.numeric(cyl)\n)\n\nlegend(\n  \"topright\",\n  legend = levels(cyl),\n  title = \"Cilindros\",\n  inset = 0.02,\n  col = 1:3,\n  pch = 1:3\n)\n\n# ----------\n\ncl &lt;- c(\"steelblue\", \"darkgreen\", \"darkred\")\nsz &lt;- c(1, 1.25, 1.5)\n\nplot(\n  mtcars$disp, mtcars$mpg,\n  xlab = \"Cilindrada (polegadas cúbicas)\", ylab = \"Consumo (milhas por galão)\",\n  col = cl[cyl], cex = sz[cyl], pch = 19\n)\n\nlegend(\n  \"top\",\n  legend = levels(cyl),\n  title = \"Cilindros\",\n  inset = 0.02,\n  horiz = TRUE,\n  col = cl,\n  pch = 19,\n  pt.cex = sz\n)\n\n# ----------\n\nx &lt;- 0:20\n\nplot(x, x ^ 2, type = \"o\", pch = 15, col = \"purple\", ann = FALSE)\npoints(x, x * 15, type = \"o\", pch = 16, col = \"blue\", lty = \"dotted\")\n\nlegend(\n  0, 390,\n  c(\"Linear\", \"Quadrática\"),\n  bty = \"n\",\n  pch = 16:15,\n  col = c(\"blue\", \"purple\"),\n  lty = c(\"dotted\", \"solid\")\n)\n\n# ----------\n\npar(mar = c(5, 4, 4, 5))\n\nplot(cyl, xlab = \"Cilindros\", col = 3:5)\n\nlegend(\n  \"right\",\n  legend = levels(cyl),\n  title = \"Cilindros\",\n  inset = -0.15,\n  fill = 3:5,\n  xpd = TRUE\n)\n\n\n\n\n\n\n\n\n\n\n\n(a)\n\n\n\n\n\n\n\n\n\n\n\n(b)\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c)\n\n\n\n\n\n\n\n\n\n\n\n(d)\n\n\n\n\n\n\n\nFigura 10.14: Configuração de legendas\n\n\n\nNa Figura 10.14 (a) colocou-se uma legenda em função do nível de uma variável categórica. Por simplicidade, utilizaram-se a cores 1 a 3 da paleta e os símbolos 1 a 3. Desta forma, os vetores de símbolos e de cores foram definidos com facilidade. Note-se que a variável mtcars$cyl é numérica, mas foi definida uma variável categórica, cyl. Quando se utiliza a função as.numeric() numa variável categórica obtém-se o nível como um inteiro entre 1 e o número de níveis. O código a seguir mostra as diferenças:\n\nmtcars$cyl\n\n [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4\n\ncyl\n\n [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4\nLevels: 4 &lt; 6 &lt; 8\n\nas.numeric(cyl)\n\n [1] 2 2 1 2 3 2 3 1 1 2 2 3 3 3 3 3 3 1 1 1 1 3 3 3 3 1 1 1 3 2 3 1\n\n\nA Figura 10.14 (b) é semelhante, optou-se por variar o tamanho e a cor em função da mesma variável categórica mas definiram-se dois vetores com cores e com tamanhos a utilizar. Note-se que, sendo cyl uma variável categórica, utilizar [cyl] é equivalente a utilizar [as.numeric(cyl)]. Utilizou-se também horiz = TRUE para colocar a legenda na horizontal, resultado que poderia ser obtido com ncol = 3.\nNa Figura 10.14 (c) ilustra-se como se pode representar pontos e linhas numa legenda. Neste caso, os vetores foram definidos ad hoc, uma vez que há apenas duas categorias.\nPor último, na Figura 10.14 (d) a legenda (totalmente inútil) é colocada na margem. Note-se que foi necessário alargar a margem, recorrendo a par() e permitir que a legenda seja colocada na margem com xpd = TRUE. Neste caso utilizaram-se as cores 3 a 5 da paleta. O tamanho da margem e o ajuste da posição foram determinados por tentativa e erro, mas poderiam ter sido determinados programaticamente utilizando os resultados de legend(..., plot = FALSE).",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#ficheiros-de-imagens",
    "href": "t040-graphics.html#ficheiros-de-imagens",
    "title": "10  Gráficos",
    "section": "10.12 Ficheiros de imagens",
    "text": "10.12 Ficheiros de imagens\nEmbora o RStudio permita exportar os gráficos criados a partir da aba dos gráficos, ou copiar um gráfico para a área de transferência, não raras vezes, é útil criar esses ficheiros diretamente de forma programática. A forma de o fazer é utilizar os dispositivos (devices) gráficos do R.\nEstão definidos vários dispositivos que permitem criar ficheiros de imagens, como por exemplo, pdf(), png(), jpeg(), bmp(), tiff(), postscript() ou svg().\nO código que se segue permitiria criar um ficheiro de imagem do tipo PNG com o nome imagem.png e com um tamanho de 480 por 300 pixeis.\n\npng(\"imagem.png\", width = 480, height = 340)\n# ...\n# comandos gráficos \n# ...\ndev.off()\n\nNaturalmente, cada dispositivo permite especificar um conjunto de parâmetros relevantes para esse formato.\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t040-graphics.html#footnotes",
    "href": "t040-graphics.html#footnotes",
    "title": "10  Gráficos",
    "section": "",
    "text": "Para eixos logarítmicos, o significado é diferente, deve consultar a documentação.↩︎\nExiste um parâmetro gráfico com o mesmo nome que pode ser modificado com a função par() mas que tem um significado diferente (cor de fundo do gráfico).↩︎",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Gráficos</span>"
    ]
  },
  {
    "objectID": "t050-barplot.html",
    "href": "t050-barplot.html",
    "title": "11  Gráfico de Barras",
    "section": "",
    "text": "11.1 Introdução\nNeste tutorial aborda-se a construção de gráficos de barras para uma ou duas variáveis categóricas utilizando os gráficos base do R. Como os gráficos de barras são construídos a partir de tabelas de contingência, a secção inclui a elaboração destas tabelas.\nOs dados utilizados estão disponíveis e descritos em OpenIntro. Trata-se de um conjunto de dados sobre imigração obtidos num inquérito realizado no estado da Florida, nos EUA, em 2012.\nVamos começar por ler os dados e fazer uma pequena exploração inicial.\nim &lt;- read.csv(\"https://www.openintro.org/data/csv/immigration.csv\")\nsummary(im)\n\n   response          political        \n Length:910         Length:910        \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n\nhead(im)\n\n               response    political\n1 Apply for citizenship conservative\n2 Apply for citizenship conservative\n3 Apply for citizenship conservative\n4 Apply for citizenship conservative\n5 Apply for citizenship conservative\n6 Apply for citizenship conservative\nComo se pode verificar, ambas as variáveis foram lidas como texto, sendo uma boa oportunidade para aplicar as técnicas apresentadas em Secção 9.7 para informar o R da natureza categórica das variáveis.\nim$response &lt;- factor(im$response)\nim$political &lt;- factor(im$political)\nNote-se que o mesmo resultado poderia ser obtido especificando stringsAsFactors = TRUE ao ler o ficheiro, tal como no código que se segue.\nim &lt;- read.csv(\n  \"https://www.openintro.org/data/csv/immigration.csv\",\n  stringsAsFactors = TRUE\n)\nPodemos agora verificar se os dados estão corretamente codificados:\nsummary(im)\n\n                  response          political  \n Apply for citizenship:278   conservative:372  \n Guest worker         :262   liberal     :175  \n Leave the country    :350   moderate    :363  \n Not sure             : 20\nA variável response regista a resposta à questão do inquérito sobre que tratamento dar aos trabalhadores ilegais nos EUA. A variável political indica qual a ideologia política do respondente. Trata-se portanto de duas variáveis nominais (eventualmente poder-se-ia ordenar a ideologia do mais à esquerda para o mais à direita, se tal fosse relevante).",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Gráfico de Barras</span>"
    ]
  },
  {
    "objectID": "t050-barplot.html#sec-tut-barplot-table",
    "href": "t050-barplot.html#sec-tut-barplot-table",
    "title": "11  Gráfico de Barras",
    "section": "11.2 Tabela de contingência",
    "text": "11.2 Tabela de contingência\nTal como é referido no Capítulo 3, o gráfico de barras é o gráfico mais adequado para descrever dados categóricos. Tal como descrito no Capítulo 10, a função plot() produz gráficos de barras quando lhe é passada uma variável categórica. No entanto, para maior flexibilidade, existe a função barplot() que aceita uma tabela de contingência com a informação sobre as barras a representar. Caso essa informação não exista, no caso mais simples, a pode ser obtida através de contagem das observações em cada categoria, ou seja, elaborando uma tabela de contingência com a função table(). Para a variável response:\n\nt_res &lt;- table(im$response)\nt_res\n\n\nApply for citizenship          Guest worker     Leave the country \n                  278                   262                   350 \n             Not sure \n                   20 \n\n\nNote-se que o objeto t_res é um vetor numérico com nomes atribuídos a cada elemento. Estes nomes serão utilizados para anotar o gráfico.\nA função prop.table() pode ser utilizada para calcular proporções a partir das contagens:\n\npt_res &lt;- prop.table(t_res)\npt_res\n\n\nApply for citizenship          Guest worker     Leave the country \n           0.30549451            0.28791209            0.38461538 \n             Not sure \n           0.02197802",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Gráfico de Barras</span>"
    ]
  },
  {
    "objectID": "t050-barplot.html#sec-tut-barplot-simple",
    "href": "t050-barplot.html#sec-tut-barplot-simple",
    "title": "11  Gráfico de Barras",
    "section": "11.3 Barras simples",
    "text": "11.3 Barras simples\nDispondo agora da informação sobre as barras, podemos invocar a função barplot() que produz a Figura 11.1.\n\nbarplot(t_res)\n\n\n\n\n\n\n\nFigura 11.1: Gráfico de barras\n\n\n\n\n\nO primeiro e principal argumento da função barplot() é height, que deve ser um vetor numérico, como na Figura 11.1, ou uma matriz, no caso de barras sobrepostas ou barras agrupadas (secções 11.4, 11.5 e 11.6). Este vetor deve conter a altura das barras a representar e pode conter valores negativos, o que origina barras abaixo do eixo base.\nNaturalmente, os elementos gráficos do gráfico de barras, como cores, linhas, anotações, etc., podem ser ajustados como necessário. Para além dos parâmetros gráficos comuns a todos os gráficos, a função barplot() pode ser configurada com os parâmetros da tabela Tabela 11.1.\n\n\n\nTabela 11.1: Configuração de gráficos de barras\n\n\n\n\n\n\n\n\n\nArgumento\nElemento\n\n\n\n\nwidth =\nVetor com a largura das barras. Por omissão, todas iguais a 1 unidade\n\n\nspace =\nEspecifica o espaço entre as barras. Por omissão, 0.2 unidades\n\n\nhoriz = TRUE\nPara desenhar um gráfico com barras horizontais\n\n\ncol =, border =\nPara especificar a cor das barras e dos contornos das mesmas\n\n\nplot = FALSE\nO gráfico não é desenhado e a função apenas devolve a posição das barras, o que é útil para acrescentar elementos gráficos posteriormente\n\n\noffset =\nDistância entre as barras e o eixo base (0 por omissão)\n\n\nadd = TRUE\nPara desenhar as barras num gráfico já existente\n\n\n\n\n\n\nO código que se segue produz a Figura 11.2 e ilustra algumas das configurações que se podem realizar com a função barplot().\n\npar(mar = c(5, 9, 4, 2)) # alargar a margem esquerda\n\nbarplot(\n  sort(pt_res) * 100,\n  main = \"Gráfico de Barras\", xlab = \"percentagem\",\n  col = \"deepskyblue\", border = \"blue\",\n  horiz = TRUE, las = 1\n)\n\n\n\n\n\n\n\nFigura 11.2: Gráfico de barras com alguns ajuste",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Gráfico de Barras</span>"
    ]
  },
  {
    "objectID": "t050-barplot.html#sec-tut-barplot-stacked",
    "href": "t050-barplot.html#sec-tut-barplot-stacked",
    "title": "11  Gráfico de Barras",
    "section": "11.4 Barras sobrepostas",
    "text": "11.4 Barras sobrepostas\nO gráfico de barras sobrepostas utiliza-se quando se pretende representar as contagens cruzadas de duas variáveis. O processo é em tudo semelhante ao do gráfico de barras simples, mas é necessária uma tabela de contingência de dupla entrada. A tabela de contingência pode ser obtida com a função table(), passando as duas variáveis a cruzar, tal como no código que se segue.\n\nt_res_pol &lt;- table(im$response, im$political)\nt_pol_res &lt;- t(t_res_pol) # transposição da tabela\nt_res_pol\n\n                       \n                        conservative liberal moderate\n  Apply for citizenship           57     101      120\n  Guest worker                   121      28      113\n  Leave the country              179      45      126\n  Not sure                        15       1        4\n\n\nCaso se passe uma tabela de contingência de dupla entrada à função barplot() esta irá devolver um dos gráficos da Figura 11.3, dependendo da ordem das variáveis (cada coluna da tabela de contingência corresponde a uma barra). Note que a função t() transpõe a tabela de contingência. Alternativamente, poderia ser trocada a ordem das variáveis na função table().\nbarplot(t_res_pol)\nbarplot(t_pol_res)\n\n\n\n\n\n\n\n\n\n\n\n(a) Categorias political no eixo\n\n\n\n\n\n\n\n\n\n\n\n(b) Categorias response no eixo\n\n\n\n\n\n\n\nFigura 11.3: Gráfico de barras sobrepostas\n\n\n\nPor norma, este gráfico necessita de uma legenda, o que pode ser especificado com legend.text = TRUE (ou um vetor de entradas para colocar na legenda). Por omissão, a legenda é colocada no topo direito, sobrepondo-se muitas vezes à última barra (ordenar os totais por ordem decrescente pode resolver o problema mas não faz sentido para categorias ordinais, por exemplo), pelo que deve ser configurada utilizando os parâmetros descritos na Secção 10.11.\nPara especificar a configuração da legenda há duas alternativas:\n\nFazer o gráfico sem legenda e acrescentar depois uma legenda com legend().\nEspecificar legend.text = TRUE e passar uma lista de configurações no argumento args.legend.\n\nO código que se segue ilustra ambas as técnicas, e os resultados podem ser visualizados na Figura 11.4.\ncl &lt;- palette.colors(4, palette = \"Set 3\") # criar vetor de 4 cores\n  \nbarplot(t_res_pol, col = cl, legend.text = TRUE)\n\nbarplot(\n  t_res_pol[, order(colSums(t_res_pol), decreasing = TRUE)],\n  col = cl, legend.text = TRUE\n)\n\npar(mar = c(5, 4, 4, 11))\nbarplot(\n  t_res_pol,\n  col = cl,\n  legend.text = TRUE,\n  args.legend = list(\n    x = \"right\",\n    title = \"Response\",\n    fill = cl,\n    inset = -0.5\n  )\n)\n\npar(mar = c(7.5, 7, 4, 2))\nbarplot(t_res_pol, col = cl, horiz = TRUE, las = 1)\nlegend(\n  \"bottom\",\n  row.names(t_res_pol),\n  title = \"Response\",\n  fill = cl,\n  ncol = 2,\n  inset = - 0.5,\n  xpd = TRUE\n)\n\n\n\n\n\n\n\n\n\n\n\n(a) Sem configurações adicionais\n\n\n\n\n\n\n\n\n\n\n\n(b) Ordenação das colunas\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Com configurações via args.legend\n\n\n\n\n\n\n\n\n\n\n\n(d) Com legenda especificada autonomamente\n\n\n\n\n\n\n\nFigura 11.4: Gráfico de barras sobrepostas com legenda\n\n\n\nNa Figura 11.4 (a) não se fizeram quaisquer configurações, resultando numa legenda sobreposta com uma das barras o que é inaceitável.\nNa Figura 11.4 (b) apenas se ordenaram as barras por ordem decrescente dos totais da colunas da tabela de contingência. Como a última barra é mais pequena, a legenda já não sobrepõe com a barra.\nNa Figura 11.4 (c) configurou-se a legenda utilizando o argumento args.legend. Tal como referido na Secção 10.11, é necessário aumentar a margem onde se coloca a legenda.\nPor fim, na Figura 11.4 (d), a legenda foi colocada com a função legend(). Neste caso, como as barras estão na horizontal, faz mais sentido colocar a legenda ao fundo ou no topo.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Gráfico de Barras</span>"
    ]
  },
  {
    "objectID": "t050-barplot.html#sec-tut-barplot-stacked-norm",
    "href": "t050-barplot.html#sec-tut-barplot-stacked-norm",
    "title": "11  Gráfico de Barras",
    "section": "11.5 Barras sobrepostas normalizadas",
    "text": "11.5 Barras sobrepostas normalizadas\nPara elaborar um gráfico de barras sobrepostas normalizadas, é necessário acrescentar um passo intermédio ao procedimento descrito na Secção 11.4: calcular as proporções normalizadas.\nAs proporções normalizadas não são mais do que a frequência de uma determinada célula dividida pela frequência da coluna e podem ser obtidas facilmente com a função prop.table, como se ilustra no código abaixo.\n\nnpt_res_pol &lt;- prop.table(t_res_pol, margin = 2)\nnpt_res_pol\n\n                       \n                        conservative     liberal    moderate\n  Apply for citizenship  0.153225806 0.577142857 0.330578512\n  Guest worker           0.325268817 0.160000000 0.311294766\n  Leave the country      0.481182796 0.257142857 0.347107438\n  Not sure               0.040322581 0.005714286 0.011019284\n\n\nAo especificar margin = 2, estamos a indicar que as proporções devem ser calculadas sobre o total das colunas.\n\n\n\n\n\n\nNota\n\n\n\nNa função prop.table(), o argumento margin tem o seguinte significado:\n\nmargin = 1: calcula proporções sobre os totais das linhas.\nmargin = 2: calcula proporções sobre os totais das colunas, sendo o que se pretende no caso dos gráficos de barras sobrepostas normalizadas.\nmargin = NULL, por omissão: calcula proporções sobre o total da tabela.\n\n\n\nEfetuado este passo adicional, estamos em condições de fazer o gráfico com a função barplot(). Na Figura 11.5 pode visualizar-se a versão normalizada da Figura 11.4 (c), produzida com o código que se segue.\n\npar(mar = c(5, 4, 4, 11))\nbarplot(\n  npt_res_pol,\n  col = cl,\n  legend.text = TRUE,\n  args.legend = list(\n    x = \"right\",\n    title = \"Response\",\n    fill = cl,\n    inset = -0.5\n  )\n)\n\n\n\n\n\n\n\nFigura 11.5: Gráfico de barras sobrepostas normalizadas",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Gráfico de Barras</span>"
    ]
  },
  {
    "objectID": "t050-barplot.html#sec-tut-barplot-beside",
    "href": "t050-barplot.html#sec-tut-barplot-beside",
    "title": "11  Gráfico de Barras",
    "section": "11.6 Barras agrupadas",
    "text": "11.6 Barras agrupadas\nEm vez de sobrepor as barras, estas podem ser agrupadas e colocadas lado a lado. Para obter um gráfico deste tipo, basta passar o argumento beside = TRUE à função barplot(), sendo tudo o resto idêntico.\nO código que se segue produz a versão agrupada da Figura 11.4 (c) e o resultado pode ser visualizado na Figura 11.6.\n\npar(mar = c(5, 4, 4, 11))\nbarplot(\n  t_res_pol,\n  col = cl,\n  beside = TRUE,\n  legend.text = TRUE,\n  args.legend = list(\n    x = \"right\",\n    title = \"Response\",\n    fill = cl,\n    inset = -0.5\n  )\n)\n\n\n\n\n\n\n\nFigura 11.6: Gráfico de barras agrupadas\n\n\n\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Gráfico de Barras</span>"
    ]
  },
  {
    "objectID": "t060-histogram.html",
    "href": "t060-histogram.html",
    "title": "12  Histogramas",
    "section": "",
    "text": "12.1 Introdução\nEste tutorial incide sobre a construção e parametrização de histogramas no R.\nAo longo do texto será utilizado um vetor com 80 observações, coin, gerado de forma aleatória. Admita-se que se trata de 80 réplicas da contagem do número de caras (ou coroas) em 100 lançamentos de uma moeda.\nset.seed(123)\ncoin &lt;- replicate(80, sum(sample(c(0, 1), 100, replace = TRUE)))\ncoin\n\n [1] 43 54 49 43 50 57 53 49 44 52 50 49 49 44 47 54 45 51 49 47 46 48 55 51 48\n[26] 50 46 47 45 48 43 39 57 56 48 56 59 54 49 44 45 55 57 60 62 47 46 50 58 53\n[51] 50 62 56 53 47 54 46 49 53 45 48 62 47 59 44 51 51 52 38 51 44 53 56 47 44\n[76] 53 45 49 55 54\nA função replicate() é bastante útil para simular a replicação de experiências aleatórias. Pode ler mais sobre a função com ?replicate.\nPara construir um histograma basta invocar a função gráfica de alto nível hist(), fornecendo o vetor de observações, tal como no código abaixo que produz a Figura 12.1.\nhist(coin)\n\n\n\n\n\n\n\nFigura 12.1: Exemplo de um histograma (sem configurações adicionais)\nComo se pode verificar, a determinação do número de classes e dos respetivos limites é automática, mas havendo a possibilidade de configurar este e outros aspetos, como indicado nas restantes secções deste tutorial.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Histogramas</span>"
    ]
  },
  {
    "objectID": "t060-histogram.html#visualização-dos-detalhes",
    "href": "t060-histogram.html#visualização-dos-detalhes",
    "title": "12  Histogramas",
    "section": "12.2 Visualização dos detalhes",
    "text": "12.2 Visualização dos detalhes\nA informação sobre as classes e as contagens pode ser acedida inspecionando o objeto devolvido pela função hist(), neste caso, h.\n\nh &lt;- hist(coin, plot = FALSE)\nh\n\n$breaks\n[1] 35 40 45 50 55 60 65\n\n$counts\n[1]  2 14 29 21 11  3\n\n$density\n[1] 0.0050 0.0350 0.0725 0.0525 0.0275 0.0075\n\n$mids\n[1] 37.5 42.5 47.5 52.5 57.5 62.5\n\n$xname\n[1] \"coin\"\n\n$equidist\n[1] TRUE\n\nattr(,\"class\")\n[1] \"histogram\"\n\n\nA informação mais relevante contida no objeto é:\n\nOs limites das classes, em $breaks, sendo as classes abertas à esquerda (exceto a primeira) e fechadas à direita.\nAs frequências absolutas ou contagens, \\(f_k\\), em $counts.\nAs densidades estimadas, \\(\\hat{f_k}(x)\\), em $density: \\(\\hat{f_k}(x) = \\frac{f_k}{n \\times a_k}\\).\nOs pontos intermédios as classes, em $mids.\n\nA função devolve sempre este objeto, que pode ser acedido mais tarde. Também seria possível mostrar o histograma posteriormente com plot(h).",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Histogramas</span>"
    ]
  },
  {
    "objectID": "t060-histogram.html#sec-tut-hist-classes",
    "href": "t060-histogram.html#sec-tut-hist-classes",
    "title": "12  Histogramas",
    "section": "12.3 Classes e contagens",
    "text": "12.3 Classes e contagens\nUm dos aspetos mais importantes do histograma é a definição das classes, ou seja, quer o número de classes, quer os respetivos limites. Por omissão, o R utiliza a regra de Sturges para determinar o número aproximado de classes (aproximado apenas, pois o R tenta ajustar os limites das classes a valores redondos). Também por omissão, as classes têm todas a mesma amplitude.\n\n\n\n\n\n\nRegra de Sturges\n\n\n\nO número de classes, \\(K\\), é dado arredondando por excesso o seguinte cálculo:\n\\[K = 1+\\log_2 n \\approx 1+3.322\\log_{10}n \\approx 1+1.443\\ln n\\]\nNo exemplo acima, para \\(n=80\\), \\(K=\\lceil 7.32\\rceil=8\\)\n\n\nComo se pode verificar, o histograma apenas tem 6 classes, em vez de 8, pois o R, por motivos estéticos e práticos, arredondou os limites das classes a múltiplos de 5 unidades.\nEmbora o algoritmo automático seja satisfatório na maior parte das situações, pode haver necessidade de ajustar os intervalos de cada classe. A forma de o fazer é fornecer o argumento breaks, que pode ter vários formatos.\nO código que se segue produz a Figura 12.2 e ilustra as várias formas de fornecer o argumento breaks.\n1hist(coin)\n\n2hist(coin, breaks = \"Scott\")\n\n3hist(coin, breaks = 9)\n\nmyRule1 &lt;- function(x) {\n  round(sqrt(length(x)))\n}\n4hist(coin, breaks = myRule1)\n\nmyRule2 &lt;- function(x) {\n  seq(min(coin), max(coin), by = (max(coin) - min(coin)) / 9)\n}\nbrk &lt;- myRule2(coin)\n5hist(coin, breaks = brk)\n\n6hist(coin, breaks = myRule2)\n\n\n1\n\nResulta na Figura 12.2 (a) e é o mesmo que especificar breaks = \"Sturges ou breaks =8.\n\n2\n\nTambém resulta na Figura 12.2 (a) e é o mesmo que especificar breaks =6\n\n3\n\nResulta na Figura 12.2 (b), tendo-se especificado o número de classes diretamente.\n\n4\n\nTambém resulta na Figura 12.2 (b), tendo-se especificado o número de classes através de uma função, myRule1. No caso concreto, esta função devolve 9 classes, pelo que é equivalente à anterior.\n\n5\n\nResulta na Figura 12.2 (c), tendo-se fornecido um vetor com os 9 intervalos desejados.\n\n6\n\nTambém resulta na Figura 12.2 (c), mas os intervalos são indicados fornecendo o nome de uma função, myRule2, que calcula os intervalos, sendo equivalente à anterior.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(a) Sem configurações (Sturges)\n\n\n\n\n\n\n\n\n\n\n\n(b) Uma regra\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) Número de classes\n\n\n\n\n\n\n\nFigura 12.2: Diferentes formas de ajustar o número de classes\n\n\n\n\n\n\n\n\n\nImportante\n\n\n\nNote-se que nos casos 1 a 4, o número de classes é apenas uma sugestão, podendo o R respeitar ou não, pois vai tentar ajustar os limites das classes a números redondos. Caso seja fornecido um vetor com os intervalos, quer diretamente, quer através de uma função, o histograma será produzido de acordo com as classes definidas nesse vetor.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Histogramas</span>"
    ]
  },
  {
    "objectID": "t060-histogram.html#sec-tut-hist-args",
    "href": "t060-histogram.html#sec-tut-hist-args",
    "title": "12  Histogramas",
    "section": "12.4 Outros ajustes",
    "text": "12.4 Outros ajustes\nPara lá dos ajustes que é possível fazer em qualquer gráfico (títulos, eixos, escalas, etc.), a Tabela 12.1 lista alguns argumentos que se podem passar à função hist() para ajustar outros aspetos do histograma.\n\n\n\nTabela 12.1: Configuração de histogramas\n\n\n\n\n\n\n\n\n\nArgumento\nElemento\n\n\n\n\nfreq = FALSE\nPara utilizar as densidades, em vez das frequências, no eixo vertical\n\n\nright = TRUE\nPara fechar os intervalos das classes à direita, em vez de fechar à esquerda\n\n\nplot = FALSE\nO gráfico não é desenhado e a função apenas devolve a informação sobre as classes, o que é útil caso se necessite essa informação\n\n\nlabels =\nCaso labels = TRUE, coloca o valor das contagens (ou densidades) no topo das barras. Caso se passe um vetor de texto, os elementos desse vetor serão colocados no topo das barras\n\n\ncol =, border =\nPara especificar a cor e o bordo das barras\n\n\n\n\n\n\nNa Figura 12.3 exemplifica-se a utilização de alguns dos argumentos apresentados e é construída pelo código que se segue.\n\nplot(\n  h,\n  main = \"Histograma ajustado\",\n  xlab = \"# caras em 100 lançamentos\", ylab = \"Densidade\",\n  ylim = c(0, 0.08),\n  freq = FALSE,\n  labels = TRUE,\n  col = \"lightblue\",\n  border = \"blue\"\n)\ncurve(dnorm(x, mean(coin), sd(coin)), col = \"red\", add = TRUE)\n\n\n\n\n\n\n\nFigura 12.3: Histograma com alguns ajustes\n\n\n\n\n\nNote-se que foi utilizada a função plot() à qual foi passado o objeto h. Este procedimento é equivalente a invocar hist(coin) e passar os restantes argumentos. De facto, tanto a função plot(), como a função hist(), nos bastidores, vão invocar o mesmo código para desenhar o histograma.\n\n\n\n\n\n\nNota\n\n\n\nA função curve() serve para desenhar curvas definidas por funções de \\(x\\), neste caso, a linha vermelha da Figura 12.3. Sem entrar em detalhes, a função dnorm() produz uma curva de densidade conhecida, a curva Normal. Como se trata de uma função gráfica de alto nível, o argumento add = TRUE especifica que a curva deve ser acrescentada ao gráfico existente, ao invés de ser criado um novo gráfico.\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Histogramas</span>"
    ]
  },
  {
    "objectID": "t070-boxplot.html",
    "href": "t070-boxplot.html",
    "title": "13  Diagramas de Extremos e Quartis",
    "section": "",
    "text": "13.1 Introdução\nO diagrama de extremos e quartis (DEQ) vulgarmente designado pelo termo inglês box plot serve para sumariar um conjunto de estatísticas sobre os dados em análise, sendo uma das visualizações mais utilizadas. O DEQ está descrito na Secção 4.3.2.\nPara desenvolver este tutorial será utilizado o conjunto de dados chickwts incluído no R. Neste conjunto há duas variáveis relativas à observação de um conjunto de frangos: a variável weight, contendo o peso, em gramas, dos frangos às 6 semanas, e a variável categórica feed, que se refere à alimentação dos frangos.\nsummary(chickwts)\n\n     weight             feed   \n Min.   :108.0   casein   :12  \n 1st Qu.:204.5   horsebean:10  \n Median :258.0   linseed  :12  \n Mean   :261.3   meatmeal :11  \n 3rd Qu.:323.5   soybean  :14  \n Max.   :423.0   sunflower:12\nComo se pode verificar, a variável feed já está corretamente codificada como categórica, pelo que se pode passar à análise.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Diagramas de Extremos e Quartis</span>"
    ]
  },
  {
    "objectID": "t070-boxplot.html#sec-tut-boxplot-simple",
    "href": "t070-boxplot.html#sec-tut-boxplot-simple",
    "title": "13  Diagramas de Extremos e Quartis",
    "section": "13.2 Elaboração do DEQ",
    "text": "13.2 Elaboração do DEQ\nPara desenhar um diagrama de extremos e quartis basta invocar a função gráfica de alto nível boxplot() especificando quais os dados a utilizar. A Figura 13.1 e o código abaixo exemplificam o processo para a variável weight.\n\nboxplot(chickwts$weight)\n\n\n\n\n\n\n\nFigura 13.1: Exemplo de um DEQ (sem configurações adicionais)\n\n\n\n\n\nA função boxplot() pode receber os dados em vários formatos: um vetor, vários vetores ou uma matriz, lista ou data frame contendo mais do que uma variável. Caso seja fornecida mais do que uma variável, serão desenhados vários diagramas no mesmo gráfico, como por exemplo na Figura 13.2, gerada pelo código seguinte.\nboxplot(cars)\nboxplot(cars$speed, cars$dist)\n\n\n\n\n\n\n\n\n\n\n\n(a) fornecendo uma data frame\n\n\n\n\n\n\n\n\n\n\n\n(b) fornecendo dois vetores\n\n\n\n\n\n\n\nFigura 13.2: Exemplo de DEQ com mais do que uma variável\n\n\n\nExiste ainda uma outra forma de especificar o DEQ que será explorada na Secção 13.4.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Diagramas de Extremos e Quartis</span>"
    ]
  },
  {
    "objectID": "t070-boxplot.html#sec-tut-boxplot-args",
    "href": "t070-boxplot.html#sec-tut-boxplot-args",
    "title": "13  Diagramas de Extremos e Quartis",
    "section": "13.3 Configuração do DEQ",
    "text": "13.3 Configuração do DEQ\nA função boxplot() pode receber os argumentos habituais para especificar títulos, eixos, escalas, cores, etc., e um conjunto de argumentos específicos, cujos mais importantes se enumeram na Tabela 13.1.\n\n\n\nTabela 13.1: Configuração do diagrama de extremos e quartis\n\n\n\n\n\n\n\n\n\nArgumento\nElemento\n\n\n\n\nrange =\nPara especificar o valor máximo dos extremos do diagrama. Por omissão, range = 1.5, ou seja, 1.5 vezes a amplitude interquartis. As observações para lá dos extremos são representadas como pontos\n\n\nwidth =, varwidth = TRUE\nPara especificar a largura relativa de cada caixa. Alternativamente, varwidth = TRUE torna a largura das caixas proporcional à raiz quadrada do número de observações\n\n\nnames =\nPara especificar um vetor de texto para utilizar como rótulos de cada diagrama\n\n\nhorizontal = TRUE\nPara especificar que os diagramas devem ser desenhados na horizontal\n\n\nadd = TRUE, at =\nUtilizando add = TRUE, o diagrama será colocado sobre um gráfico existente. O argumento at = especifica em que coordenadas o diagrama será colocado, podendo ser um vetor, caso haja mais do que um diagrama\n\n\ncol =, border =\nPara especificar a cor do preenchimento e das linhas do diagrama\n\n\n\n\n\n\n\n\n\n\n\n\nParâmetros gráficos específicos\n\n\n\nA função boxplot() permite configurar alguns parâmetros gráficos específicos do DEQ. Esses parâmetros são designados pelo nome do parâmetro tal como na função par() mais um prefixo específico. Os prefixos específicos são box, staple, med, whisk e out, para configurar a caixa, os extremos, a mediana, a extensão e os outliers, respetivamente. Há ainda os argumentos boxwex, staplewex e outwex para controlar a largura dos vários elementos do diagrama.\nPor exemplo, outpch = configura o símbolo a utilizar nos outliers e boxlty = configura o tipo de linha a utilizar na caixa.\nPara mais informação e exemplos pode consultar a documentação com ?bxp.\n\n\nO código abaixo produz a Figura 13.3, onde se pode verificar o efeito de alguns ajustes realizados. Neste caso, o gráfico e os ajustes fazem pouco sentido e servem apenas para efeito de demonstração.\n\nboxplot(\n  head(chickwts$weight, 11), # primeiros 11\n  tail(chickwts$weight, 11), # últimos 11\n  horizontal = TRUE,\n  main = \"Peso de 22 frangos\",\n  names = c(\"primeiros\", \"últimos\"),\n  xlab = \"Peso (g)\",\n  col = c(\"skyblue\", \"palegreen\"), border = \"violet\",\n  outpch = 8, outcol = \"red\", outcex = 2,\n  medcol = \"orange\",\n  staplelty = \"dotted\"\n)\n\n\n\n\n\n\n\nFigura 13.3: Exemplo de um DEQ com alguns ajustes",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Diagramas de Extremos e Quartis</span>"
    ]
  },
  {
    "objectID": "t070-boxplot.html#sec-tut-boxplot-formula",
    "href": "t070-boxplot.html#sec-tut-boxplot-formula",
    "title": "13  Diagramas de Extremos e Quartis",
    "section": "13.4 DEQ por categorias",
    "text": "13.4 DEQ por categorias\nUma utilização bastante frequente do diagrama de dispersão é na comparação de categorias de uma variável categórica, separando as observações de uma variável numérica em função da categoria. No conjunto de dados chickwts haverá algum interesse em analisar o peso dos frangos alimentados com as diferentes dietas.\nA função boxplot() permite especificar essa análise utilizando uma construção gramatical do R designado por fórmula.\n\n\n\n\n\n\nFórmulas no R\n\n\n\nSem entrar em grandes detalhes, geralmente, utiliza-se uma fórmula para especificar um modelo estatístico em que uma variável pode ser prevista a partir de um modelo linear de outras variáveis. Por exemplo, para especificar um modelo de regressão linear simples, utiliza-se a fórmula y ~ x, que se lê “a variável y depende linearmente da variável x”\nNo contexto do DEQ pode utilizar-se uma fórmula para especificar que as observações de uma variável quantitativa, podemos designar por y, devem ser separadas pelas categorias de outra variável, x, que deve ser categórica.\n\n\nUtilize-se um exemplo para ilustrar a aplicação de uma fórmula. No código que se segue utiliza-se uma fórmula para produzir a Figura 13.4.\n\nboxplot(weight ~ feed, data = chickwts)\n\n\n\n\n\n\n\nFigura 13.4: Exemplo de DEQ em que se utiliza uma fórmula\n\n\n\n\n\nQuando se utilizam fórmulas com variáveis de uma data frame, basta indicar o nome da data frame com data = e deixa de ser necessário utilizar o $ para qualificar as variáveis. Outro argumento que poderá ser útil é subset =, onde se pode indicar uma condição que as observações devem cumprir (um filtro).\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Diagramas de Extremos e Quartis</span>"
    ]
  },
  {
    "objectID": "t080-counting.html",
    "href": "t080-counting.html",
    "title": "14  Técnicas de Contagem",
    "section": "",
    "text": "14.1 Regra da Multiplicação\nEm Estatística, recorre-se com alguma frequência a técnicas de contagem, também designadas por cálculo combinatório. Por norma, para obter determinadas probabilidades, é necessário determinar quantos elementos tem um conjunto que resulta de determinadas operações. Enquanto algumas técnicas são bastante intuitivas, outras podem ser mais complexas. Apresentam-se de seguida algumas das situações mais frequentes.\nConsiderem-se \\(K\\) conjuntos não vazios, cada um com \\(n_k\\) elementos e com \\(k=1,2,\\ldots, K\\). Selecionando exatamente um elemento de cada um dos conjuntos, pretende-se determinar quantos conjuntos diferentes é possível formar.\nTrata-se de uma situação bastante simples, em que a a resposta é o produto do número de elementos dos vários conjuntos. Se \\(N\\) representar esse valor, então\n\\[N=n_1\\times n_2 \\times \\cdots \\times n_K \\tag{14.1}\\]\nNo caso de os vários conjuntos terem o mesmo número de elementos, ou seja, \\(n_1=n_2=\\cdots=n_K=n\\), a Equação 14.1 pode ser simplificada para\n\\[N=n^K \\tag{14.2}\\]",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Técnicas de Contagem</span>"
    ]
  },
  {
    "objectID": "t080-counting.html#sec-tut-count-mult",
    "href": "t080-counting.html#sec-tut-count-mult",
    "title": "14  Técnicas de Contagem",
    "section": "",
    "text": "Exemplo\n\n\n\nNuma unidade curricular há 4 turmas com 15, 16, 13 e 17 alunos, respetivamente. Pretende-se formar uma comissão de 4 alunos que, obrigatoriamente, tenha um aluno de cada turma. Quantas comissões diferentes é possível formar?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nNeste caso, basta para aplicar a Equação 14.1, multiplicando o número de alunos em cada turma.\n\\[N=15\\times16\\times13\\times17=53040\\]\n\n\n\n\n\n\n\n\n\n\n\nExemplo\n\n\n\nPretende-se criar um código de 3 letras, usando as 26 letras do alfabeto. As letras podem ser repetidas. Por exemplo, os códigos ABC, DEE ou FFF são válidos. Quantos códigos diferentes é possível gerar?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nNeste exemplo, temos condições para aplicar a Equação 14.2, pois cada letra é retirada de um conjunto de 26 letras. Então,\n\\[N=26^4=456976\\]",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Técnicas de Contagem</span>"
    ]
  },
  {
    "objectID": "t080-counting.html#permutações",
    "href": "t080-counting.html#permutações",
    "title": "14  Técnicas de Contagem",
    "section": "14.2 Permutações",
    "text": "14.2 Permutações\nQuando se considera um conjunto não vazio com \\(n\\) elementos, designa-se por permutação cada uma das ordens possíveis para os elementos do conjunto. Podemos designar o número de permutações possíveis de um conjunto por \\(P(n)\\). É fácil de demonstrar que1\n\\[P(n)=n! \\tag{14.3}\\]\nO primeiro elemento da sequência pode ser um qualquer dos \\(n\\) elementos do conjunto. Uma vez decidido o primeiro elemento, na segunda posição apenas pode ser colocado um dos restantes \\(n-1\\) elementos e assim sucessivamente. Aplicando a Equação 14.1, chega-se facilmente à Equação 14.3.\n\n\n\n\n\n\nExemplo\n\n\n\nNum palco vão sentar-se 5 pessoas numa fila de cadeiras. De quantas formas possíveis se podem ordenar as 5 pessoas nas 5 cadeiras.\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nAplicando a Equação 14.3, fazendo \\(n=5\\),\n\\[P(5)=5!=120\\]\n\n\n\nPara calcular o fatorial de um número no R, existe a função factorial(), por exemplo,\n\n&gt; factorial(5)\n[1] 120\n\n\nArranjos\nCaso se considere apenas um subconjunto de \\(k\\) elementos selecionados entre os \\(n\\) elementos do conjunto (naturalmente, \\(k&lt;n\\)) e se considerem as sequências, que possam diferir, quer na ordem, quer nos elementos que a compõem, pode ter interesse saber quantas sequências daquele tipo é possível formar.\nEste tipo de sequências são normalmente designadas por arranjos ou permutações-k e podem ser denotadas por \\(P(n,k)\\), podendo ser calculado o número de arranjos possíveis com\n\\[P(n,k)=\\frac{n!}{(n-k)!} \\tag{14.4}\\]\nOutras designações possíveis para este tipo de permutações incluem \\(A_k^n\\), \\(_nP_k\\) ou \\(^nP_k\\).\n\n\n\n\n\n\nExemplo\n\n\n\nNo torneio de futebol dos Jogos Olímpicos de Paris 2024 estavam representados 16 países. De quantas formas possíveis podem ser atribuídas as medalhas de ouro, prata e bronze?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nNeste caso, são selecionados 3 países de um conjunto de 16, ou seja, \\(k=3\\) e \\(n=16\\). Aplicando a Equação 14.4,\n\\[P(16,3)=\\frac{16!}{(16-3)!}=\\frac{16!}{13!}=3360\\]\n\n\n\n\n\nPermutações circulares\nEsta situação surge quando se pretende arranjar um conjunto de objetos em redor de um círculo. Ao contrário do caso linear, abordado no início desta secção, num círculo, qualquer posição pode ser vista como a primeira. Na Figura 14.1 pode verificar aquela situação constatando que os quatro permutações mostradas apenas diferem na orientação do círculo, pois os elementos estão nas mesmas posições relativas, o que faz com que se trate da mesma permutação.\n\n\n\n\n\n\n\n\n\n\nFigura 14.1: Ilustração das permutações circulares\n\n\n\n\n\nNeste caso, se \\(n\\) for o número de elementos a dispor num círculo, o número de permutações pode ser calculado com\n\\[N=(n-1)! \\tag{14.5}\\]\n\n\n\n\n\n\nExemplo\n\n\n\nAdmita agora que se pretende sentar 5 pessoas à volta de uma mesa redonda. De quantas formas possíveis se podem ordenar as 5 pessoas nas 5 cadeiras relativamente umas às outras?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nTrivialmente, aplicando a Equação 14.5, fazendo \\(n=5\\),\n\\[N=(5-1)!=4!=24\\]\n\n\n\n\n\nPermutações com repetição\nAo utilizar permutações, é admitido que não há possibilidade de repetição de elementos no subconjunto. Relaxando esta condição e admitindo a possibilidade de haver repetição de elementos, o problema reduz-se ao caso já abordado na Secção 14.1, ou seja, \\(N=n^k\\). Este tipo de permutações é também designado por arranjos completos.",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Técnicas de Contagem</span>"
    ]
  },
  {
    "objectID": "t080-counting.html#combinações",
    "href": "t080-counting.html#combinações",
    "title": "14  Técnicas de Contagem",
    "section": "14.3 Combinações",
    "text": "14.3 Combinações\nUma combinação é um conceito semelhante à permutação mas a ordem dos \\(k\\) elementos é irrelevante. Isto significa que duas sequências de \\(k\\) elementos que apenas difiram na ordem são a mesma combinação. Por exemplo as sequências de elementos ABC e ACB são a mesma combinação.\nO número de combinações possíveis de \\(n\\) elementos tomados \\(k\\) a \\(k\\) pode ser designado por \\(C^n_k\\). Tomando a Equação 14.3 e constatando que o número de arranjos em cada combinação é \\(k!\\), o número de combinações possíveis pode ser calculado com\n\\[C^n_k=\\frac{P(n,k)}{k!}= \\frac{n!}{k!( n-k)!} \\tag{14.6}\\]\nAlternativamente, as combinações podem ser denotadas por \\(^nC_k\\), \\(_nC_k\\) ou \\(\\binom{n}{k}\\), esta última de uso frequente em textos matemáticos.\n\n\n\n\n\n\nExemplo\n\n\n\nNum torneio de xadrez estão presentes 10 jogadores. Para apurar o vencedor, cada jogador terá de defrontar todos os adversários exatamente uma vez. No total, quantos jogos terá o torneio?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nPara responder à questão é necessário saber quantas combinações de 2 jogadores existem, bastando aplicar a Equação 14.6,\n\\[C^{10}_2=\\frac{10!}{2!( 10-2)!}=45\\]\n\n\n\n\nTriângulo de Pascal\n\n\n\n\n\n\n\nFigura 14.2: Triângulo de Pascal (fonte: Hersfold, Public domain, via Wikimedia Commons)\n\n\n\n\nUma forma expedita de visualizar e calcular combinações, pelo menos para valores de \\(n\\) pequenos, consiste em utilizar o Triângulo de Pascal, assim denominado em homenagem ao matemático Blaise Pascal.\nNo referido triângulo, cada elemento resulta da soma dos dois elementos imediatamente acima. Cada um dos elementos do triângulo corresponde a \\(C^n_k\\), em que \\(n\\) é o número da linha e em que \\(k\\) é o número da coluna, iniciando a numeração em 0. No topo do triângulo está \\(C^0_0=1\\). Na segunda linha, \\(n=1\\), temos \\(C^1_0=1\\) e \\(C^1_1=1\\). Na terceira linha, \\(C^2_0=1\\), \\(C^2_1=2\\) e \\(C^2_2=1\\). E assim sucessivamente para as restantes linhas, conforme se pode visualizar na Figura 14.2.\nA partir do triângulo de Pascal é possível intuir, por exemplo, que\n\\[C^n_k=C^n_{n-k} \\tag{14.7}\\]\nNo R, para calcular o número de combinações, existe a função choose(), por exemplo,\n\n&gt; choose(10, 2)\n[1] 45\n\n\n\nCombinações totais\nCaso se pretenda determinar qual o número total de combinações que se podem formar a partir de um conjunto de \\(n\\) elementos, sendo irrelevante o número de elementos em cada combinação, podendo ser 0, 1, 2, …, ou até mesmo \\(n\\), podemos utilizar\n\\[N=C^n_0+C^n_1+C^n_2+\\cdots+C^n_n=2^n \\tag{14.8}\\]\nComo cada elemento do conjunto pode ou não entrar numa combinação (2 possibilidades) e temos \\(n\\) elementos, usando a regra da multiplicação enunciada acima, o número de possíveis combinações é \\(2^n\\).\nPode notar que a Equação 14.8 corresponde à soma de uma linha no triângulo de Pascal.\n\n\n\n\n\n\nExemplo\n\n\n\nNum sorteio há 4 prémios que podem ser atribuídos a pessoas diferentes, mas havendo a possibilidade de uma pessoa ganhar 1, 2, 3 ou até mesmo os 4 prémios (ou nenhum). De quantas formas possíveis pode uma pessoa ser premiada, isto é, quantas combinações de prémios é possível ganhar?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nA resposta pode ser calculada através da Equação 14.8,\n\\[N=2^4=16\\]\nou, em alternativa,\n\\[N=C^4_0+C^4_1+C^4_2+C^4_3+C^4_4=\n1+\n4+\n6+\n4+\n1\n=16\\]\n\n\n\n\n\nCombinações com repetição\nConsidere-se agora o problema mais complexo em que é possível repetir os elementos que compõem a combinação mas a ordem dos elementos é irrelevante. Considere-se o seguinte exemplo.\n\n\n\n\n\n\nExemplo\n\n\n\nDeterminado dia decidiu tomar um pequeno almoço saudável, composto por 3 peças de fruta donuts. Tem à sua disposição 5 coberturas diferentes e pode escolher os 3 donuts livremente, isto é, pode escolher qualquer combinação de donuts, iguais ou diferentes. Quantas combinações diferentes tem à sua disposição?\n\n\nComece-se por analisar o problema por enumeração. É imediato concluir que há 3 tipos de escolhas:\n\nEscolhas com 3 donuts iguais: 5 possibilidades, uma por cor disponível.\nEscolhas com 3 donuts diferentes: \\(C^5_3=10\\) possibilidades.\nEscolhas com 2 donuts de um tipo e 1 donut diferente: depois de escolhidas as 2 coberturas entre as 5 possíveis, restam 4 coberturas para o donut diferente, logo há \\(5 \\times 4=20\\) possibilidades, ou, alternativamente, \\(P(5,2)\\).\n\nTotalizando os 3 tipos de encomendas, temos \\(5+10+20=35\\) encomendas possíveis.\nEmbora a enumeração seja atrativa para este pequeno exemplo, se o número de possibilidades ou o número de elementos presentes na combinação crescer, a enumeração torna-se impraticável. Como exercício, utilizando a mesma abordagem, determine o número de possibilidades caso decida comer 4 donuts (a resposta correta é 70).\nHaverá alguma expressão genérica para resolver este tipo de problema?\nPara uma visualização alternativa deste problema, comece-se por colocar num diagrama uma estrela para cada um dos 3 donuts a escolher, simplesmente\n\n★★★\n\nSeguidamente, imagine que os donuts são retirados de uma caixa com 5 compartimentos. Necessariamente, para 5 compartimentos, há \\(5-1=4\\) divisórias a separa-los. Designem-se as 5 coberturas por A, B, C, D, E e, por hipótese, quer 2 donuts com a cobertura B e 1 donut com a cobertura E. No diagrama, vamos acrescentar barras para representar as divisórias da referida caixa. O diagrama ficaria\n\n❙★★❙❙❙★\n\nEste diagrama é simples de interpretar:\n\nO número de estrelas à esquerda da primeira barra representa o número de elementos a incluir do primeiro conjunto, neste caso, os donuts com cobertura A (0).\nEntre cada par de barras colocamos um número de estrelas correspondente ao número de elementos a incluir de cada conjunto respetivo, neste caso, 2 elementos do conjunto B e nenhum dos conjuntos C e D.\nFinalmente, à direita da última barra, tantas estrelas quantos os elementos do último conjunto a incluir, neste caso, 1 donut com a cobertura E.\n\nEsta notação é equivalente a utilizar 5 números para indicar quantos elementos de cada conjunto. Neste caso, seria 0|2|0|0|1 ou, simplesmente 02001.\n\n\n\n\n\n\nExercício\n\n\n\nComo ficaria o diagrama caso pretendesse as coberturas A, B e E, ou seja, em notação numérica, 11001?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\n\n★❙★❙❙❙★\n\n\n\n\nA vantagem de utilizar esta notação com estrelas e barras é evidenciar a estrutura do problema. Seja \\(n\\) o número de conjuntos (neste caso, os tipos de coberturas, \\(n=5\\)) e seja \\(k\\) o número de elementos a escolher (neste caso, o número de donuts, \\(k=3\\))\n\nO diagrama terá sempre \\(n+k-1\\) símbolos, ou seja, \\(n-1\\) barras e \\(k\\) estrelas.\nTanto as barras como as estrelas, podem estar em qualquer posição do diagrama.\n\nPara calcular o número possibilidade diferentes podemos calcular o número de combinações para as posições das estrelas:\n\\[N=C^{n+k-1}_{k}=\\frac{(n+k-1)!}{k!(n+k-1-k)!}=\\frac{(n+k-1)!}{k!(n-1)!} \\tag{14.9}\\]\nOu as combinações para a posição das barras:\n\\[N=C^{n+k-1}_{n-1}=\\frac{(n+k-1)!}{(n-1)!(n+k-1-(n-1))!}=\\frac{(n+k-1)!}{k!(n-1)!} \\tag{14.10}\\]\nNote-se que esta igualdade já foi expressa de outra forma na Equação 14.7 relativa ao triângulo de Pascal.\nVoltando ao nosso problema, a resposta será\n\\[N=C^7_3=C^7_4=35\\]\n\n\n\n\n\n\nExercício\n\n\n\nNuma estante existem 3 prateleiras (superior, intermédia e inferior). Pretende-se distribuir 5 livros iguais pelas prateleiras, não havendo restrições quanto ao número de livros por prateleira, isto é, cada prateleira pode receber entre 0 e 5 livros. De quantas formas é possível distribuir os livros pelas prateleiras?\n\n\n\n\n\n\n\n\nResposta\n\n\n\n\n\nEste problema é uma inversão do problema dos donuts analisado nesta secção, pois, neste caso, \\(n=3\\) e \\(k=5\\). Aplicando a Equação 14.9,\n\\[N=C^{3+5-1}_5=C^7_5=21\\]\nAlternativamente, aplicando a Equação 14.10,\n\\[N=C^{3+5-1}_{3-1}=C^7_2=21\\]\n\n\n\n\n\n\n\nDiez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro Statistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen, J., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador, D., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R., Verbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A., & Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for diagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic Reviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística. Verlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting: principles and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). «President» Landon and the 1936 Literary Digest Poll: Were Automobile and Telephone Owners to Blame? Social Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory Statistics. John Wiley & Sons.\n\n\nPorto Editora. (2025). Porto Editora – no Dicionário infopédia da Língua Portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated Development Environment for R. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for Data Science: Import, Tidy, Transform, Visualize, and Model Data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal Species of the World: A Taxonomic and Geographic Reference. Johns Hopkins University Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Técnicas de Contagem</span>"
    ]
  },
  {
    "objectID": "t080-counting.html#footnotes",
    "href": "t080-counting.html#footnotes",
    "title": "14  Técnicas de Contagem",
    "section": "",
    "text": "Para quem não sabe e para quem já não se recorda, \\(n!=n\\times(n-1)\\times(n-1)\\times\\cdots\\times2\\times1\\).↩︎",
    "crumbs": [
      "Tutoriais",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Técnicas de Contagem</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Bibliografia",
    "section": "",
    "text": "Diez, D., Çetinkaya-Rundel, M., & Barr, C. (2019). OpenIntro\nstatistics. OpenIntro, Incorporated. https://www.openintro.org/book/os/\n\n\nDinnes, J., Sharma, P., Berhane, S., Wyk, S. S. van, Nyaaba, N., Domen,\nJ., Taylor, M., Cunningham, J., Davenport, C., Dittrich, S., Emperador,\nD., Hooft, L., Leeflang, M. M. G., McInnes, M. D. F., Spijker, R.,\nVerbakel, Y., J, Takwoingi, Y., Taylor-Phillips, S., Van den Bruel, A.,\n& Deeks, J. J. (2022). Rapid, point‐of‐care antigen tests for\ndiagnosis of SARS‐CoV‐2 infection. Cochrane Database of Systematic\nReviews, 7. https://doi.org/10.1002/14651858.CD013705.pub3\n\n\nGuimarães, R. C., & Cabral, J. S. (2010). Estatística.\nVerlag Dashöfer Portugal.\n\n\nHyndman, R. J., & Athanasopoulos, G. (2021). Forecasting:\nPrinciples and practice (3rd edition). OTexts. https://otexts.com/fpp3/\n\n\nLusinchi, D. (2012). “President” landon and the 1936\nliterary digest poll: Were automobile and telephone owners to blame?\nSocial Science History, 36(1), 23–54. https://doi.org/10.1017/S014555320001035X\n\n\nMann, P. S. (2010). Introductory statistics. John Wiley &\nSons.\n\n\nPorto Editora. (2025). Porto editora – no dicionário infopédia da\nlíngua portuguesa [em linha]. https://www.infopedia.pt/dicionarios/lingua-portuguesa/probabilidade\n\n\nPosit team. (2024). RStudio: Integrated development environment for\nr. Posit Software, PBC. http://www.posit.co/\n\n\nR Core Team. (2024). R: A language and environment for statistical\ncomputing. R Foundation for Statistical Computing. https://www.R-project.org/\n\n\nSapo.pt. (2025). Pergunta do dia. http://www.sapo.pt\n\n\nWickham, H., & Grolemund, G. (2016). R for data science: Import,\ntidy, transform, visualize, and model data. O’Reilly Media. https://r4ds.hadley.nz/\n\n\nWilson, D. E., & Reeder, D. A. M. (2005). Mammal species of the\nworld: A taxonomic and geographic reference. Johns Hopkins\nUniversity Press. https://www.departments.bucknell.edu/biology/resources/msw3/",
    "crumbs": [
      "Bibliografia"
    ]
  }
]